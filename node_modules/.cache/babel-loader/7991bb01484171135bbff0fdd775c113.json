{"ast":null,"code":"import _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/en';\nimport _extends from '@babel/runtime/helpers/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport React__default, { createRef, createElement, Component, PureComponent, Fragment } from 'react';\nimport ReactPlayer from 'react-player';\nimport PropTypes from 'prop-types';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport Carousel, { ModalGateway, Modal as Modal$1 } from 'react-images';\nimport { FileIcon, ImagePreviewer, FilePreviewer, ImageDropzone, FileUploadButton, dataTransferItemsToFiles, dataTransferItemsHaveFiles, LoadingIndicator as LoadingIndicator$1 } from 'react-file-utils';\nimport prettybytes from 'pretty-bytes';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport uuidv4 from 'uuid/v4';\nimport Immutable from 'seamless-immutable';\nimport Visibility from 'visibilityjs';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport anchorme from 'anchorme';\nimport emojiRegex from 'emoji-regex';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport truncate from 'lodash/truncate';\nimport data from 'emoji-mart/data/all.json';\nimport { NimbleEmoji, emojiIndex, Picker } from 'emoji-mart';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport getCaretCoordinates from 'textarea-caret';\nimport CustomEvent from 'custom-event';\nimport Textarea from 'react-textarea-autosize';\nimport uniq from 'lodash/uniq';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport uniqBy from 'lodash.uniqby';\nimport deepequal from 'deep-equal';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nvar Cancel = \"Cancel\";\nvar Delete = \"Delete\";\nvar Delivered = \"Delivered\";\nvar Flag = \"Flag\";\nvar Mute = \"Mute\";\nvar Send = \"Send\";\nvar Thread = \"Thread\";\nvar live = \"live\";\nvar enTranslations = {\n  \"1 reply\": \"1 reply\",\n  Cancel: Cancel,\n  \"Channel Missing\": \"Channel Missing\",\n  \"Connection failure, reconnecting now...\": \"Connection failure, reconnecting now...\",\n  Delete: Delete,\n  Delivered: Delivered,\n  \"Edit Message\": \"Edit Message\",\n  \"Empty message...\": \"Empty message...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"Error adding flag: Either the flag already exist or there is issue with network connection ...\",\n  \"Error connecting to chat, refresh the page to try again.\": \"Error connecting to chat, refresh the page to try again.\",\n  \"Error muting a user ...\": \"Error muting a user ...\",\n  \"Error ¬∑ Unsent\": \"Error ¬∑ Unsent\",\n  \"Error: {{ errorMessage }}\": \"Error: {{ errorMessage }}\",\n  Flag: Flag,\n  \"Message Failed ¬∑ Click to try again\": \"Message Failed ¬∑ Click to try again\",\n  \"Message deleted\": \"Message deleted\",\n  \"Message failed. Click to try again.\": \"Message failed. Click to try again.\",\n  \"Message has been successfully flagged\": \"Message has been successfully flagged\",\n  Mute: Mute,\n  \"New Messages!\": \"New Messages!\",\n  \"Nothing yet...\": \"Nothing yet...\",\n  \"Only visible to you\": \"Only visible to you\",\n  \"Pick your emoji\": \"Pick your emoji\",\n  Send: Send,\n  \"Sending...\": \"Sending...\",\n  \"Start of a new thread\": \"Start of a new thread\",\n  \"This message was deleted...\": \"This message was deleted...\",\n  Thread: Thread,\n  \"Type your message\": \"Type your message\",\n  \"You have no channels currently\": \"You have no channels currently\",\n  live: live,\n  \"this content could not be displayed\": \"this content could not be displayed\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} and {{ moreCount }} more\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} and {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} and {{ secondUser }} are typing...\",\n  \"{{ imageCount }} more\": \"{{ imageCount }} more\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} members\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} replies\",\n  \"{{ user }} has been muted\": \"{{ user }} has been muted\",\n  \"{{ user }} is typing...\": \"{{ user }} is typing...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} online\",\n  \"üèô Attachment...\": \"üèô Attachment...\"\n};\nvar Cancel$1 = \"Annuleer\";\nvar Delete$1 = \"Verwijder\";\nvar Delivered$1 = \"Afgeleverd\";\nvar Flag$1 = \"Markeer\";\nvar Mute$1 = \"Dempen\";\nvar Send$1 = \"Verstuur\";\nvar Thread$1 = \"Draadje\";\nvar live$1 = \"live\";\nvar nlTranslations = {\n  \"1 reply\": \"1 antwoord\",\n  Cancel: Cancel$1,\n  \"Channel Missing\": \"Kanaal niet gevonden\",\n  \"Connection failure, reconnecting now...\": \"Probleem met de verbinding, opnieuw verbinding maken...\",\n  Delete: Delete$1,\n  Delivered: Delivered$1,\n  \"Edit Message\": \"Pas bericht aan\",\n  \"Empty message...\": \"Leeg bericht...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"Fout bij het markeren: of het bericht is al gemarkeerd of er is een probleem met de netwerk verbinding\",\n  \"Error connecting to chat, refresh the page to try again.\": \"Fout bij het verbinden, ververs de pagina om nogmaals te proberen\",\n  \"Error muting a user ...\": \"Fout bij het dempen van de gebruiker\",\n  \"Error ¬∑ Unsent\": \"Error: ¬∑ niet verzonden\",\n  \"Error: {{ errorMessage }}\": \"Error: {{ errorMessage }}\",\n  Flag: Flag$1,\n  \"Message Failed ¬∑ Click to try again\": \"Bericht mislukt, klik om het nogmaals te proberen\",\n  \"Message deleted\": \"Bericht verwijderd\",\n  \"Message failed. Click to try again.\": \"Bericht mislukt, klik om het nogmaals te proberen\",\n  \"Message has been successfully flagged\": \"Bericht is succesvol gemarkeerd\",\n  Mute: Mute$1,\n  \"New Messages!\": \"Nieuwe Berichten!\",\n  \"Nothing yet...\": \"Nog niets ...\",\n  \"Only visible to you\": \"Alleen zichtbaar voor jou\",\n  \"Pick your emoji\": \"Kies je emoji\",\n  Send: Send$1,\n  \"Sending...\": \"Aan het verzenden...\",\n  \"Start of a new thread\": \"Begin van een nieuwe draadje\",\n  \"This message was deleted...\": \"Dit bericht was verwijderd\",\n  Thread: Thread$1,\n  \"Type your message\": \"Type je bericht\",\n  \"You have no channels currently\": \"Er zijn geen chats beschikbaar\",\n  live: live$1,\n  \"this content could not be displayed\": \"Deze inhoud kan niet weergegeven worden\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} en {{ lastUser }} zijn aan het typen ...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} en {{ moreCount }} meer\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} en {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} en {{ secondUser }} zijn aan het typen ...\",\n  \"{{ imageCount }} more\": \"+{{ imageCount }}\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} deelnemers\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} antwoorden\",\n  \"{{ user }} has been muted\": \"{{ user }} is gedempt\",\n  \"{{ user }} is typing...\": \"{{ user }} is aan het typen...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} online\",\n  \"üèô Attachment...\": \"üèô Bijlage...\"\n};\nvar Cancel$2 = \"–û—Ç–º–µ–Ω–∞\";\nvar Delete$2 = \"–£–¥–∞–ª–∏—Ç—å\";\nvar Delivered$2 = \"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ\";\nvar Flag$2 = \"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è\";\nvar Mute$2 = \"–û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\";\nvar Send$2 = \"–û—Ç–ø—Ä–∞–≤–∏—Ç—å\";\nvar Thread$2 = \"–í–µ—Ç–∫–∞\";\nvar live$2 = \"–í –ø—Ä—è–º–æ–º —ç—Ñ–∏—Ä–µ\";\nvar ruTranslations = {\n  \"1 reply\": \"1 –æ—Ç–≤–µ—Ç\",\n  Cancel: Cancel$2,\n  \"Channel Missing\": \"–ö–∞–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω\",\n  \"Connection failure, reconnecting now...\": \"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...\",\n  Delete: Delete$2,\n  Delivered: Delivered$2,\n  \"Edit Message\": \"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ\",\n  \"Empty message...\": \"–ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–∞: —Ñ–ª–∞–≥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏...\",\n  \"Error connecting to chat, refresh the page to try again.\": \"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —á–∞—Ç—É, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞.\",\n  \"Error muting a user ...\": \"–û—à–∏–±–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...\",\n  \"Error ¬∑ Unsent\": \"–û—à–∏–±–∫–∞ ¬∑ –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ\",\n  \"Error: {{ errorMessage }}\": \"–û—à–∏–±–∫–∞: {{ errorMessage }}\",\n  Flag: Flag$2,\n  \"Message Failed ¬∑ Click to try again\": \"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è ¬∑ –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å\",\n  \"Message deleted\": \"–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ\",\n  \"Message failed. Click to try again.\": \"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è ¬∑ –ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å\",\n  \"Message has been successfully flagged\": \"–ñ–∞–ª–æ–±–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–∞ –ø—Ä–∏–Ω—è—Ç–∞\",\n  Mute: Mute$2,\n  \"New Messages!\": \"–ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è!\",\n  \"Nothing yet...\": \"–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...\",\n  \"Only visible to you\": \"–¢–æ–ª—å–∫–æ –≤–∏–¥–Ω–æ –¥–ª—è –≤–∞—Å\",\n  \"Pick your emoji\": \"–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π emoji\",\n  Send: Send$2,\n  \"Sending...\": \"–û—Ç–ø—Ä–∞–≤–∫–∞...\",\n  \"Start of a new thread\": \"–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏\",\n  \"This message was deleted...\": \"–°–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ...\",\n  Thread: Thread$2,\n  \"Type your message\": \"–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\",\n  \"You have no channels currently\": \"–£ –≤–∞—Å –Ω–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\",\n  live: live$2,\n  \"this content could not be displayed\": \"–≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} –∏ {{ lastUser }} –ø–∏—à—É—Ç...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} –∏ {{ moreCount }} –µ—â–µ\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} –∏ {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} –∏ {{ secondUser }} –ø–∏—à—É—Ç...\",\n  \"{{ imageCount }} more\": \"–ï—â—ë {{ imageCount }}\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} —á–ª–µ–Ω—ã\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} –æ—Ç–≤–µ—Ç–æ–≤\",\n  \"{{ user }} has been muted\": \"{{ user }} has been muted\",\n  \"{{ user }} is typing...\": \"{{ user }} –ø–∏—à–µ—Ç...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} –≤ —Å–µ—Ç–∏\",\n  \"üèô Attachment...\": \"üèô –í–ª–æ–∂–µ–Ω–∏–µ...\"\n};\nvar Cancel$3 = \"ƒ∞ptal\";\nvar Delete$3 = \"Sil\";\nvar Delivered$3 = \"ƒ∞letildi\";\nvar Flag$3 = \"Bayrak\";\nvar Mute$3 = \"Sessiz\";\nvar Send$3 = \"G√∂nder\";\nvar Thread$3 = \"Konu\";\nvar live$3 = \"canlƒ±\";\nvar trTranslations = {\n  \"1 reply\": \"1 cevap\",\n  Cancel: Cancel$3,\n  \"Channel Missing\": \"Kanal bulunamƒ±yor\",\n  \"Connection failure, reconnecting now...\": \"Baƒülantƒ± hatasƒ±, tekrar baƒülanƒ±lƒ±yor...\",\n  Delete: Delete$3,\n  Delivered: Delivered$3,\n  \"Edit Message\": \"Mesajƒ± D√ºzenle\",\n  \"Empty message...\": \"Bo≈ü mesaj...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"Bayraklama hatasƒ±: Bayrak zaten var veya baƒülantƒ± sorunlu\",\n  \"Error connecting to chat, refresh the page to try again.\": \"Baƒülantƒ± hatasƒ±, sayfayƒ± yenileyip tekrar deneyin.\",\n  \"Error muting a user ...\": \"Kullanƒ±cƒ±yƒ± sessize alƒ±rken hata olu≈ütu ...\",\n  \"Error ¬∑ Unsent\": \"Hata ¬∑ G√∂nderilemedi\",\n  \"Error: {{ errorMessage }}\": \"Hata: {{ errorMessage }}\",\n  Flag: Flag$3,\n  \"Message Failed ¬∑ Click to try again\": \"Mesaj Ba≈üarƒ±sƒ±z ¬∑ Tekrar denemek i√ßin tƒ±klayƒ±n\",\n  \"Message deleted\": \"Mesaj silindi\",\n  \"Message failed. Click to try again.\": \"Mesaj ba≈üarƒ±sƒ±z oldu. Tekrar denemek i√ßin tƒ±klayƒ±n\",\n  \"Message has been successfully flagged\": \"Mesaj ba≈üarƒ±yla bayraklandƒ±\",\n  Mute: Mute$3,\n  \"New Messages!\": \"Yeni Mesajlar!\",\n  \"Nothing yet...\": \"≈ûimdilik hi√ßbir ≈üey...\",\n  \"Only visible to you\": \"Sadece size g√∂r√ºn√ºr\",\n  \"Pick your emoji\": \"Emoji se√ßin\",\n  Send: Send$3,\n  \"Sending...\": \"G√∂nderiliyor...\",\n  \"Start of a new thread\": \"Yeni konunun ba≈üƒ±\",\n  \"This message was deleted...\": \"Bu mesaj silindi\",\n  Thread: Thread$3,\n  \"Type your message\": \"Mesajƒ±nƒ±zƒ± yazƒ±n\",\n  \"You have no channels currently\": \"Hen√ºz kanalƒ±nƒ±z yok\",\n  live: live$3,\n  \"this content could not be displayed\": \"bu i√ßerik g√∂sterilemiyor\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} ve {{ lastUser }} yazƒ±yor...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} ve {{ moreCount }} daha\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} ve {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} ve {{ secondUser }} yazƒ±yor...\",\n  \"{{ imageCount }} more\": \"{{ imageCount }} adet daha\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} √ºyeler\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} cevaplar\",\n  \"{{ user }} has been muted\": \"{{ user }} sessize alƒ±ndƒ±\",\n  \"{{ user }} is typing...\": \"{{ user }} yazƒ±yor...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} √ßevrimi√ßi\",\n  \"üèô Attachment...\": \"üèô Ek...\"\n};\nvar Cancel$4 = \"Annuler\";\nvar Delete$4 = \"Supprimer\";\nvar Delivered$4 = \"Publi√©\";\nvar Flag$4 = \"Signaler\";\nvar Mute$4 = \"Muet\";\nvar Send$4 = \"Envoyer\";\nvar Thread$4 = \"Fil de discussion\";\nvar live$4 = \"en direct\";\nvar frTranslations = {\n  \"1 reply\": \"1 r√©ponse\",\n  Cancel: Cancel$4,\n  \"Channel Missing\": \"Canal Manquant\",\n  \"Connection failure, reconnecting now...\": \"√âchec de la connexion, reconnexion en cours...\",\n  Delete: Delete$4,\n  Delivered: Delivered$4,\n  \"Edit Message\": \"√âditer un message\",\n  \"Empty message...\": \"Message vide...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"Erreur d'ajout du flag : le flag existe d√©j√† ou vous rencontrez un probl√®me de connexion au r√©seau ...\",\n  \"Error connecting to chat, refresh the page to try again.\": \"Erreur de connexion au chat, rafra√Æchissez la page pour r√©essayer.\",\n  \"Error muting a user ...\": \"Erreur de mise en sourdine d'un utilisateur ...\",\n  \"Error ¬∑ Unsent\": \"Erreur - Non envoy√©\",\n  \"Error: {{ errorMessage }}\": \"Erreur : {{ errorMessage}}\",\n  Flag: Flag$4,\n  \"Message Failed ¬∑ Click to try again\": \"√âchec de l'envoi du message - Cliquez pour r√©essayer\",\n  \"Message deleted\": \"Message supprim√©\",\n  \"Message failed. Click to try again.\": \"√âchec de l'envoi du message - Cliquez pour r√©essayer\",\n  \"Message has been successfully flagged\": \"Le message a √©t√© signal√© avec succ√®s\",\n  Mute: Mute$4,\n  \"New Messages!\": \"Nouveaux Messages!\",\n  \"Nothing yet...\": \"Aucun message...\",\n  \"Only visible to you\": \"Visible uniquement pour vous\",\n  \"Pick your emoji\": \"Choisissez votre emoji\",\n  Send: Send$4,\n  \"Sending...\": \"Envoi en cours...\",\n  \"Start of a new thread\": \"D√©but d'un nouveau fil de discussion\",\n  \"This message was deleted...\": \"Ce message a √©t√© supprim√©...\",\n  Thread: Thread$4,\n  \"Type your message\": \"Saisissez votre message\",\n  \"You have no channels currently\": \"Vous n'avez actuellement aucun canal\",\n  live: live$4,\n  \"this content could not be displayed\": \"ce contenu n'a pu √™tre affich√©\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} et {{ lastUser }} sont en train d'√©crire...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} et {{ moreCount }} autres\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} et {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} et {{ secondUser }} sont en train d'√©crire...\",\n  \"{{ imageCount }} more\": \"{{ imageCount }} suppl√©mentaires\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} membres\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} r√©ponses\",\n  \"{{ user }} has been muted\": \"{{{utilisateur}} a √©t√© mis en sourdine\",\n  \"{{ user }} is typing...\": \"{{ user }} est en train d'√©crire...\",\n  \"{{ watcherCount }} online\": \"{{{watcherCount}} en ligne\",\n  \"üèô Attachment...\": \"üèô Pi√®ce jointe...\"\n};\nvar Cancel$5 = \"‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç\";\nvar Delete$5 = \"‡§°‡§ø‡§≤‡•Ä‡§ü\";\nvar Delivered$5 = \"‡§™‡§π‡•Å‡§Ç‡§ö ‡§ó‡§Ø‡§æ\";\nvar Flag$5 = \"‡§´‡•ç‡§≤‡•à‡§ó ‡§ï‡§∞‡•á\";\nvar Mute$5 = \"‡§Æ‡•ç‡§Ø‡•Ç‡§ü ‡§ï‡§∞‡•á\";\nvar Send$5 = \"‡§≠‡•á‡§ú‡•á\";\nvar Thread$5 = \"‡§∞‡§ø‡§™‡•ç‡§≤‡§æ‡§à ‡§•‡•ç‡§∞‡•á‡§°\";\nvar live$5 = \"‡§≤‡§æ‡§á‡§µ\";\nvar hiTranslations = {\n  \"1 reply\": \"1 ‡§∞‡§ø‡§™‡•ç‡§≤‡§æ‡§à\",\n  Cancel: Cancel$5,\n  \"Channel Missing\": \"‡§ö‡•à‡§®‡§≤ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à\",\n  \"Connection failure, reconnecting now...\": \"‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ, ‡§Ö‡§¨ ‡§™‡•Å‡§®‡§É ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à ...\",\n  Delete: Delete$5,\n  Delivered: Delivered$5,\n  \"Edit Message\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§ï‡§∞‡•á\",\n  \"Empty message...\": \"‡§ñ‡§æ‡§≤‡•Ä ‡§∏‡§Ç‡§¶‡•á‡§∂ ...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"‡•û‡•à‡§≤: ‡§Ø‡§æ ‡§§‡•ã ‡§Ø‡§π ‡§Æ‡•à‡§∏‡•á‡§ú ‡§ï‡•á ‡§ä‡§™‡§∞ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§´‡•ç‡§≤‡•à‡§ó ‡§π‡•à ‡§Ø‡§æ ‡§§‡•ã ‡§Ü‡§™‡§ï‡•á ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§π‡•à\",\n  \"Error connecting to chat, refresh the page to try again.\": \"‡§ö‡•à‡§ü ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø, ‡§™‡•á‡§ú ‡§ï‡•ã ‡§∞‡§ø‡§´‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç\",\n  \"Error muting a user ...\": \"‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•ã ‡§Æ‡•ç‡§Ø‡•Ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§´‡•á‡§≤ ‡§π‡•Å‡§Ü\",\n  \"Error ¬∑ Unsent\": \"‡§´‡•á‡§≤\",\n  \"Error: {{ errorMessage }}\": \"‡§´‡•á‡§≤: {{ errorMessage }}\",\n  Flag: Flag$5,\n  \"Message Failed ¬∑ Click to try again\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡•û‡•à‡§≤ - ‡§™‡•Å‡§®‡§É ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç\",\n  \"Message deleted\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ\",\n  \"Message failed. Click to try again.\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡•û‡•à‡§≤ - ‡§™‡•Å‡§®‡§É ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç\",\n  \"Message has been successfully flagged\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡§ï‡•ã ‡§´‡•ç‡§≤‡•à‡§ó ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à\",\n  Mute: Mute$5,\n  \"New Messages!\": \"‡§®‡§è ‡§Æ‡•à‡§∏‡•á‡§ú!\",\n  \"Nothing yet...\": \"‡§ï‡•ã‡§à ‡§Æ‡•à‡§∏‡•á‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à\",\n  \"Only visible to you\": \"‡§∏‡§ø‡§∞‡•ç‡§´ ‡§Ü‡§™‡§ï‡•ã ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á ‡§∞‡§π‡§æ ‡§π‡•à\",\n  \"Pick your emoji\": \"‡§á‡§Æ‡•ã‡§ú‡•Ä ‡§ö‡•Ç‡§∏ ‡§ï‡§∞‡•á\",\n  Send: Send$5,\n  \"Sending...\": \"‡§≠‡•á‡§ú‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à\",\n  \"Start of a new thread\": \"‡§è‡§ï ‡§®‡§è ‡§•‡•ç‡§∞‡•á‡§° ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§\",\n  \"This message was deleted...\": \"‡§Æ‡•à‡§∏‡•á‡§ú ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ\",\n  Thread: Thread$5,\n  \"Type your message\": \"‡§Ö‡§™‡§®‡§æ ‡§Æ‡•à‡§∏‡•á‡§ú ‡§≤‡§ø‡§ñ‡•á\",\n  \"You have no channels currently\": \"‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ ‡§ï‡•ã‡§à ‡§ö‡•à‡§®‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à\",\n  live: live$5,\n  \"this content could not be displayed\": \"‡§Ø‡§π ‡§ï‡•â‡§®‡•ç‡§ü‡•á‡§Ç‡§ü ‡§≤‡•ã‡§° ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} ‡§î‡§∞ {{ secondUser }} ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} ‡§î‡§∞ {{ moreCount }} ‡§î‡§∞\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} ‡§î‡§∞ {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} ‡§î‡§∞ {{ secondUser }} ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...\",\n  \"{{ imageCount }} more\": \"{{ imageCount }} ‡§î‡§∞\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} ‡§Æ‡•á‡§Ç‡§¨‡§∞‡•ç‡§∏\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} ‡§∞‡§ø‡§™‡•ç‡§≤‡§æ‡§à\",\n  \"{{ user }} has been muted\": \"{{ user }} ‡§ï‡•ã ‡§Æ‡•ç‡§Ø‡•Ç‡§ü ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à\",\n  \"{{ user }} is typing...\": \"{{ user }} ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} online\",\n  \"üèô Attachment...\": \"üèô ‡§Ö‡§ü‡•à‡§ö‡§Æ‡•á‡§Ç‡§ü\"\n};\nvar Cancel$6 = \"Annulla\";\nvar Delete$6 = \"Cancella\";\nvar Delivered$6 = \"Consegnato\";\nvar Flag$6 = \"Segnala\";\nvar Mute$6 = \"Silenzia\";\nvar Send$6 = \"Invia\";\nvar Thread$6 = \"Thread\";\nvar live$6 = \"live\";\nvar itTranslations = {\n  \"1 reply\": \"Una risposta\",\n  Cancel: Cancel$6,\n  \"Channel Missing\": \"Il canale non esiste\",\n  \"Connection failure, reconnecting now...\": \"Connessione fallitta, riconnessione in corso...\",\n  Delete: Delete$6,\n  Delivered: Delivered$6,\n  \"Edit Message\": \"Modifica messaggio\",\n  \"Empty message...\": \"Message vuoto...\",\n  \"Error adding flag: Either the flag already exist or there is issue with network connection ...\": \"Errore durante la segnalazione: la segnalazione esiste gi√° o c'√© un problema di connessione ...\",\n  \"Error connecting to chat, refresh the page to try again.\": \"Errore di connessione alla chat, aggiorna la pagina per riprovare\",\n  \"Error muting a user ...\": \"Errore silenziando un utente ...\",\n  \"Error ¬∑ Unsent\": \"Errore ¬∑ Non inviato\",\n  \"Error: {{ errorMessage }}\": \"Errore: {{ errorMessage }}\",\n  Flag: Flag$6,\n  \"Message Failed ¬∑ Click to try again\": \"Invio messaggio fallito ¬∑ Clicca per riprovare\",\n  \"Message deleted\": \"Messaggio cancellato\",\n  \"Message failed. Click to try again.\": \"Invio messaggio fallito. Clicca per riprovare.\",\n  \"Message has been successfully flagged\": \"Il messaggio √© stato segnalato con successo\",\n  Mute: Mute$6,\n  \"New Messages!\": \"Nuovo messaggio!\",\n  \"Nothing yet...\": \"Ancora niente...\",\n  \"Only visible to you\": \"Visibile soltanto da te\",\n  \"Pick your emoji\": \"Scegli la tua emoji\",\n  Send: Send$6,\n  \"Sending...\": \"Invio in corso...\",\n  \"Start of a new thread\": \"Inizia un nuovo thread\",\n  \"This message was deleted...\": \"Questo messaggio √© stato cancellato\",\n  Thread: Thread$6,\n  \"Type your message\": \"Scrivi il tuo messaggio\",\n  \"You have no channels currently\": \"Al momento non sono presenti canali\",\n  live: live$6,\n  \"this content could not be displayed\": \"questo contenuto non pu√≥ essere mostrato\",\n  \"{{ commaSeparatedUsers }} and {{ lastUser }} are typing...\": \"{{ commaSeparatedUsers }} e {{ lastUser }} stanno scrivendo...\",\n  \"{{ commaSeparatedUsers }} and {{ moreCount }} more\": \"{{ commaSeparatedUsers }} e altri {{ moreCount }}\",\n  \"{{ firstUser }} and {{ secondUser }}\": \"{{ firstUser }} e {{ secondUser }}\",\n  \"{{ firstUser }} and {{ secondUser }} are typing...\": \"{{ firstUser }} e {{ secondUser }} stanno scrivendo...\",\n  \"{{ imageCount }} more\": \"+ {{ imageCount }}\",\n  \"{{ memberCount }} members\": \"{{ memberCount }} membri\",\n  \"{{ replyCount }} replies\": \"{{ replyCount }} risposte\",\n  \"{{ user }} has been muted\": \"{{ user }} √© stato silenziato\",\n  \"{{ user }} is typing...\": \"{{ user }} sta scrivendo...\",\n  \"{{ watcherCount }} online\": \"{{ watcherCount }} online\",\n  \"üèô Attachment...\": \"üèô Allegato...\"\n};\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar defaultNS = 'translation';\nvar defaultLng = 'en';\nDayjs.extend(updateLocale);\nDayjs.updateLocale('nl', {\n  calendar: {\n    sameDay: '[vandaag om] LT',\n    nextDay: '[morgen om] LT',\n    nextWeek: 'dddd [om] LT',\n    lastDay: '[gisteren om] LT',\n    lastWeek: '[afgelopen] dddd [om] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('it', {\n  calendar: {\n    sameDay: '[Oggi alle] LT',\n    nextDay: '[Domani alle] LT',\n    nextWeek: 'dddd [alle] LT',\n    lastDay: '[Ieri alle] LT',\n    lastWeek: '[lo scorso] dddd [alle] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('hi', {\n  calendar: {\n    sameDay: '[‡§Ü‡§ú] LT',\n    nextDay: '[‡§ï‡§≤] LT',\n    nextWeek: 'dddd, LT',\n    lastDay: '[‡§ï‡§≤] LT',\n    lastWeek: '[‡§™‡§ø‡§õ‡§≤‡•á] dddd, LT',\n    sameElse: 'L'\n  },\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n  meridiemParse: /‡§∞‡§æ‡§§|‡§∏‡•Å‡§¨‡§π|‡§¶‡•ã‡§™‡§π‡§∞|‡§∂‡§æ‡§Æ/,\n\n  meridiemHour(hour, meridiem) {\n    if (hour === 12) {\n      hour = 0;\n    }\n\n    if (meridiem === '‡§∞‡§æ‡§§') {\n      return hour < 4 ? hour : hour + 12;\n    } else if (meridiem === '‡§∏‡•Å‡§¨‡§π') {\n      return hour;\n    } else if (meridiem === '‡§¶‡•ã‡§™‡§π‡§∞') {\n      return hour >= 10 ? hour : hour + 12;\n    } else if (meridiem === '‡§∂‡§æ‡§Æ') {\n      return hour + 12;\n    }\n  },\n\n  meridiem(hour) {\n    if (hour < 4) {\n      return '‡§∞‡§æ‡§§';\n    } else if (hour < 10) {\n      return '‡§∏‡•Å‡§¨‡§π';\n    } else if (hour < 17) {\n      return '‡§¶‡•ã‡§™‡§π‡§∞';\n    } else if (hour < 20) {\n      return '‡§∂‡§æ‡§Æ';\n    } else {\n      return '‡§∞‡§æ‡§§';\n    }\n  }\n\n});\nDayjs.updateLocale('fr', {\n  calendar: {\n    sameDay: '[Aujourd‚Äôhui √†] LT',\n    nextDay: '[Demain √†] LT',\n    nextWeek: 'dddd [√†] LT',\n    lastDay: '[Hier √†] LT',\n    lastWeek: 'dddd [dernier √†] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('tr', {\n  calendar: {\n    sameDay: '[bug√ºn saat] LT',\n    nextDay: '[yarƒ±n saat] LT',\n    nextWeek: '[gelecek] dddd [saat] LT',\n    lastDay: '[d√ºn] LT',\n    lastWeek: '[ge√ßen] dddd [saat] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ru', {\n  calendar: {\n    sameDay: '[–°–µ–≥–æ–¥–Ω—è, –≤] LT',\n    nextDay: '[–ó–∞–≤—Ç—Ä–∞, –≤] LT',\n    lastDay: '[–í—á–µ—Ä–∞, –≤] LT'\n  }\n});\nvar en_locale = {\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_')\n};\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related translations.\n * Instance of this class should be provided to Chat component to handle translations.\n * Stream provides following list of in-built translations:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': '‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä ‡§®‡§æ‡§π‡•Ä  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} ‡§Ü‡§£‡§ø {{ secondUser }} ‡§ü‡•Ä‡§™‡•Ä ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á‡§§ ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime translations\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': '‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä ‡§®‡§æ‡§π‡•Ä  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} ‡§Ü‡§£‡§ø {{ secondUser }} ‡§ü‡•Ä‡§™‡•Ä ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á‡§§ ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream compoments, you can set `disableDateTimeTranslations` to true.\n *\n */\n\nvar defaultStreami18nOptions = {\n  language: 'en',\n  disableDateTimeTranslations: false,\n  debug: false,\n  logger: function logger(msg) {\n    return console.warn(msg);\n  },\n  dayjsLocaleConfigForLanguage: null,\n  DateTimeParser: Dayjs\n};\n\nvar Streami18n = /*#__PURE__*/function () {\n  /**\n   * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n   * when user calls registerTranslation() function. So intead we will store the locale configs\n   * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n   * with moment, when setLanguage is called.\n   * */\n\n  /**\n   * Contructor accepts following options:\n   *  - language (String) default: 'en'\n   *    Language code e.g., en, tr\n   *\n   *  - translationsForLanguage (object)\n   *    Translations object. Please check src/i18n/en.json for example.\n   *\n   *  - disableDateTimeTranslations (boolean) default: false\n   *    Disable translations for datetimes\n   *\n   *  - debug (boolean) default: false\n   *    Enable debug mode in internal i18n class\n   *\n   *  - logger (function) default: () => {}\n   *    Logger function to log warnings/errors from this class\n   *\n   *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n   *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n   *    corresponding to language (param)\n   *\n   *  - DateTimeParser (function) Moment or Dayjs instance/function.\n   *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n   *\n   * @param {*} options\n   */\n  function Streami18n() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Streami18n);\n\n    _defineProperty(this, \"i18nInstance\", i18n.createInstance());\n\n    _defineProperty(this, \"Dayjs\", null);\n\n    _defineProperty(this, \"setLanguageCallback\", function () {\n      return null;\n    });\n\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"t\", null);\n\n    _defineProperty(this, \"tDateTimeParser\", null);\n\n    _defineProperty(this, \"translations\", {\n      en: {\n        [defaultNS]: enTranslations\n      },\n      nl: {\n        [defaultNS]: nlTranslations\n      },\n      ru: {\n        [defaultNS]: ruTranslations\n      },\n      tr: {\n        [defaultNS]: trTranslations\n      },\n      fr: {\n        [defaultNS]: frTranslations\n      },\n      hi: {\n        [defaultNS]: hiTranslations\n      },\n      it: {\n        [defaultNS]: itTranslations\n      }\n    });\n\n    _defineProperty(this, \"dayjsLocales\", {});\n\n    _defineProperty(this, \"localeExists\", function (language) {\n      if (_this.isCustomDateTimeParser) return true;\n      return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n    });\n\n    _defineProperty(this, \"validateCurrentLanguage\", function () {\n      var availableLanguages = Object.keys(_this.translations);\n\n      if (availableLanguages.indexOf(_this.currentLanguage) === -1) {\n        _this.logger(\"Streami18n: '\".concat(_this.currentLanguage, \"' language is not registered.\") + \" Please make sure to call streami18n.registerTranslation('\".concat(_this.currentLanguage, \"', {...}) or \") + \"use one the built-in supported languages - \".concat(_this.getAvailableLanguages()));\n\n        _this.currentLanguage = defaultLng;\n      }\n    });\n\n    _defineProperty(this, \"geti18Instance\", function () {\n      return _this.i18nInstance;\n    });\n\n    _defineProperty(this, \"getAvailableLanguages\", function () {\n      return Object.keys(_this.translations);\n    });\n\n    _defineProperty(this, \"getTranslations\", function () {\n      return _this.translations;\n    });\n\n    var finalOptions = _objectSpread({}, defaultStreami18nOptions, {}, options); // Prepare the i18next configuration.\n\n\n    this.logger = finalOptions.logger;\n    this.currentLanguage = finalOptions.language;\n    this.DateTimeParser = finalOptions.DateTimeParser;\n\n    try {\n      // This is a shallow check to see if given parser is instance of Dayjs.\n      // For some reason Dayjs.isDayjs(this.DateTimeParser()) doesn't work.\n      if (this.DateTimeParser && this.DateTimeParser.extend) {\n        this.DateTimeParser.extend(LocalizedFormat);\n        this.DateTimeParser.extend(calendar);\n        this.DateTimeParser.extend(localeData);\n        this.DateTimeParser.extend(relativeTime);\n      }\n    } catch (error) {\n      throw Error(\"Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins\", error);\n    }\n\n    this.isCustomDateTimeParser = !!options.DateTimeParser;\n    var translationsForLanguage = finalOptions.translationsForLanguage;\n\n    if (translationsForLanguage) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: translationsForLanguage\n      };\n    } // If translations don't exist for given language, then set it as empty object.\n\n\n    if (!this.translations[this.currentLanguage]) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: {}\n      };\n    }\n\n    this.i18nextConfig = {\n      nsSeparator: false,\n      keySeparator: false,\n      fallbackLng: false,\n      debug: finalOptions.debug,\n      lng: this.currentLanguage,\n      interpolation: {\n        escapeValue: false\n      },\n      parseMissingKeyHandler: function parseMissingKeyHandler(key) {\n        _this.logger(\"Streami18n: Missing translation for key: \".concat(key));\n\n        return key;\n      }\n    };\n    this.validateCurrentLanguage(this.currentLanguage);\n    var dayjsLocaleConfigForLanguage = finalOptions.dayjsLocaleConfigForLanguage;\n\n    if (dayjsLocaleConfigForLanguage) {\n      this.addOrUpdateLocale(this.currentLanguage, _objectSpread({}, dayjsLocaleConfigForLanguage));\n    } else if (!this.localeExists(this.currentLanguage)) {\n      this.logger(\"Streami18n: Streami18n(...) - Locale config for \".concat(this.currentLanguage, \" does not exist in momentjs.\") + \"Please import the locale file using \\\"import 'moment/locale/\".concat(this.currentLanguage, \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n    }\n\n    this.tDateTimeParser = function (timestamp) {\n      if (finalOptions.disableDateTimeTranslations || !_this.localeExists(_this.currentLanguage)) {\n        return _this.DateTimeParser(timestamp).locale(defaultLng);\n      }\n\n      return _this.DateTimeParser(timestamp).locale(_this.currentLanguage);\n    };\n  }\n  /**\n   * Initializes the i18next instance with configuration (which enables natural language as default keys)\n   */\n\n\n  _createClass(Streami18n, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.validateCurrentLanguage();\n                _context.prev = 1;\n                _context.next = 4;\n                return this.i18nInstance.init(_objectSpread({}, this.i18nextConfig, {\n                  resources: this.translations,\n                  lng: this.currentLanguage\n                }));\n\n              case 4:\n                this.t = _context.sent;\n                this.initialized = true;\n                return _context.abrupt(\"return\", {\n                  t: this.t,\n                  tDateTimeParser: this.tDateTimeParser\n                });\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                this.logger(\"Something went wrong with init:\", _context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 9]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"getTranslators\",\n\n    /**\n     * Returns current version translator function.\n     */\n    value: function () {\n      var _getTranslators = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.initialized) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                if (this.dayjsLocales[this.currentLanguage]) {\n                  this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n                }\n\n                _context2.next = 4;\n                return this.init();\n\n              case 4:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 7:\n                return _context2.abrupt(\"return\", {\n                  t: this.t,\n                  tDateTimeParser: this.tDateTimeParser\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getTranslators() {\n        return _getTranslators.apply(this, arguments);\n      }\n\n      return getTranslators;\n    }()\n    /**\n     * Register translation\n     *\n     * @param {*} language\n     * @param {*} translation\n     * @param {*} customDayjsLocale\n     */\n\n  }, {\n    key: \"registerTranslation\",\n    value: function registerTranslation(language, translation, customDayjsLocale) {\n      if (!translation) {\n        this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation\");\n        return;\n      }\n\n      if (!this.translations[language]) {\n        this.translations[language] = {\n          [defaultNS]: translation\n        };\n      } else {\n        this.translations[language][defaultNS] = translation;\n      }\n\n      if (customDayjsLocale) {\n        this.dayjsLocales[language] = _objectSpread({}, customDayjsLocale);\n      } else if (!this.localeExists(language)) {\n        this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) - \" + \"Locale config for \".concat(language, \" does not exist in Dayjs.\") + \"Please import the locale file using \\\"import 'dayjs/locale/\".concat(language, \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n      }\n\n      if (this.initialized) {\n        this.i18nInstance.addResources(language, defaultNS, translation);\n      }\n    }\n  }, {\n    key: \"addOrUpdateLocale\",\n    value: function addOrUpdateLocale(key, config) {\n      if (this.localeExists(key)) {\n        Dayjs.updateLocale(key, _objectSpread({}, config));\n      } else {\n        // Merging the custom locale config with en config, so missing keys can default to english.\n        Dayjs.locale(_objectSpread({\n          name: key\n        }, _objectSpread({}, en_locale, {}, config)), null, true);\n      }\n    }\n    /**\n     * Changes the language.\n     * @param {*} language\n     */\n\n  }, {\n    key: \"setLanguage\",\n    value: function () {\n      var _setLanguage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(language) {\n        var t;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.currentLanguage = language;\n\n                if (this.initialized) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                _context3.prev = 3;\n                _context3.next = 6;\n                return this.i18nInstance.changeLanguage(language);\n\n              case 6:\n                t = _context3.sent;\n\n                if (this.dayjsLocales[language]) {\n                  this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n                }\n\n                this.setLanguageCallback(t);\n                return _context3.abrupt(\"return\", t);\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](3);\n                this.logger(\"Failed to set language:\", _context3.t0);\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[3, 12]]);\n      }));\n\n      function setLanguage(_x) {\n        return _setLanguage.apply(this, arguments);\n      }\n\n      return setLanguage;\n    }()\n    /**\n     *\n     * @param {*} callback\n     */\n\n  }, {\n    key: \"registerSetLanguageCallback\",\n    value: function registerSetLanguageCallback(callback) {\n      this.setLanguageCallback = callback;\n    }\n  }]);\n\n  return Streami18n;\n}();\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * SafeAnchor - In all ways similar to a regular anchor tag.\n * The difference is that it sanitizes the href value and prevents XSS\n * @augments {React.PureComponent<React.DetailedHTMLProps<React.AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>>}\n */\n\n\nvar SafeAnchor = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(SafeAnchor, _React$PureComponent);\n\n  var _super = _createSuper(SafeAnchor);\n\n  function SafeAnchor() {\n    _classCallCheck(this, SafeAnchor);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SafeAnchor, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.href) return;\n      var href = sanitizeUrl(this.props.href);\n      return /*#__PURE__*/React__default.createElement(\"a\", _extends({}, this.props, {\n        href: href\n      }), this.props.children);\n    }\n  }]);\n\n  return SafeAnchor;\n}(React__default.PureComponent);\n\nvar giphyLogo = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAkCAYAAAB/up84AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABVhJREFUeNrsW6GS20AMdToGBgEGAQYBBgEBBQYFgQcP5hMO9jP6CYWFBwsPBgYUGBQEFAQUGAQYBBgYGHjmutt5O6NupbXXcZJrx5rJXGyv11o96Ukr52avr6/BJG9HZmMBMpvNYnxt1JzNZNoRAYFxM2Z8rT6FuueMcaH6s1KfhBn3U42r1Jg1rrfq+Bt5xgf1Z64+uQFQndNzLc1Ydfwg6F2p6wd1PVXfU+b6Gc9vHGuh8+jrsXVN61Sq64XggNw95tlH9XmP6y3W2OI+qvN3db6mN7/zBFAb8L2aNMJxRsDQC6jIuEyN039LnAvV8QJKRRijZUHmT8iiLpEFDHKJaB1TGN732WuAokEIDQCwhwGjsMEIMNgp6qY9JlsTgyXquCFG1d54IsbOsKAVPLDBcQJjUxB0RJwAltGntNQ46GhzqPnb0y0954RG/1iLQ7SRCkR+guiPtW6GFRg5gAlCrFvbJEZ0ngDAUn0/Y77fDCJFXuiB/AmGDC3PLg0YWLRW5CcJWWPglNxDKS6C59AcZBs/sYxbOQBqHHkuZYCsGCds4SQJDDx3RK3RjUb9EfMUcLQ57BHS64MAIYtYkvEt+d4wCzqr++ipkoTtkihOI2chREfA5KiC0GOAaMig05zoWJPjgMk39jxcPphDR0mSDrtq438g51iq8omQlEnYJfHoiAFxYQGko6bCPSmZ5wS+TRx0Zc5R4CtmHbEVJT+0p1uOYdNE1SMfOKNO0zXWEmItptApsfYa1LV0UZUPIHSCmlRYJhfokNWhX5IcsmIWbEAMCQWerWirhZK57MghNQyzgke3QuQWPUv4EAac9wCuJjmkNmvUNEwiobX+DgdEWoQGgNDPGtTWWhRRWONX5JlnePCZhP1JUCOzPN1O0C2MohP7xuiko8Qy9INUDBg2YPJMlzP8pRv0qYeUdu+Cy+RAKIYmtVqojM5kkS0DwkXlLuY0ICzgAEOlAd8fPe+rYJdppz61TiZ5G4AgcScWz05RcUtAkOwyJMtI4FzNt3suCWKfwLUhdqRC0yA/enB1CZ4vBZ2fhIptJ4x/5PYVavyzQ39N0V8ddnsQ+m3sfX02hjo3bIVJ7d5PhqojZxYdC3NEdv9oQMQWFFjHHqpLEsc9BZyF23c9cG0ZOJjUIN15V1mY8OOAhW0E77yWaP2eoO9VBFG/d6yX6/xuHT2z3AsQ5ImnjrZBF6XcUiKAEl0RlJzZ7ZtnbxmqSgRqfxmyD9k6wNDGzuExecB3Z1/ukBOjQH73MZbspChFp9nQ/EYY9+LaaIYOqlo7JjwISX+LcBwbjAOz2ZKS7BpOcq0o0R2HvZAbHpHPJGc+dm00paQuedmOA4O0WD5fyQ4V08Ip4ATxhYl8CCh76/0QLVyehlBVFyCpYJTcKmPjHoY8XNE2VQ8dbIkdr4Z95npBwcNVahKzNEMBSYSyz46iLm8sLunreG5O+xYTsaMUHYu6bMn79sRCT2+8l6SMV2cCT5e3UspBXbbd9n3nDIN/Q1KP3JDfWLcd8kZwCVX12hjeOlmOIMe+L6FGjJLC4QS5rz6hg/tThjZiU0Pr/g7D65/uCUafKgaUJu0lHjvox/XsjXA+GAOQUogIXV8/v7GoKOGJfYuHxvHjt7t3rEMHD2+E5PoR+5GCLCS+8g6Z2xgGt6anuwGC99MSKAl6RrfUs/ofje+b1PcjlJBlMMk4gKBUe77AqKVP/T1Jj30IQPmCTdkm6NeKb5BkJzCGdCA8XuFGZIOWCBEh/mwGiZ/rFZXk3xHEdkjHb6MknVOhypJe+Sac03XlL4fe3r81mH518q9GyCS3kV8CDADlsrVaJhTLAgAAAABJRU5ErkJggg==\";\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar ChatContext = React__default.createContext({\n  client: null\n});\n\nfunction withChatContext(OriginalComponent) {\n  var ContextAwareComponent = function ContextComponent(props) {\n    return /*#__PURE__*/React__default.createElement(ChatContext.Consumer, null, function (context) {\n      var mergedProps = _objectSpread$1({}, context, {}, props);\n\n      return /*#__PURE__*/React__default.createElement(OriginalComponent, mergedProps);\n    });\n  };\n\n  ContextAwareComponent.displayName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace('Base', '');\n  return ContextAwareComponent;\n}\n\nvar ChannelContext = React__default.createContext({});\n\nfunction withChannelContext(OriginalComponent) {\n  var ContextAwareComponent = function ContextComponent(props) {\n    return /*#__PURE__*/React__default.createElement(ChannelContext.Consumer, null, function (channelContext) {\n      return /*#__PURE__*/React__default.createElement(OriginalComponent, _extends({}, channelContext, props));\n    });\n  };\n\n  ContextAwareComponent.displayName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace('Base', '');\n  return ContextAwareComponent;\n}\n\nvar TranslationContext = React__default.createContext({\n  t: function t(msg) {\n    return msg;\n  },\n  tDateTimeParser: function tDateTimeParser(input) {\n    return Dayjs(input);\n  }\n});\n\nfunction withTranslationContext(OriginalComponent) {\n  var ContextAwareComponent = function ContextComponent(props) {\n    return /*#__PURE__*/React__default.createElement(TranslationContext.Consumer, null, function (translationContext) {\n      return /*#__PURE__*/React__default.createElement(OriginalComponent, _extends({}, translationContext, props));\n    });\n  };\n\n  ContextAwareComponent.displayName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace('Base', '');\n  return ContextAwareComponent;\n}\n\nfunction _createSuper$1(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$1()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$1() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Card - Simple Card Layout\n *\n * @example ./docs/Card.md\n * @type Card { import(\"../../types/index.d.ts\").CardProps }\n */\n\n\nvar Card = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Card, _React$PureComponent);\n\n  var _super = _createSuper$1(Card);\n\n  function Card() {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"trimUrl\", function (url) {\n      var trimmedUrl;\n\n      if (url !== undefined && url !== null) {\n        trimmedUrl = url.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '').split('/')[0];\n      }\n\n      return trimmedUrl;\n    });\n\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          title = _this$props.title,\n          title_link = _this$props.title_link,\n          text = _this$props.text,\n          type = _this$props.type,\n          image_url = _this$props.image_url,\n          thumb_url = _this$props.thumb_url,\n          og_scrape_url = _this$props.og_scrape_url,\n          t = _this$props.t;\n      var image = thumb_url || image_url;\n\n      if (!title && !title_link && !image) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type)\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-attachment-card--content\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-attachment-card--text\"\n        }, t('this content could not be displayed'))));\n      }\n\n      if (!title_link && !og_scrape_url) {\n        return null;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type)\n      }, image && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card--header\"\n      }, /*#__PURE__*/React__default.createElement(\"img\", {\n        src: image,\n        alt: image\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card--content\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card--flex\"\n      }, title && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card--title\"\n      }, title), text && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-card--text\"\n      }, text), (title_link || og_scrape_url) && /*#__PURE__*/React__default.createElement(SafeAnchor, {\n        href: title_link || og_scrape_url,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"str-chat__message-attachment-card--url\"\n      }, this.trimUrl(title_link || og_scrape_url))), type === 'giphy' && /*#__PURE__*/React__default.createElement(\"img\", {\n        className: \"str-chat__message-attachment-card__giphy-logo\",\n        src: giphyLogo,\n        alt: \"giphy logo\"\n      })));\n    }\n  }]);\n\n  return Card;\n}(React__default.PureComponent);\n\n_defineProperty(Card, \"propTypes\", {\n  /** Title returned by the OG scraper */\n  title: PropTypes.string,\n\n  /** Link returned by the OG scraper */\n  title_link: PropTypes.string,\n\n  /** The scraped url, used as a fallback if the OG-data doesn't include a link */\n  og_scrape_url: PropTypes.string,\n\n  /** The url of the full sized image */\n  image_url: PropTypes.string,\n\n  /** The url for thumbnail sized image*/\n  thumb_url: PropTypes.string,\n\n  /** Description returned by the OG scraper */\n  text: PropTypes.string\n});\n\nvar Card$1 = withTranslationContext(Card);\n\nfunction _createSuper$2(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$2()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$2() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Image - Small wrapper around an image tag, supports thumbnails\n *\n * @example ./docs/Image.md\n * @extends PureComponent\n */\n\n\nvar Image = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Image, _React$PureComponent);\n\n  var _super = _createSuper$2(Image);\n\n  function Image() {\n    var _this;\n\n    _classCallCheck(this, Image);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      modalIsOpen: false,\n      currentIndex: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleModal\", function () {\n      _this.setState(function (state) {\n        return {\n          modalIsOpen: !state.modalIsOpen\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Image, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          image_url = _this$props.image_url,\n          thumb_url = _this$props.thumb_url,\n          fallback = _this$props.fallback;\n      var formattedArray = [{\n        src: image_url || thumb_url\n      }];\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"img\", {\n        className: \"str-chat__message-attachment--img\",\n        onClick: this.toggleModal,\n        src: thumb_url || image_url,\n        alt: fallback\n      }), /*#__PURE__*/React__default.createElement(ModalGateway, null, this.state.modalIsOpen ? /*#__PURE__*/React__default.createElement(Modal$1, {\n        onClose: this.toggleModal\n      }, /*#__PURE__*/React__default.createElement(Carousel, {\n        views: formattedArray\n      })) : null));\n    }\n  }]);\n\n  return Image;\n}(React__default.PureComponent);\n\n_defineProperty(Image, \"propTypes\", {\n  /** The full size image url */\n  image_url: PropTypes.string,\n\n  /** The thumb url */\n  thumb_url: PropTypes.string,\n\n  /** The text fallback for the image */\n  fallback: PropTypes.string\n});\n\nfunction _createSuper$3(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$3()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$3() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * AttachmentActions - The actions you can take on an attachment\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\n\n\nvar AttachmentActions = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AttachmentActions, _React$PureComponent);\n\n  var _super = _createSuper$3(AttachmentActions);\n\n  function AttachmentActions() {\n    _classCallCheck(this, AttachmentActions);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(AttachmentActions, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          text = _this$props.text,\n          id = _this$props.id,\n          actions = _this$props.actions,\n          actionHandler = _this$props.actionHandler;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-actions\"\n      }, /*#__PURE__*/React__default.createElement(\"form\", {\n        className: \"str-chat__message-attachment-actions-form\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        key: 0\n      }, text), actions.map(function (action) {\n        return /*#__PURE__*/React__default.createElement(\"button\", {\n          className: \"str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--\".concat(action.style),\n          key: \"\".concat(id, \"-\").concat(action.value),\n          \"data-value\": action.value,\n          onClick: actionHandler.bind(_this, action.name, action.value)\n        }, action.text);\n      })));\n    }\n  }]);\n\n  return AttachmentActions;\n}(React__default.PureComponent);\n\n_defineProperty(AttachmentActions, \"propTypes\", {\n  /** Unique id for action button key. Key is generated by concatenating this id with action value - {`${id}-${action.value}`} */\n  id: PropTypes.string.isRequired,\n\n  /** The text for the form input */\n  text: PropTypes.string,\n\n  /** A list of actions */\n  actions: PropTypes.array.isRequired,\n\n  /**\n   *\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  actionHandler: PropTypes.func.isRequired\n});\n\nfunction _createSuper$4(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$4()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$4() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar Audio = /*#__PURE__*/function (_React$Component) {\n  _inherits(Audio, _React$Component);\n\n  var _super = _createSuper$4(Audio);\n\n  function Audio(props) {\n    var _this;\n\n    _classCallCheck(this, Audio);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"playAudio\", function () {\n      if (_this.audioRef.current !== null) {\n        _this.audioRef.current.pause();\n\n        _this.updateProgress();\n\n        _this.setState({\n          playing: true,\n          updateProgress: setInterval(_this.updateProgress, 500)\n        }); //$FlowFixMe\n\n\n        _this.audioRef.current.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pauseAudio\", function () {\n      if (_this.audioRef.current !== null) {\n        _this.audioRef.current.pause();\n      }\n\n      _this.setState({\n        playing: false\n      });\n\n      window.clearInterval(_this.state.updateProgress);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateProgress\", function () {\n      if (_this.audioRef.current !== null) {\n        var position = _this.audioRef.current.currentTime;\n        var duration = _this.audioRef.current.duration;\n        var progress = 100 / duration * position;\n\n        _this.setState({\n          progress\n        });\n\n        if (position === duration) {\n          _this.pauseAudio();\n        }\n      }\n    });\n\n    _this.state = {\n      open: false,\n      playing: false,\n      progress: 0,\n      updateProgress: null\n    };\n    _this.audioRef = createRef();\n    return _this;\n  }\n\n  _createClass(Audio, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.clearInterval(this.state.updateProgress);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var og = this.props.og;\n      var url = og.asset_url;\n      var image = og.image_url;\n      return /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio\"\n      }, /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio__wrapper\"\n      }, /*#__PURE__*/createElement(\"audio\", {\n        ref: this.audioRef\n      }, /*#__PURE__*/createElement(\"source\", {\n        src: url,\n        type: \"audio/mp3\"\n      })), /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio__image\"\n      }, /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio__image--overlay\"\n      }, !this.state.playing ? /*#__PURE__*/createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.playAudio();\n        },\n        className: \"str-chat__audio__image--button\"\n      }, /*#__PURE__*/createElement(\"svg\", {\n        width: \"40\",\n        height: \"40\",\n        viewBox: \"0 0 64 64\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/createElement(\"path\", {\n        d: \"M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z\",\n        fillRule: \"nonzero\"\n      }))) : /*#__PURE__*/createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.pauseAudio();\n        },\n        className: \"str-chat__audio__image--button\"\n      }, /*#__PURE__*/createElement(\"svg\", {\n        width: \"40\",\n        height: \"40\",\n        viewBox: \"0 0 64 64\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/createElement(\"path\", {\n        d: \"M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z\",\n        fillRule: \"nonzero\"\n      })))), /*#__PURE__*/createElement(\"img\", {\n        src: image,\n        alt: \"\".concat(og.description)\n      })), /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio__content\"\n      }, /*#__PURE__*/createElement(\"span\", {\n        className: \"str-chat__audio__content--title\"\n      }, /*#__PURE__*/createElement(\"strong\", null, og.title)), /*#__PURE__*/createElement(\"span\", {\n        className: \"str-chat__audio__content--subtitle\"\n      }, og.text), /*#__PURE__*/createElement(\"div\", {\n        className: \"str-chat__audio__content--progress\"\n      }, /*#__PURE__*/createElement(\"div\", {\n        style: {\n          width: \"\".concat(this.state.progress, \"%\")\n        }\n      })))));\n    }\n  }]);\n\n  return Audio;\n}(Component);\n\n_defineProperty(Audio, \"propTypes\", {\n  /** Attachment object of audio type */\n  og: PropTypes.object\n});\n\nfunction _createSuper$5(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$5()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$5() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Attachment - The message attachment\n *\n * @example ./docs/Attachment.md\n * @extends PureComponent\n */\n\n\nvar Attachment = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Attachment, _PureComponent);\n\n  var _super = _createSuper$5(Attachment);\n\n  function Attachment() {\n    var _this;\n\n    _classCallCheck(this, Attachment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"attachmentRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"renderAttachmentActions\", function (a) {\n      return /*#__PURE__*/React__default.createElement(AttachmentActions, _extends({\n        key: 'key-actions-' + a.id\n      }, a, {\n        actionHandler: _this.props.actionHandler\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderAttachment\", function (a) {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__attachment\",\n        key: \"key-image-\".concat(a.id)\n      }, /*#__PURE__*/React__default.createElement(Card$1, _extends({}, a, {\n        key: \"key-card-\".concat(a.id)\n      })), _this.renderAttachmentActions(a));\n    });\n\n    return _this;\n  }\n\n  _createClass(Attachment, [{\n    key: \"attachmentType\",\n    value: function attachmentType(a) {\n      var type, extra;\n\n      if (a.actions && a.actions.length > 0) {\n        extra = 'actions';\n      }\n\n      if (a.type === 'giphy' || a.type === 'imgur') {\n        type = 'card';\n      } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n        type = 'card';\n      } else if (a.type === 'image') {\n        type = 'image';\n      } else if (a.type === 'file') {\n        type = 'file';\n      } else if (a.type === 'audio') {\n        type = 'audio';\n      } else if (a.type === 'video') {\n        type = 'media';\n      } else {\n        type = 'card';\n        extra = 'no-image';\n      }\n\n      return {\n        type,\n        extra\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var a = this.props.attachment;\n\n      if (!a) {\n        return null;\n      }\n\n      var _this$attachmentType = this.attachmentType(a),\n          type = _this$attachmentType.type,\n          extra = _this$attachmentType.extra;\n\n      if (type === 'card' && !a.title_link && !a.og_scrape_url) {\n        return null;\n      }\n\n      var results = [];\n\n      if (type === 'image') {\n        if (a.actions && a.actions.length) {\n          results.push( /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"str-chat__attachment\",\n            key: \"key-image-\".concat(a.id)\n          }, /*#__PURE__*/React__default.createElement(Image, a), this.renderAttachmentActions(a)));\n        } else {\n          results.push( /*#__PURE__*/React__default.createElement(Image, _extends({}, a, {\n            key: \"key-image-\".concat(a.id)\n          })));\n        }\n      } else if (type === 'file') {\n        a.asset_url && results.push( /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-attachment-file--item\",\n          key: \"key-file-\".concat(a.id)\n        }, /*#__PURE__*/React__default.createElement(FileIcon, {\n          mimeType: a.mime_type,\n          filename: a.title,\n          big: true,\n          size: 30\n        }), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-attachment-file--item-text\"\n        }, /*#__PURE__*/React__default.createElement(SafeAnchor, {\n          href: a.asset_url,\n          target: \"_blank\",\n          download: true\n        }, a.title), a.file_size && /*#__PURE__*/React__default.createElement(\"span\", null, prettybytes(a.file_size)))));\n      } else if (type === 'audio') {\n        results.push( /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__attachment\",\n          key: \"key-video-\".concat(a.id)\n        }, /*#__PURE__*/React__default.createElement(Audio, {\n          og: a\n        })));\n      } else if (type === 'media') {\n        if (a.actions && a.actions.length) {\n          results.push( /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"str-chat__attachment\",\n            key: \"key-video-\".concat(a.id)\n          }, /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"str-chat__player-wrapper\"\n          }, /*#__PURE__*/React__default.createElement(ReactPlayer, {\n            className: \"react-player\",\n            url: a.asset_url,\n            width: \"100%\",\n            height: \"100%\",\n            controls: true\n          })), this.renderAttachmentActions(a)));\n        } else {\n          results.push( /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"str-chat__player-wrapper\",\n            key: \"key-video-\".concat(a.id)\n          }, /*#__PURE__*/React__default.createElement(ReactPlayer, {\n            className: \"react-player\",\n            url: a.asset_url,\n            width: \"100%\",\n            height: \"100%\",\n            controls: true\n          })));\n        }\n      } else {\n        if (a.actions && a.actions.length) {\n          results.push(this.renderAttachment(a));\n        } else {\n          results.push( /*#__PURE__*/React__default.createElement(Card$1, _extends({}, a, {\n            key: \"key-card-\".concat(a.id)\n          })));\n        }\n      }\n\n      if (results.length === 0) return null;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment str-chat__message-attachment--\".concat(type, \" str-chat__message-attachment--\").concat(a.type, \" str-chat__message-attachment--\").concat(type, \"--\").concat(extra),\n        ref: this.attachmentRef\n      }, results);\n    }\n  }]);\n\n  return Attachment;\n}(PureComponent);\n\n_defineProperty(Attachment, \"propTypes\", {\n  /**\n   * The attachment to render\n   * @see See [Attachment structure](https://getstream.io/chat/docs/#message_format)\n   *\n   *  */\n  attachment: PropTypes.object.isRequired,\n\n  /**\n   *\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  actionHandler: PropTypes.func.isRequired\n});\n\nAttachment.propTypes = {};\n\nfunction _createSuper$6(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$6()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$6() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Avatar - A round avatar image with fallback to username's first letter\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\n\n\nvar Avatar = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Avatar, _React$PureComponent);\n\n  var _super = _createSuper$6(Avatar);\n\n  function Avatar() {\n    var _this;\n\n    _classCallCheck(this, Avatar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      errored: false,\n      loaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitials\", function (name) {\n      return name ? name.split(' ').slice(0, 1).map(function (name) {\n        return name.charAt(0);\n      }) : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function () {\n      _this.setState({\n        loaded: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onError\", function () {\n      _this.setState({\n        errored: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Avatar, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.image !== this.props.image) {\n        this.setState({\n          loaded: false,\n          errored: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          size = _this$props.size,\n          name = _this$props.name,\n          shape = _this$props.shape,\n          image = _this$props.image;\n      var initials = this.getInitials(name);\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__avatar str-chat__avatar--\".concat(shape),\n        title: name,\n        style: {\n          width: size,\n          height: size,\n          flexBasis: size,\n          lineHeight: size + 'px',\n          fontSize: size / 2\n        }\n      }, image && !this.state.errored ? /*#__PURE__*/React__default.createElement(\"img\", {\n        src: image,\n        alt: initials,\n        className: 'str-chat__avatar-image' + (this.state.loaded ? ' str-chat__avatar-image--loaded' : ''),\n        style: {\n          width: size,\n          height: size,\n          flexBasis: size,\n          objectFit: 'cover'\n        },\n        onLoad: this.onLoad,\n        onError: this.onError\n      }) : /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__avatar-fallback\"\n      }, initials));\n    }\n  }]);\n\n  return Avatar;\n}(React__default.PureComponent);\n\n_defineProperty(Avatar, \"propTypes\", {\n  /** image url */\n  image: PropTypes.string,\n\n  /** name of the picture, used for title tag fallback */\n  name: PropTypes.string,\n\n  /** shape of the avatar, circle, rounded or square */\n  shape: PropTypes.oneOf(['circle', 'rounded', 'square']),\n\n  /** size in pixels */\n  size: PropTypes.number\n});\n\n_defineProperty(Avatar, \"defaultProps\", {\n  size: 32,\n  shape: 'circle'\n});\n\nfunction _createSuper$7(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$7()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$7() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * LoadingIndicator - Just a simple loading spinner..\n *\n * @example ./docs/LoadingIndicator.md\n * @extends PureComponent\n */\n\n\nvar LoadingIndicator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LoadingIndicator, _React$PureComponent);\n\n  var _super = _createSuper$7(LoadingIndicator);\n\n  function LoadingIndicator() {\n    var _this;\n\n    _classCallCheck(this, LoadingIndicator);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"stopRef\", React__default.createRef());\n\n    return _this;\n  }\n\n  _createClass(LoadingIndicator, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          size = _this$props.size,\n          color = _this$props.color;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: 'str-chat__loading-indicator ' + color,\n        style: {\n          width: size,\n          height: size\n        }\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: size,\n        height: size,\n        viewBox: \"0 0 30 30\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"defs\", null, /*#__PURE__*/React__default.createElement(\"linearGradient\", {\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        id: \"a\"\n      }, /*#__PURE__*/React__default.createElement(\"stop\", {\n        stopColor: \"#FFF\",\n        stopOpacity: \"0\",\n        offset: \"0%\"\n      }), /*#__PURE__*/React__default.createElement(\"stop\", {\n        ref: this.stopRef,\n        offset: \"100%\",\n        stopColor: color,\n        stopOpacity: \"1\",\n        style: {\n          stopColor: color\n        }\n      }))), /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z\",\n        fill: \"url(#a)\",\n        fillRule: \"evenodd\"\n      })));\n    }\n  }]);\n\n  return LoadingIndicator;\n}(React__default.PureComponent);\n\n_defineProperty(LoadingIndicator, \"propTypes\", {\n  /** The size of the loading icon */\n  size: PropTypes.number,\n\n  /** Set the color of the LoadingIndicator */\n  color: PropTypes.string\n});\n\n_defineProperty(LoadingIndicator, \"defaultProps\", {\n  size: 15,\n  color: '#006CFF'\n});\n\nfunction _createSuper$8(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$8()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$8() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * LoadingErrorIndicator - UI component for error indicator in Channel.\n *\n * @example ./docs/LoadingErrorIndicator.md\n * @extends PureComponent\n */\n\n\nvar LoadingErrorIndicator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LoadingErrorIndicator, _React$PureComponent);\n\n  var _super = _createSuper$8(LoadingErrorIndicator);\n\n  function LoadingErrorIndicator() {\n    _classCallCheck(this, LoadingErrorIndicator);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LoadingErrorIndicator, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.error) return null;\n      var t = this.props.t;\n      return /*#__PURE__*/React__default.createElement(\"div\", null, t('Error: {{ errorMessage }}', {\n        errorMessage: this.props.error.message\n      }));\n    }\n  }]);\n\n  return LoadingErrorIndicator;\n}(React__default.PureComponent);\n\n_defineProperty(LoadingErrorIndicator, \"propTypes\", {\n  /** Error object */\n  error: PropTypes.oneOfType([PropTypes.shape({\n    message: PropTypes.string\n  }), PropTypes.bool])\n});\n\n_defineProperty(LoadingErrorIndicator, \"defaultProps\", {\n  error: false\n});\n\nLoadingErrorIndicator = withTranslationContext(LoadingErrorIndicator);\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$2(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$2(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar emojiSetDef = {\n  spriteUrl: 'https://getstream.imgix.net/images/emoji-sprite.png',\n  size: 20,\n  sheetColumns: 2,\n  sheetRows: 3,\n  sheetSize: 64\n};\nvar commonEmoji = {\n  emoticons: [],\n  short_names: [],\n  custom: true\n};\nvar defaultMinimalEmojis = [_objectSpread$2({\n  id: 'like',\n  name: 'like',\n  colons: ':+1:',\n  sheet_x: 0,\n  sheet_y: 0\n}, commonEmoji, {}, emojiSetDef), _objectSpread$2({\n  id: 'love',\n  name: 'love',\n  colons: ':heart:',\n  sheet_x: 1,\n  sheet_y: 2\n}, commonEmoji, {}, emojiSetDef), _objectSpread$2({\n  id: 'haha',\n  name: 'haha',\n  colons: ':joy:',\n  sheet_x: 1,\n  sheet_y: 0\n}, commonEmoji, {}, emojiSetDef), _objectSpread$2({\n  id: 'wow',\n  name: 'wow',\n  colons: ':astonished:',\n  sheet_x: 0,\n  sheet_y: 2\n}, commonEmoji, {}, emojiSetDef), _objectSpread$2({\n  id: 'sad',\n  name: 'sad',\n  colons: ':pensive:',\n  sheet_x: 0,\n  sheet_y: 1\n}, commonEmoji, {}, emojiSetDef), _objectSpread$2({\n  id: 'angry',\n  name: 'angry',\n  colons: ':angry:',\n  sheet_x: 1,\n  sheet_y: 1\n}, commonEmoji, {}, emojiSetDef)];\nvar d = Object.assign({}, data);\nd.emojis = {}; // use this only for small lists like in ReactionSelector\n\nvar emojiData = d;\n\nvar isOnlyEmojis = function isOnlyEmojis(text) {\n  if (!text) return false;\n  var noEmojis = text.replace(emojiRegex(), '');\n  var noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n  return !noSpace;\n};\n\nvar isPromise = function isPromise(thing) {\n  return thing && typeof thing.then === 'function';\n};\n\nvar byDate = function byDate(a, b) {\n  return a.created_at - b.created_at;\n}; // https://stackoverflow.com/a/29234240/7625485\n\n/**\n * @deprecated This function is deprecated and will be removed in future major release.\n * @param {*} dict\n * @param {*} currentUserId\n */\n\n\nvar formatArray = function formatArray(dict, currentUserId) {\n  var arr2 = Object.keys(dict);\n  var arr3 = [];\n  arr2.forEach(function (item, i) {\n    if (currentUserId === dict[arr2[i]].user.id) {\n      return;\n    }\n\n    arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n  });\n  var outStr = '';\n\n  if (arr3.length === 1) {\n    outStr = arr3[0] + ' is typing...';\n  } else if (arr3.length === 2) {\n    //joins all with \"and\" but =no commas\n    //example: \"bob and sam\"\n    outStr = arr3.join(' and ') + ' are typing...';\n  } else if (arr3.length > 2) {\n    //joins all with commas, but last one gets \", and\" (oxford comma!)\n    //example: \"bob, joe, and sam\"\n    outStr = arr3.slice(0, -1).join(', ') + ', and ' + arr3.slice(-1) + ' are typing...';\n  }\n\n  return outStr;\n};\n\nvar renderText = function renderText(message) {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  var text = message.text;\n  var mentioned_users = message.mentioned_users;\n\n  if (!text) {\n    return;\n  }\n\n  var allowed = ['html', 'root', 'text', 'break', 'paragraph', 'emphasis', 'strong', 'link', 'list', 'listItem', 'code', 'inlineCode', 'blockquote', 'delete'];\n  var urls = anchorme(text, {\n    list: true\n  });\n\n  var _iterator = _createForOfIteratorHelper(urls),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var urlInfo = _step.value;\n      var displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n        length: 20,\n        omission: '...'\n      });\n\n      var _mkdown = \"[\".concat(displayLink, \"](\").concat(urlInfo.protocol).concat(urlInfo.encoded, \")\");\n\n      text = text.replace(urlInfo.raw, _mkdown);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var newText = text;\n\n  if (mentioned_users && mentioned_users.length) {\n    for (var i = 0; i < mentioned_users.length; i++) {\n      var username = mentioned_users[i].name || mentioned_users[i].id;\n      var mkdown = \"**@\".concat(username, \"**\");\n      var re = new RegExp(\"@\".concat(username), 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  return /*#__PURE__*/React__default.createElement(ReactMarkdown, {\n    allowedTypes: allowed,\n    source: newText,\n    linkTarget: \"_blank\",\n    plugins: [],\n    escapeHtml: true,\n    skipHtml: false,\n    unwrapDisallowed: true\n  });\n}; // https://stackoverflow.com/a/6860916/2570866\n\n\nfunction generateRandomId() {\n  // prettier-ignore\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n}\n\nfunction S4() {\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n}\n\nvar smartRender = function smartRender(ElementOrComponentOrLiteral, props, fallback) {\n  if (ElementOrComponentOrLiteral === undefined) {\n    ElementOrComponentOrLiteral = fallback;\n  }\n\n  if (React__default.isValidElement(ElementOrComponentOrLiteral)) {\n    // Flow cast through any, to make flow believe it's a React.Element\n    var element = ElementOrComponentOrLiteral; // eslint-disable-line\n\n    return element;\n  } // Flow cast through any to remove React.Element after previous check\n\n\n  var ComponentOrLiteral = ElementOrComponentOrLiteral;\n\n  if (typeof ComponentOrLiteral === 'string' || typeof ComponentOrLiteral === 'number' || typeof ComponentOrLiteral === 'boolean' || ComponentOrLiteral == null) {\n    return ComponentOrLiteral;\n  }\n\n  return /*#__PURE__*/React__default.createElement(ComponentOrLiteral, props);\n};\n\nvar MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  flag: 'flag',\n  mute: 'mute'\n};\n\nvar filterEmoji = function filterEmoji(emoji) {\n  if (emoji.name === 'White Smiling Face' || emoji.name === 'White Frowning Face') {\n    return false;\n  }\n\n  return true;\n};\n\nfunction _createSuper$9(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$9()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$9() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageActionsBox - A component for taking action on a message\n *\n * @example ./docs/MessageActionsBox.md\n * @extends PureComponent\n */\n\n\nvar MessageActionsBox = /*#__PURE__*/function (_React$Component) {\n  _inherits(MessageActionsBox, _React$Component);\n\n  var _super = _createSuper$9(MessageActionsBox);\n\n  function MessageActionsBox() {\n    var _this;\n\n    _classCallCheck(this, MessageActionsBox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"actionsBoxRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      reverse: false,\n      rect: null\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageActionsBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(prevProps) {\n        var ml;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!prevProps.open && this.props.open)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                if (!(this.state.rect === null)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.setState({\n                  rect: this.actionsBoxRef.current.getBoundingClientRect()\n                });\n\n              case 4:\n                ml = this.props.messageListRect;\n\n                if (this.props.mine) {\n                  this.setState({\n                    reverse: this.state.rect.left < ml.left ? true : false\n                  });\n                } else if (!this.props.mine) {\n                  this.setState({\n                    reverse: this.state.rect.right + 5 > ml.right ? true : false\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidUpdate(_x) {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleFlag = _this$props.handleFlag,\n          handleMute = _this$props.handleMute,\n          handleEdit = _this$props.handleEdit,\n          handleDelete = _this$props.handleDelete,\n          getMessageActions = _this$props.getMessageActions,\n          t = _this$props.t;\n      var messageActions = getMessageActions();\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-actions-box\\n          \".concat(this.props.open ? 'str-chat__message-actions-box--open' : '', \"\\n          \").concat(this.props.mine ? 'str-chat__message-actions-box--mine' : '', \"\\n          \").concat(this.state.reverse ? 'str-chat__message-actions-box--reverse' : '', \"\\n        \"),\n        ref: this.actionsBoxRef\n      }, /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"str-chat__message-actions-list\"\n      }, messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: handleFlag\n      }, /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"str-chat__message-actions-list-item\"\n      }, t('Flag'))), messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: handleMute\n      }, /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"str-chat__message-actions-list-item\"\n      }, t('Mute'))), messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: handleEdit\n      }, /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"str-chat__message-actions-list-item\"\n      }, t('Edit Message'))), messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: handleDelete\n      }, /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"str-chat__message-actions-list-item\"\n      }, t('Delete')))));\n    }\n  }]);\n\n  return MessageActionsBox;\n}(React__default.Component);\n\n_defineProperty(MessageActionsBox, \"propTypes\", {\n  /** If the message actions box should be open or not */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * @deprecated\n   *\n   *  The message component, most logic is delegated to this component and MessageActionsBox uses the following functions explicitly:\n   *  `handleFlag`, `handleMute`, `handleEdit`, `handleDelete`, `canDeleteMessage`, `canEditMessage`, `isMyMessage`, `isAdmin`\n   */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** If message belongs to current user. */\n  mine: PropTypes.bool,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /**\n   * Handler for flaging a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleFlag: PropTypes.func,\n\n  /**\n   * Handler for muting a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleMute: PropTypes.func,\n\n  /**\n   * Handler for editing a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleEdit: PropTypes.func,\n\n  /**\n   * Handler for deleting a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleDelete: PropTypes.func,\n\n  /**\n   * Returns array of avalable message actions for current message.\n   * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n   */\n  getMessageActions: PropTypes.func\n});\n\n_defineProperty(MessageActionsBox, \"defaultProps\", {\n  open: false\n});\n\nMessageActionsBox = withTranslationContext(MessageActionsBox);\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$3(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$3(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$a(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$a()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$a() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ReactionsList = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactionsList, _React$Component);\n\n  var _super = _createSuper$a(ReactionsList);\n\n  function ReactionsList(props) {\n    var _this;\n\n    _classCallCheck(this, ReactionsList);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderReactions\", function (reactions) {\n      var reactionsByType = {};\n      reactions.map(function (item) {\n        if (reactions[item.type] === undefined) {\n          return reactionsByType[item.type] = [item];\n        } else {\n          return reactionsByType[item.type] = [].concat(_toConsumableArray(reactionsByType[item.type]), [item]);\n        }\n      });\n\n      var reactionsEmojis = _this.props.reactionOptions.reduce(function (acc, cur) {\n        return _objectSpread$3({}, acc, {\n          [cur.id]: cur\n        });\n      }, {});\n\n      return Object.keys(reactionsByType).map(function (type) {\n        return reactionsEmojis[type] ? /*#__PURE__*/React__default.createElement(\"li\", {\n          key: reactionsEmojis[type].id\n        }, /*#__PURE__*/React__default.createElement(NimbleEmoji, _extends({\n          emoji: reactionsEmojis[type]\n        }, emojiSetDef, {\n          size: 16,\n          data: emojiData\n        })), ' ', \"\\xA0\") : null;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getReactionCount\", function () {\n      var reaction_counts = _this.props.reaction_counts;\n      var count = null;\n\n      if (reaction_counts !== null && reaction_counts !== undefined && Object.keys(reaction_counts).length > 0) {\n        count = 0;\n        Object.keys(reaction_counts).map(function (key) {\n          return count += reaction_counts[key];\n        });\n      }\n\n      return count;\n    });\n\n    return _this;\n  }\n\n  _createClass(ReactionsList, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__reaction-list \".concat(this.props.reverse ? 'str-chat__reaction-list--reverse' : ''),\n        onClick: this.props.onClick,\n        ref: this.reactionList\n      }, /*#__PURE__*/React__default.createElement(\"ul\", null, this._renderReactions(this.props.reactions), /*#__PURE__*/React__default.createElement(\"li\", null, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__reaction-list--counter\"\n      }, this._getReactionCount()))));\n    }\n  }]);\n\n  return ReactionsList;\n}(React__default.Component);\n\n_defineProperty(ReactionsList, \"propTypes\", {\n  /** List of reactions */\n  reactions: PropTypes.array,\n\n  /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n  reactionOptions: PropTypes.array,\n\n  /** If true, reaction list will be shown at trailing end of message bubble. */\n  reverse: PropTypes.bool,\n\n  /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n  reaction_counts: PropTypes.object\n});\n\n_defineProperty(ReactionsList, \"defaultProps\", {\n  reactionOptions: defaultMinimalEmojis,\n  emojiSetDef,\n  reverse: false\n});\n\nfunction _createSuper$b(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$b()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$b() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar Tooltip = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Tooltip, _React$PureComponent);\n\n  var _super = _createSuper$b(Tooltip);\n\n  function Tooltip() {\n    _classCallCheck(this, Tooltip);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Tooltip, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__tooltip\"\n      }, this.props.children);\n    }\n  }]);\n\n  return Tooltip;\n}(React__default.PureComponent);\n\nfunction _createSuper$c(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$c()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$c() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Gallery - displays up to 6 images in a simple responsive grid with a lightbox to view the images.\n * @example ./docs/Gallery.md\n * @extends PureComponent\n */\n\n\nvar Gallery = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Gallery, _React$PureComponent);\n\n  var _super = _createSuper$c(Gallery);\n\n  function Gallery() {\n    var _this;\n\n    _classCallCheck(this, Gallery);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      modalIsOpen: false,\n      currentIndex: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleModal\", function (index) {\n      _this.setState(function (state) {\n        return {\n          modalIsOpen: !state.modalIsOpen,\n          currentIndex: index\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Gallery, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          images = _this$props.images,\n          t = _this$props.t;\n      var formattedArray = images.map(function (image) {\n        return {\n          src: image.image_url || image.thumb_url\n        };\n      });\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__gallery\"\n      }, images.slice(0, 3).map(function (image, i) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__gallery-image\",\n          key: \"gallery-image-\".concat(i),\n          onClick: function onClick() {\n            return _this2.toggleModal(i);\n          }\n        }, /*#__PURE__*/React__default.createElement(\"img\", {\n          src: image.image_url || image.thumb_url\n        }));\n      }), images.length > 3 && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__gallery-placeholder\",\n        style: {\n          backgroundImage: \"url(\".concat(images[3].image_url, \")\")\n        },\n        onClick: function onClick() {\n          return _this2.toggleModal(3);\n        }\n      }, /*#__PURE__*/React__default.createElement(\"p\", null, t('{{ imageCount }} more', {\n        imageCount: images.length - 3\n      }))), /*#__PURE__*/React__default.createElement(ModalGateway, null, this.state.modalIsOpen ? /*#__PURE__*/React__default.createElement(Modal$1, {\n        onClose: this.toggleModal,\n        closeOnBackdropClick: true\n      }, /*#__PURE__*/React__default.createElement(Carousel, {\n        views: formattedArray,\n        currentIndex: this.state.currentIndex\n      })) : null));\n    }\n  }]);\n\n  return Gallery;\n}(React__default.PureComponent);\n\n_defineProperty(Gallery, \"propTypes\", {\n  images: PropTypes.arrayOf(PropTypes.shape({\n    /** Url of the image */\n    image_url: PropTypes.string,\n\n    /** Url of thumbnail of image */\n    thumb_url: PropTypes.string\n  }))\n});\n\nGallery = withTranslationContext(Gallery);\n\nfunction _createSuper$d(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$d()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$d() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ReactionSelector - A component for selecting a reaction. Examples are love, wow, like etc.\n *\n * @example ./docs/ReactionSelector.md\n * @extends PureComponent\n */\n\n\nvar ReactionSelector = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactionSelector, _PureComponent);\n\n  var _super = _createSuper$d(ReactionSelector);\n\n  function ReactionSelector(props) {\n    var _this;\n\n    _classCallCheck(this, ReactionSelector);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showTooltip\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, users) {\n        var target;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = e.target.getBoundingClientRect();\n                _context2.next = 3;\n                return _this.setState(function () {\n                  return {\n                    showTooltip: true,\n                    users\n                  };\n                }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return _this.setTooltipPosition(target);\n\n                        case 2:\n                          _context.next = 4;\n                          return _this.setArrowPosition(target);\n\n                        case 4:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                })));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"hideTooltip\", function () {\n      _this.setState(function () {\n        return {\n          showTooltip: false,\n          users: [],\n          arrowPosition: 0,\n          position: 0,\n          positionCaculated: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getUsersPerReaction\", function (reactions, type) {\n      return reactions && reactions.filter(function (item) {\n        return item.type === type;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLatestUser\", function (reactions, type) {\n      var filtered = _this.getUsersPerReaction(reactions, type);\n\n      if (filtered && filtered[0] && filtered[0].user) {\n        return filtered[0].user;\n      } else {\n        return 'NotFound';\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getUserNames\", function (reactions, type) {\n      var filtered = _this.getUsersPerReaction(reactions, type);\n\n      return filtered && filtered.map(function (item) {\n        return item.user || 'NotFound';\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getContainerDimensions\", function () {\n      return _this.reactionSelector.current.getBoundingClientRect();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getToolTipDimensions\", function () {\n      return _this.reactionSelectorTooltip.current.getBoundingClientRect();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setTooltipPosition\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(target) {\n        var container, tooltip, position;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.getContainerDimensions();\n\n              case 2:\n                container = _context3.sent;\n                _context3.next = 5;\n                return _this.getToolTipDimensions();\n\n              case 5:\n                tooltip = _context3.sent;\n\n                if (tooltip.width === container.width || tooltip.x < container.x) {\n                  position = 0;\n                } else {\n                  position = target.left + target.width / 2 - container.left - tooltip.width / 2;\n                }\n\n                _context3.next = 9;\n                return _this.setState(function () {\n                  return {\n                    position\n                  };\n                });\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"setArrowPosition\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(target) {\n        var tooltip, position;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                tooltip = _this.reactionSelectorTooltip.current.getBoundingClientRect();\n                position = target.x - tooltip.x + target.width / 2;\n                _context4.next = 4;\n                return _this.setState(function () {\n                  return {\n                    arrowPosition: position,\n                    positionCaculated: true\n                  };\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"renderReactionItems\", function () {\n      var _this$props = _this.props,\n          reaction_counts = _this$props.reaction_counts,\n          latest_reactions = _this$props.latest_reactions;\n      return _this.props.reactionOptions.map(function (reaction) {\n        var users = _this.getUserNames(latest_reactions, reaction.id);\n\n        var latestUser = _this.getLatestUser(latest_reactions, reaction.id);\n\n        var count = reaction_counts && reaction_counts[reaction.id];\n        return /*#__PURE__*/React__default.createElement(\"li\", {\n          key: \"item-\".concat(reaction.id),\n          className: \"str-chat__message-reactions-list-item\",\n          \"data-text\": reaction.id,\n          onClick: _this.props.handleReaction.bind(_assertThisInitialized(_this), reaction.id)\n        }, Boolean(count) && _this.props.detailedView && /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"latest-user\",\n          onMouseEnter: function onMouseEnter(e) {\n            return _this.showTooltip(e, users);\n          },\n          onMouseLeave: _this.hideTooltip\n        }, latestUser !== 'NotFound' ? /*#__PURE__*/React__default.createElement(Avatar, {\n          image: latestUser.image,\n          alt: latestUser.id,\n          size: 20,\n          name: latestUser.id\n        }) : /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"latest-user-not-found\"\n        }))), /*#__PURE__*/React__default.createElement(NimbleEmoji, _extends({\n          emoji: reaction\n        }, emojiSetDef, {\n          data: emojiData\n        })), Boolean(count) && _this.props.detailedView && /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-reactions-list-item__count\"\n        }, count || ''));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUsers\", function (users) {\n      return users.map(function (user, i) {\n        var text = user.name || user.id;\n\n        if (i + 1 < users.length) {\n          text += ', ';\n        }\n\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"latest-user-username\",\n          key: \"key-\".concat(i, \"-\").concat(user)\n        }, text);\n      });\n    });\n\n    _this.state = {\n      showTooltip: false,\n      users: [],\n      position: 0,\n      arrowPosition: 0,\n      positionCalculated: false\n    };\n    _this.reactionSelector = React__default.createRef();\n    _this.reactionSelectorInner = React__default.createRef();\n    _this.reactionSelectorTooltip = React__default.createRef();\n    return _this;\n  }\n\n  _createClass(ReactionSelector, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__reaction-selector \".concat(this.props.reverse ? 'str-chat__reaction-selector--reverse' : ''),\n        ref: this.reactionSelector\n      }, this.props.detailedView && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__reaction-selector-tooltip\",\n        ref: this.reactionSelectorTooltip,\n        style: {\n          visibility: this.state.showTooltip ? 'visible' : 'hidden',\n          left: this.state.position,\n          opacity: this.state.showTooltip && this.state.positionCaculated ? 1 : 0.01\n        }\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"arrow\",\n        style: {\n          left: this.state.arrowPosition\n        }\n      }), this.renderUsers(this.state.users)), /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"str-chat__message-reactions-list\"\n      }, this.renderReactionItems()));\n    }\n  }]);\n\n  return ReactionSelector;\n}(PureComponent);\n\n_defineProperty(ReactionSelector, \"propTypes\", {\n  /**\n   * Array of latest reactions.\n   * Reaction object has following structure:\n   *\n   * ```json\n   * {\n   *  \"type\": \"love\",\n   *  \"user_id\": \"demo_user_id\",\n   *  \"user\": {\n   *    ...userObject\n   *  },\n   *  \"created_at\": \"datetime\";\n   * }\n   * ```\n   * */\n  latest_reactions: PropTypes.array,\n\n  /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n  reaction_counts: PropTypes.object,\n\n  /**\n   * Handler to set/unset reaction on message.\n   *\n   * @param type e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * */\n  handleReaction: PropTypes.func.isRequired,\n\n  /** Enable the avatar display */\n  detailedView: PropTypes.bool,\n\n  /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n  reactionOptions: PropTypes.array,\n\n  /** If true, reaction list will be shown at trailing end of message bubble. */\n  reverse: PropTypes.bool\n});\n\n_defineProperty(ReactionSelector, \"defaultProps\", {\n  detailedView: true,\n  reactionOptions: defaultMinimalEmojis,\n  reverse: false,\n  emojiSetDef\n});\n\nfunction _createSuper$e(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$e()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$e() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MessageRepliesCountButton = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(MessageRepliesCountButton, _React$PureComponent);\n\n  var _super = _createSuper$e(MessageRepliesCountButton);\n\n  function MessageRepliesCountButton() {\n    _classCallCheck(this, MessageRepliesCountButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MessageRepliesCountButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          reply_count = _this$props.reply_count,\n          labelSingle = _this$props.labelSingle,\n          labelPlural = _this$props.labelPlural,\n          t = _this$props.t;\n      var singleReplyText;\n      var pluralReplyText;\n\n      if (reply_count === 1) {\n        if (labelSingle) {\n          singleReplyText = \"1 \".concat(labelSingle);\n        } else {\n          singleReplyText = t('1 reply');\n        }\n      }\n\n      if (reply_count > 1) {\n        if (labelPlural) {\n          pluralReplyText = \"\".concat(reply_count, \" \").concat(labelPlural);\n        } else {\n          pluralReplyText = t('{{ replyCount }} replies', {\n            replyCount: reply_count\n          });\n        }\n      }\n\n      if (reply_count && reply_count !== 0) {\n        return /*#__PURE__*/React__default.createElement(\"button\", {\n          className: \"str-chat__message-replies-count-button\",\n          onClick: this.props.onClick\n        }, /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"18\",\n          height: \"15\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M.56 10.946H.06l-.002-.498L.025.92a.5.5 0 1 1 1-.004l.032 9.029H9.06v-4l9 4.5-9 4.5v-4H.56z\",\n          fillRule: \"nonzero\"\n        })), reply_count === 1 ? singleReplyText : pluralReplyText);\n      }\n\n      return null;\n    }\n  }]);\n\n  return MessageRepliesCountButton;\n}(React__default.PureComponent);\n\n_defineProperty(MessageRepliesCountButton, \"propTypes\", {\n  /** Label for number of replies, when count is 1 */\n  labelSingle: PropTypes.string,\n\n  /** Label for number of replies, when count is more than 1 */\n  labelPlural: PropTypes.string,\n\n  /** Number of replies */\n  reply_count: PropTypes.number,\n\n  /**\n   * click handler for button\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  onClick: PropTypes.func\n});\n\n_defineProperty(MessageRepliesCountButton, \"defaultProps\", {\n  reply_count: 0\n});\n\nMessageRepliesCountButton = withTranslationContext(MessageRepliesCountButton);\n\nfunction _createSuper$f(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$f()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$f() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar Modal = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Modal, _React$PureComponent);\n\n  var _super = _createSuper$f(Modal);\n\n  function Modal() {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"innerRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      if (!_this.innerRef.current.contains(e.target)) {\n        _this.props.onClose();\n\n        document.removeEventListener('keyPress', _this.handleEscKey, false);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('keyPress', this.handleEscKey, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keyPress', this.handleEscKey, false);\n    }\n  }, {\n    key: \"handleEscKey\",\n    value: function handleEscKey(e) {\n      if (e.keyCode === 27) {\n        this.props.onClose();\n        document.removeEventListener('keyPress', this.handleEscKey, false);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var openClasses = this.props.open ? 'str-chat__modal--open' : 'str-chat__modal--closed';\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__modal \".concat(openClasses),\n        onClick: this.handleClick\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__modal__close-button\"\n      }, \"Close\", /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"10\",\n        height: \"10\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__modal__inner\",\n        ref: this.innerRef\n      }, this.props.children));\n    }\n  }]);\n\n  return Modal;\n}(React__default.PureComponent);\n\n_defineProperty(Modal, \"propTypes\", {\n  /** Callback handler for closing of modal. */\n  onClose: PropTypes.func,\n\n  /** If true, modal is opened or visible. */\n  open: PropTypes.bool\n});\n\nvar KEY_CODES = {\n  ESC: 27,\n  UP: 38,\n  DOWN: 40,\n  ENTER: 13,\n  TAB: 9,\n  SPACE: 32\n}; // This is self-made key shortcuts manager, used for caching key strokes\n\nvar Listener = function Listener() {\n  var _this = this;\n\n  _classCallCheck(this, Listener);\n\n  _defineProperty(this, \"startListen\", function () {\n    if (!_this.refCount) {\n      // prevent multiple listeners in case of multiple TextareaAutocomplete components on page\n      document.addEventListener('keydown', _this.f);\n    }\n\n    _this.refCount++;\n  });\n\n  _defineProperty(this, \"stopListen\", function () {\n    _this.refCount--;\n\n    if (!_this.refCount) {\n      // prevent disable listening in case of multiple TextareaAutocomplete components on page\n      document.removeEventListener('keydown', _this.f);\n    }\n  });\n\n  _defineProperty(this, \"add\", function (keyCodes, fn) {\n    var keyCode = keyCodes;\n    if (typeof keyCode !== 'object') keyCode = [keyCode];\n    _this.listeners[_this.index] = {\n      keyCode,\n      fn\n    };\n    _this.index += 1;\n    return _this.index;\n  });\n\n  _defineProperty(this, \"remove\", function (id) {\n    delete _this.listeners[id];\n  });\n\n  _defineProperty(this, \"removeAll\", function () {\n    _this.listeners = {};\n    _this.index = 0;\n  });\n\n  this.index = 0;\n  this.listeners = {};\n  this.refCount = 0;\n\n  this.f = function (e) {\n    var code = e.keyCode || e.which;\n    Object.values(_this.listeners).forEach(function (_ref) {\n      var keyCode = _ref.keyCode,\n          fn = _ref.fn;\n      if (keyCode.includes(code)) fn(e);\n    });\n  };\n};\n\nvar Listeners = new Listener();\n\nfunction _createSuper$g(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$g()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$g() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar Item = /*#__PURE__*/function (_React$Component) {\n  _inherits(Item, _React$Component);\n\n  var _super = _createSuper$g(Item);\n\n  function Item() {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function () {\n      var _this$props = _this.props,\n          item = _this$props.item,\n          onSelectHandler = _this$props.onSelectHandler;\n      onSelectHandler(item);\n    });\n\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          Component = _this$props2.component,\n          style = _this$props2.style,\n          onClickHandler = _this$props2.onClickHandler,\n          item = _this$props2.item,\n          selected = _this$props2.selected,\n          className = _this$props2.className,\n          innerRef = _this$props2.innerRef;\n      return /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"rta__item \".concat(className || ''),\n        style: style\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rta__entity \".concat(selected === true ? 'rta__entity--selected' : ''),\n        role: \"button\",\n        tabIndex: 0,\n        onClick: onClickHandler,\n        onFocus: this.selectItem,\n        onMouseEnter: this.selectItem\n        /* $FlowFixMe */\n        ,\n        ref: innerRef\n      }, /*#__PURE__*/React__default.createElement(Component, {\n        selected: selected,\n        entity: item\n      })));\n    }\n  }]);\n\n  return Item;\n}(React__default.Component);\n\nfunction _createSuper$h(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$h()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$h() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar List = /*#__PURE__*/function (_React$Component) {\n  _inherits(List, _React$Component);\n\n  var _super = _createSuper$h(List);\n\n  function List() {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      selectedItem: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cachedValues\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"onPressEnter\", function (e) {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      var values = _this.props.values;\n\n      _this.modifyText(values[_this.getPositionInList()]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPositionInList\", function () {\n      var values = _this.props.values;\n      var selectedItem = _this.state.selectedItem;\n      if (!selectedItem) return 0;\n      return values.findIndex(function (a) {\n        return _this.getId(a) === _this.getId(selectedItem);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getId\", function (item) {\n      var textToReplace = _this.props.getTextToReplace(item);\n\n      if (textToReplace.key) {\n        return textToReplace.key;\n      }\n\n      if (typeof item === 'string' || !item.key) {\n        return textToReplace.text;\n      }\n\n      return item.key;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"listeners\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"modifyText\", function (value) {\n      if (!value) return;\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          getTextToReplace = _this$props.getTextToReplace,\n          getSelectedItem = _this$props.getSelectedItem;\n      onSelect(getTextToReplace(value));\n\n      if (getSelectedItem) {\n        getSelectedItem(value);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (item) {\n      var keyboard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.setState({\n        selectedItem: item\n      }, function () {\n        if (keyboard) {\n          _this.props.dropdownScroll(_this.itemsRef[_this.getId(item)]);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"scroll\", function (e) {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      var values = _this.props.values;\n      var code = e.keyCode || e.which;\n\n      var oldPosition = _this.getPositionInList();\n\n      var newPosition;\n\n      switch (code) {\n        case KEY_CODES.DOWN:\n          newPosition = oldPosition + 1;\n          break;\n\n        case KEY_CODES.UP:\n          newPosition = oldPosition - 1;\n          break;\n\n        default:\n          newPosition = oldPosition;\n          break;\n      }\n\n      newPosition = (newPosition % values.length + values.length) % values.length; // eslint-disable-line\n\n      _this.selectItem(values[newPosition], [KEY_CODES.DOWN, KEY_CODES.UP].includes(code));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isSelected\", function (item) {\n      var selectedItem = _this.state.selectedItem;\n      if (!selectedItem) return false;\n      return _this.getId(selectedItem) === _this.getId(item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHeader\", function (value) {\n      if (value[0] === '/') {\n        return \"Commands matching <strong>\".concat(value.replace('/', ''), \"</strong>\");\n      }\n\n      if (value[0] === ':') {\n        return \"Emoji matching <strong>\".concat(value.replace(':', ''), \"</strong>\");\n      }\n\n      if (value[0] === '@') {\n        return \"Searching for people\";\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.listeners.push(Listeners.add([KEY_CODES.DOWN, KEY_CODES.UP], this.scroll), Listeners.add([KEY_CODES.ENTER, KEY_CODES.TAB], this.onPressEnter));\n      var values = this.props.values;\n      if (values && values[0]) this.selectItem(values[0]);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(_ref) {\n      var _this2 = this;\n\n      var values = _ref.values;\n      var newValues = values.map(function (val) {\n        return _this2.getId(val);\n      }).join('');\n\n      if (this.cachedValues !== newValues && values && values[0]) {\n        this.selectItem(values[0]);\n        this.cachedValues = newValues;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var listener;\n\n      while (this.listeners.length) {\n        listener = this.listeners.pop();\n        Listeners.remove(listener);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          values = _this$props2.values,\n          component = _this$props2.component,\n          style = _this$props2.style,\n          itemClassName = _this$props2.itemClassName,\n          className = _this$props2.className,\n          itemStyle = _this$props2.itemStyle;\n      return /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"rta__list \".concat(className || ''),\n        style: style\n      }, /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"rta__list-header\",\n        dangerouslySetInnerHTML: {\n          __html: this.renderHeader(this.props.value)\n        }\n      }), values.map(function (item) {\n        return /*#__PURE__*/React__default.createElement(Item, {\n          key: _this3.getId(item),\n          innerRef: function innerRef(ref) {\n            _this3.itemsRef[_this3.getId(item)] = ref;\n          },\n          selected: _this3.isSelected(item),\n          item: item,\n          className: itemClassName,\n          style: itemStyle,\n          onClickHandler: _this3.onPressEnter,\n          onSelectHandler: _this3.selectItem,\n          component: component\n        });\n      }));\n    }\n  }]);\n\n  return List;\n}(React__default.Component); //\n\n\nfunction defaultScrollToItem(container, item) {\n  var itemHeight = parseInt(getComputedStyle(item).getPropertyValue('height'), 10);\n  var containerHight = parseInt(getComputedStyle(container).getPropertyValue('height'), 10) - itemHeight;\n  var itemOffsetTop = item.offsetTop;\n  var actualScrollTop = container.scrollTop;\n\n  if (itemOffsetTop < actualScrollTop + containerHight && actualScrollTop < itemOffsetTop) {\n    return;\n  } // eslint-disable-next-line\n\n\n  container.scrollTop = itemOffsetTop;\n}\n\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$4(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$4(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$i(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$i()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$i() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar DEFAULT_CARET_POSITION = 'next';\n\nvar errorMessage = function errorMessage(message) {\n  return console.error(\"RTA: dataProvider fails: \".concat(message, \"\\n    \\nCheck the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues\"));\n};\n\nvar ReactTextareaAutocomplete = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactTextareaAutocomplete, _React$Component);\n\n  var _super = _createSuper$i(ReactTextareaAutocomplete);\n\n  function ReactTextareaAutocomplete(_props) {\n    var _this;\n\n    _classCallCheck(this, ReactTextareaAutocomplete);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectionPosition\", function () {\n      if (!_this.textareaRef) return null;\n      return {\n        selectionStart: _this.textareaRef.selectionStart,\n        selectionEnd: _this.textareaRef.selectionEnd\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedText\", function () {\n      if (!_this.textareaRef) return null;\n      var _this$textareaRef = _this.textareaRef,\n          selectionStart = _this$textareaRef.selectionStart,\n          selectionEnd = _this$textareaRef.selectionEnd;\n      if (selectionStart === selectionEnd) return null;\n      return _this.state.value.substr(selectionStart, selectionEnd - selectionStart);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCaretPosition\", function () {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!_this.textareaRef) return;\n\n      _this.textareaRef.focus();\n\n      _this.textareaRef.setSelectionRange(position, position);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCaretPosition\", function () {\n      if (!_this.textareaRef) {\n        return 0;\n      }\n\n      return _this.textareaRef.selectionEnd;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onEnter\", function (event) {\n      var trigger = _this.state.currentTrigger;\n\n      if (!_this.textareaRef) {\n        return;\n      }\n\n      var hasFocus = _this.textareaRef.matches(':focus'); // don't submit if the element has focus or the shift key is pressed\n\n\n      if (!hasFocus || event.shiftKey === true) {\n        return;\n      }\n\n      if (!trigger) {\n        // trigger a submit\n        _this._replaceWord();\n\n        if (_this.textareaRef) {\n          _this.textareaRef.selectionEnd = 0;\n        }\n\n        _this.props.handleSubmit(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSpace\", function () {\n      if (!_this.props.replaceWord) {\n        return;\n      }\n\n      if (!_this.textareaRef) {\n        return;\n      }\n\n      var hasFocus = _this.textareaRef.matches(':focus'); // don't change characters if the element doesn't have focus\n\n\n      if (!hasFocus) {\n        return;\n      }\n\n      _this._replaceWord();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_replaceWord\", function () {\n      var lastWordRegex = /([^\\s]+)(\\s*)$/;\n      var value = _this.state.value;\n      var match = lastWordRegex.exec(value.slice(0, _this.getCaretPosition()));\n      var lastWord = match && match[1];\n\n      if (!lastWord) {\n        return;\n      }\n\n      var spaces = match[2];\n\n      var newWord = _this.props.replaceWord(lastWord);\n\n      if (newWord == null) {\n        return;\n      }\n\n      var textBeforeWord = value.slice(0, _this.getCaretPosition() - match[0].length);\n      var textAfterCaret = value.slice(_this.getCaretPosition(), -1);\n      var newText = textBeforeWord + newWord + spaces + textAfterCaret;\n\n      _this.setState({\n        value: newText\n      }, function () {\n        // fire onChange event after successful selection\n        var e = new CustomEvent('change', {\n          bubbles: true\n        });\n\n        _this.textareaRef.dispatchEvent(e);\n\n        if (_this.props.onChange) _this.props.onChange(e);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", function (newToken) {\n      var _this$state = _this.state,\n          selectionEnd = _this$state.selectionEnd,\n          currentTrigger = _this$state.currentTrigger,\n          textareaValue = _this$state.value;\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          trigger = _this$props.trigger;\n      if (!currentTrigger) return;\n\n      var computeCaretPosition = function computeCaretPosition(position, token, startToken) {\n        switch (position) {\n          case 'start':\n            return startToken;\n\n          case 'next':\n          case 'end':\n            return startToken + token.length;\n\n          default:\n            if (!Number.isInteger(position)) {\n              throw new Error('RTA: caretPosition should be \"start\", \"next\", \"end\" or number.');\n            }\n\n            return position;\n        }\n      };\n\n      var textToModify = textareaValue.slice(0, selectionEnd);\n      var startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(\"\\\\\".concat(currentTrigger, \"[^\\\\\".concat(currentTrigger).concat(trigger[currentTrigger].allowWhitespace ? '' : '\\\\s', \"]\"), \"*$\"))); // we add space after emoji is selected if a caret position is next\n\n      var newTokenString = newToken.caretPosition === 'next' ? \"\".concat(newToken.text, \" \") : newToken.text;\n      var newCaretPosition = computeCaretPosition(newToken.caretPosition, newTokenString, startOfTokenPosition);\n      var modifiedText = textToModify.substring(0, startOfTokenPosition) + newTokenString; // set the new textarea value and after that set the caret back to its position\n\n      _this.setState({\n        value: textareaValue.replace(textToModify, modifiedText),\n        dataLoading: false\n      }, function () {\n        // fire onChange event after successful selection\n        var e = new CustomEvent('change', {\n          bubbles: true\n        });\n\n        _this.textareaRef.dispatchEvent(e);\n\n        if (onChange) onChange(e);\n\n        _this.setCaretPosition(newCaretPosition);\n      });\n\n      _this._closeAutocomplete();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getItemOnSelect\", function () {\n      var currentTrigger = _this.state.currentTrigger;\n\n      var triggerSettings = _this._getCurrentTriggerSettings();\n\n      if (!currentTrigger || !triggerSettings) return null;\n      var callback = triggerSettings.callback;\n      if (!callback) return null;\n      return function (item) {\n        if (typeof callback !== 'function') {\n          throw new Error('Output functor is not defined! You have to define \"output\" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');\n        }\n\n        if (callback) {\n          return callback(item, currentTrigger);\n        }\n\n        return null;\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getTextToReplace\", function () {\n      var _this$state2 = _this.state,\n          currentTrigger = _this$state2.currentTrigger,\n          actualToken = _this$state2.actualToken;\n\n      var triggerSettings = _this._getCurrentTriggerSettings();\n\n      if (!currentTrigger || !triggerSettings) return null;\n      var output = triggerSettings.output;\n      return function (item) {\n        if (typeof item === 'object' && (!output || typeof output !== 'function')) {\n          throw new Error('Output functor is not defined! If you are using items as object you have to define \"output\" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');\n        }\n\n        if (output) {\n          var textToReplace = output(item, currentTrigger);\n\n          if (!textToReplace || typeof textToReplace === 'number') {\n            throw new Error(\"Output functor should return string or object in shape {text: string, caretPosition: string | number}.\\nGot \\\"\".concat(String(textToReplace), \"\\\". Check the implementation for trigger \\\"\").concat(currentTrigger, \"\\\" and its token \\\"\").concat(actualToken, \"\\\"\\n\\nSee https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more informations.\\n\"));\n          }\n\n          if (typeof textToReplace === 'string') {\n            return {\n              text: textToReplace,\n              caretPosition: DEFAULT_CARET_POSITION\n            };\n          }\n\n          if (!textToReplace.text) {\n            throw new Error(\"Output \\\"text\\\" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger \\\"\".concat(currentTrigger, \"\\\" and its token \\\"\").concat(actualToken, \"\\\"\\n\"));\n          }\n\n          if (!textToReplace.caretPosition) {\n            throw new Error(\"Output \\\"caretPosition\\\" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger \\\"\".concat(currentTrigger, \"\\\" and its token \\\"\").concat(actualToken, \"\\\"\\n\"));\n          }\n\n          return textToReplace;\n        }\n\n        if (typeof item !== 'string') {\n          throw new Error('Output item should be string\\n');\n        }\n\n        return {\n          text: \"\".concat(currentTrigger).concat(item).concat(currentTrigger),\n          caretPosition: DEFAULT_CARET_POSITION\n        };\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getCurrentTriggerSettings\", function () {\n      var currentTrigger = _this.state.currentTrigger;\n      if (!currentTrigger) return null;\n      return _this.props.trigger[currentTrigger];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getValuesFromProvider\", function () {\n      var _this$state3 = _this.state,\n          currentTrigger = _this$state3.currentTrigger,\n          actualToken = _this$state3.actualToken;\n\n      var triggerSettings = _this._getCurrentTriggerSettings();\n\n      if (!currentTrigger || !triggerSettings) {\n        return;\n      }\n\n      var dataProvider = triggerSettings.dataProvider,\n          component = triggerSettings.component;\n\n      if (typeof dataProvider !== 'function') {\n        throw new Error('Trigger provider has to be a function!');\n      }\n\n      _this.setState({\n        dataLoading: true\n      }); // Modified: send the full text to support / style commands\n\n\n      var providedData = dataProvider(actualToken, _this.state.value);\n\n      if (!(providedData instanceof Promise)) {\n        providedData = Promise.resolve(providedData);\n      }\n\n      providedData.then(function (data) {\n        if (!Array.isArray(data)) {\n          throw new Error('Trigger provider has to provide an array!');\n        }\n\n        if (typeof component !== 'function') {\n          throw new Error('Component should be defined!');\n        } // throw away if we resolved old trigger\n\n\n        if (currentTrigger !== _this.state.currentTrigger) return; // if we haven't resolved any data let's close the autocomplete\n\n        if (!data.length) {\n          _this._closeAutocomplete();\n\n          return;\n        }\n\n        _this.setState({\n          dataLoading: false,\n          data,\n          component\n        });\n      }).catch(function (e) {\n        return errorMessage(e.message);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getSuggestions\", function () {\n      var _this$state4 = _this.state,\n          currentTrigger = _this$state4.currentTrigger,\n          data = _this$state4.data;\n      if (!currentTrigger || !data || data && !data.length) return null;\n      return data;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_createRegExp\", function () {\n      var trigger = _this.props.trigger; // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n      // https://stackoverflow.com/a/8057827/2719917\n\n      _this.tokenRegExp = new RegExp(\"([\".concat(Object.keys(trigger).join(''), \"])(?:(?!\\\\1)[^\\\\s])*$\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAutocomplete\", function () {\n      _this.setState({\n        data: null,\n        dataLoading: false,\n        currentTrigger: null,\n        top: null,\n        left: null\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cleanUpProps\", function () {\n      var props = _objectSpread$4({}, _this.props);\n\n      var notSafe = ['loadingComponent', 'containerStyle', 'minChar', 'scrollToItem', 'ref', 'innerRef', 'onChange', 'onCaretPositionChange', 'className', 'value', 'trigger', 'listStyle', 'itemStyle', 'containerStyle', 'loaderStyle', 'className', 'containerClassName', 'listClassName', 'itemClassName', 'loaderClassName', 'closeOnClickOutside', 'dropdownStyle', 'dropdownClassName', 'movePopupAsYouType', 'handleSubmit', 'replaceWord', 'grow', 'additionalTextareaProps']; // eslint-disable-next-line\n\n      for (var prop in props) {\n        if (notSafe.includes(prop)) delete props[prop];\n      }\n\n      return props;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_changeHandler\", function (e) {\n      var _this$props2 = _this.props,\n          trigger = _this$props2.trigger,\n          onChange = _this$props2.onChange,\n          minChar = _this$props2.minChar,\n          onCaretPositionChange = _this$props2.onCaretPositionChange,\n          movePopupAsYouType = _this$props2.movePopupAsYouType;\n      var _this$state5 = _this.state,\n          top = _this$state5.top,\n          left = _this$state5.left;\n      var textarea = e.target;\n      var selectionEnd = textarea.selectionEnd,\n          selectionStart = textarea.selectionStart;\n      var value = textarea.value;\n\n      if (onChange) {\n        e.persist();\n        onChange(e);\n      }\n\n      if (onCaretPositionChange) {\n        var caretPosition = _this.getCaretPosition();\n\n        onCaretPositionChange(caretPosition);\n      }\n\n      _this.setState({\n        value\n      });\n\n      var tokenMatch = _this.tokenRegExp.exec(value.slice(0, selectionEnd));\n\n      var lastToken = tokenMatch && tokenMatch[0];\n      var currentTrigger = lastToken && Object.keys(trigger).find(function (a) {\n        return a === lastToken[0];\n      }) || null;\n      /*\n       if we lost the trigger token or there is no following character we want to close\n       the autocomplete\n      */\n\n      if ((!lastToken || lastToken.length <= minChar) && ( // check if our current trigger disallows whitespace\n      _this.state.currentTrigger && !trigger[_this.state.currentTrigger].allowWhitespace || !_this.state.currentTrigger)) {\n        _this._closeAutocomplete();\n\n        return;\n      }\n      /**\n       * This code has to be sync that is the reason why we obtain the currentTrigger\n       * from currentTrigger not this.state.currentTrigger\n       *\n       * Check if the currently typed token has to be afterWhitespace, or not.\n       */\n\n\n      if (currentTrigger && value[tokenMatch.index - 1] && trigger[currentTrigger].afterWhitespace && !value[tokenMatch.index - 1].match(/\\s/)) {\n        _this._closeAutocomplete();\n\n        return;\n      }\n      /**\n        If our current trigger allows whitespace\n        get the correct token for DataProvider, so we need to construct new RegExp\n       */\n\n\n      if (_this.state.currentTrigger && trigger[_this.state.currentTrigger].allowWhitespace) {\n        tokenMatch = new RegExp(\"\\\\\".concat(_this.state.currentTrigger, \"[^\").concat(_this.state.currentTrigger, \"]*$\")).exec(value.slice(0, selectionEnd));\n        lastToken = tokenMatch && tokenMatch[0];\n\n        if (!lastToken) {\n          _this._closeAutocomplete();\n\n          return;\n        }\n\n        currentTrigger = Object.keys(trigger).find(function (a) {\n          return a === lastToken[0];\n        }) || null;\n      }\n\n      var actualToken = lastToken.slice(1); // if trigger is not configured step out from the function, otherwise proceed\n\n      if (!currentTrigger) {\n        return;\n      }\n\n      if (movePopupAsYouType || top === null && left === null || // if we have single char - trigger it means we want to re-position the autocomplete\n      lastToken.length === 1) {\n        var _getCaretCoordinates = getCaretCoordinates(textarea, selectionEnd),\n            newTop = _getCaretCoordinates.top,\n            newLeft = _getCaretCoordinates.left;\n\n        _this.setState({\n          // make position relative to textarea\n          top: newTop - _this.textareaRef.scrollTop || 0,\n          left: newLeft\n        });\n      }\n\n      _this.setState({\n        selectionEnd,\n        selectionStart,\n        currentTrigger,\n        actualToken\n      }, function () {\n        try {\n          _this._getValuesFromProvider();\n        } catch (err) {\n          errorMessage(err.message);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_selectHandler\", function (e) {\n      var _this$props3 = _this.props,\n          onCaretPositionChange = _this$props3.onCaretPositionChange,\n          onSelect = _this$props3.onSelect;\n\n      if (onCaretPositionChange) {\n        var caretPosition = _this.getCaretPosition();\n\n        onCaretPositionChange(caretPosition);\n      }\n\n      if (onSelect) {\n        e.persist();\n        onSelect(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClickAndBlurHandler\", function (e) {\n      var _this$props4 = _this.props,\n          closeOnClickOutside = _this$props4.closeOnClickOutside,\n          onBlur = _this$props4.onBlur; // If this is a click: e.target is the textarea, and e.relatedTarget is the thing\n      // that was actually clicked. If we clicked inside the autoselect dropdown, then\n      // that's not a blur, from the autoselect's point of view, so then do nothing.\n\n      var el = e.relatedTarget;\n\n      if (_this.dropdownRef && el instanceof Node && _this.dropdownRef.contains(el)) {\n        return;\n      }\n\n      if (closeOnClickOutside) {\n        _this._closeAutocomplete();\n      }\n\n      if (onBlur) {\n        e.persist();\n        onBlur(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollHandler\", function () {\n      _this._closeAutocomplete();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_dropdownScroll\", function (item) {\n      var scrollToItem = _this.props.scrollToItem;\n      if (!scrollToItem) return;\n\n      if (scrollToItem === true) {\n        defaultScrollToItem(_this.dropdownRef, item);\n        return;\n      }\n\n      if (typeof scrollToItem !== 'function' || scrollToItem.length !== 2) {\n        throw new Error('`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.');\n      }\n\n      scrollToItem(_this.dropdownRef, item);\n    });\n\n    var _this$props5 = _this.props,\n        loadingComponent = _this$props5.loadingComponent,\n        _trigger = _this$props5.trigger,\n        _value = _this$props5.value; // TODO: it would be better to have the parent control state...\n    // if (value) this.state.value = value;\n\n    _this._createRegExp();\n\n    if (!loadingComponent) {\n      throw new Error('RTA: loadingComponent is not defined');\n    }\n\n    if (!_trigger) {\n      throw new Error('RTA: trigger is not defined');\n    }\n\n    _this.state = {\n      top: null,\n      left: null,\n      currentTrigger: null,\n      actualToken: '',\n      data: null,\n      value: _value || '',\n      dataLoading: false,\n      selectionEnd: 0,\n      selectionStart: 0,\n      component: null,\n      listenerIndex: 0\n    };\n    return _this;\n  }\n\n  _createClass(ReactTextareaAutocomplete, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Listeners.add(KEY_CODES.ESC, function () {\n        return _this2._closeAutocomplete();\n      });\n      Listeners.add(KEY_CODES.SPACE, function () {\n        return _this2._onSpace();\n      });\n      var listenerIndex = Listeners.add(KEY_CODES.ENTER, function (e) {\n        return _this2._onEnter(e);\n      });\n      this.setState({\n        listenerIndex\n      });\n      Listeners.startListen();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this._update(nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Listeners.stopListen();\n      Listeners.remove(this.state.listenerIndex);\n    }\n  }, {\n    key: \"_update\",\n    // TODO: This is an anti pattern in react, should come up with a better way\n    value: function _update(_ref) {\n      var value = _ref.value,\n          trigger = _ref.trigger;\n      var oldValue = this.state.value;\n      var oldTrigger = this.props.trigger;\n      if (value !== oldValue || !oldValue) this.setState({\n        value\n      });\n      /**\n       * check if trigger chars are changed, if so, change the regexp accordingly\n       */\n\n      if (Object.keys(trigger).join('') !== Object.keys(oldTrigger).join('')) {\n        this._createRegExp();\n      }\n    }\n    /**\n     * Close autocomplete, also clean up trigger (to avoid slow promises)\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props6 = this.props,\n          Loader = _this$props6.loadingComponent,\n          style = _this$props6.style,\n          className = _this$props6.className,\n          itemStyle = _this$props6.itemStyle,\n          listClassName = _this$props6.listClassName,\n          itemClassName = _this$props6.itemClassName,\n          dropdownClassName = _this$props6.dropdownClassName,\n          dropdownStyle = _this$props6.dropdownStyle,\n          containerStyle = _this$props6.containerStyle,\n          containerClassName = _this$props6.containerClassName,\n          loaderStyle = _this$props6.loaderStyle,\n          loaderClassName = _this$props6.loaderClassName;\n      var _this$state6 = this.state,\n          dataLoading = _this$state6.dataLoading,\n          currentTrigger = _this$state6.currentTrigger,\n          component = _this$state6.component,\n          value = _this$state6.value;\n\n      var suggestionData = this._getSuggestions();\n\n      var textToReplace = this._getTextToReplace();\n\n      var selectedItem = this._getItemOnSelect();\n\n      var maxRows = this.props.maxRows;\n\n      if (!this.props.grow) {\n        maxRows = 1;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rta \".concat(dataLoading === true ? 'rta--loading' : '', \" \").concat(containerClassName || ''),\n        style: containerStyle\n      }, (dataLoading || suggestionData) && currentTrigger && /*#__PURE__*/React__default.createElement(\"div\", {\n        ref: function ref(_ref2) {\n          // $FlowFixMe\n          _this3.dropdownRef = _ref2;\n        },\n        style: _objectSpread$4({}, dropdownStyle),\n        className: \"rta__autocomplete \".concat(dropdownClassName || '')\n      }, suggestionData && component && textToReplace && /*#__PURE__*/React__default.createElement(List, {\n        value: value,\n        values: suggestionData,\n        component: component,\n        className: listClassName,\n        itemClassName: itemClassName,\n        itemStyle: itemStyle,\n        getTextToReplace: textToReplace,\n        getSelectedItem: selectedItem,\n        onSelect: this._onSelect,\n        dropdownScroll: this._dropdownScroll\n      }), dataLoading && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rta__loader \".concat(suggestionData !== null ? 'rta__loader--suggestion-data' : 'rta__loader--empty-suggestion-data', \" \").concat(loaderClassName || ''),\n        style: loaderStyle\n      }, /*#__PURE__*/React__default.createElement(Loader, {\n        data: suggestionData\n      }))), /*#__PURE__*/React__default.createElement(Textarea, _extends({}, this._cleanUpProps(), {\n        inputRef: function inputRef(ref) {\n          _this3.props.innerRef && _this3.props.innerRef(ref);\n          _this3.textareaRef = ref;\n        },\n        maxRows: maxRows,\n        className: \"rta__textarea \".concat(className || ''),\n        onChange: this._changeHandler,\n        onSelect: this._selectHandler,\n        onScroll: this._onScrollHandler,\n        onClick: // The textarea itself is outside the autoselect dropdown.\n        this._onClickAndBlurHandler,\n        onBlur: this._onClickAndBlurHandler,\n        onFocus: this.props.onFocus,\n        value: value,\n        style: style\n      }, this.props.additionalTextareaProps)));\n    }\n  }]);\n\n  return ReactTextareaAutocomplete;\n}(React__default.Component);\n\n_defineProperty(ReactTextareaAutocomplete, \"defaultProps\", {\n  closeOnClickOutside: true,\n  movePopupAsYouType: false,\n  value: '',\n  minChar: 1,\n  scrollToItem: true,\n  maxRows: 10\n});\n\nvar triggerPropsCheck = function triggerPropsCheck(_ref3) {\n  var trigger = _ref3.trigger;\n  if (!trigger) return Error('Invalid prop trigger. Prop missing.');\n  var triggers = Object.entries(trigger);\n\n  for (var i = 0; i < triggers.length; i += 1) {\n    var _triggers$i = _slicedToArray(triggers[i], 2),\n        triggerChar = _triggers$i[0],\n        settings = _triggers$i[1];\n\n    if (typeof triggerChar !== 'string' || triggerChar.length !== 1) {\n      return Error('Invalid prop trigger. Keys of the object has to be string / one character.');\n    } // $FlowFixMe\n\n\n    var triggerSetting = settings;\n    var component = triggerSetting.component,\n        dataProvider = triggerSetting.dataProvider,\n        output = triggerSetting.output,\n        callback = triggerSetting.callback,\n        afterWhitespace = triggerSetting.afterWhitespace,\n        allowWhitespace = triggerSetting.allowWhitespace;\n\n    if (!component || typeof component !== 'function') {\n      return Error('Invalid prop trigger: component should be defined.');\n    }\n\n    if (!dataProvider || typeof dataProvider !== 'function') {\n      return Error('Invalid prop trigger: dataProvider should be defined.');\n    }\n\n    if (output && typeof output !== 'function') {\n      return Error('Invalid prop trigger: output should be a function.');\n    }\n\n    if (callback && typeof callback !== 'function') {\n      return Error('Invalid prop trigger: callback should be a function.');\n    }\n\n    if (afterWhitespace && allowWhitespace) {\n      return Error('Invalid prop trigger: afterWhitespace and allowWhitespace can be used together');\n    }\n  }\n\n  return null;\n};\n\nReactTextareaAutocomplete.propTypes = {\n  loadingComponent: PropTypes.func.isRequired,\n  minChar: PropTypes.number,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onBlur: PropTypes.func,\n  onCaretPositionChange: PropTypes.func,\n  className: PropTypes.string,\n  containerStyle: PropTypes.object,\n  containerClassName: PropTypes.string,\n  closeOnClickOutside: PropTypes.bool,\n  style: PropTypes.object,\n  listStyle: PropTypes.object,\n  itemStyle: PropTypes.object,\n  loaderStyle: PropTypes.object,\n  dropdownStyle: PropTypes.object,\n  listClassName: PropTypes.string,\n  itemClassName: PropTypes.string,\n  loaderClassName: PropTypes.string,\n  dropdownClassName: PropTypes.string,\n  value: PropTypes.string,\n  trigger: triggerPropsCheck //eslint-disable-line\n\n};\n\nfunction _createSuper$j(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$j()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$j() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar EmoticonItem = /*#__PURE__*/function (_PureComponent) {\n  _inherits(EmoticonItem, _PureComponent);\n\n  var _super = _createSuper$j(EmoticonItem);\n\n  function EmoticonItem() {\n    _classCallCheck(this, EmoticonItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(EmoticonItem, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__emoji-item\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__emoji-item--entity\"\n      }, this.props.entity.native), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__emoji-item--name\"\n      }, this.props.entity.name), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__emoji-item--char\"\n      }, this.props.entity.char));\n    }\n  }]);\n\n  return EmoticonItem;\n}(PureComponent);\n\n_defineProperty(EmoticonItem, \"propTypes\", {\n  entity: PropTypes.shape({\n    /** Name for emoticon */\n    name: PropTypes.string,\n\n    /** Native value or actual emoticon */\n    native: PropTypes.string,\n\n    /** Representative character for emoticon */\n    char: PropTypes.string\n  })\n});\n\nfunction _createSuper$k(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$k()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$k() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar UserItem = /*#__PURE__*/function (_PureComponent) {\n  _inherits(UserItem, _PureComponent);\n\n  var _super = _createSuper$k(UserItem);\n\n  function UserItem() {\n    _classCallCheck(this, UserItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(UserItem, [{\n    key: \"render\",\n    value: function render() {\n      var u = this.props.entity;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__user-item\"\n      }, /*#__PURE__*/React__default.createElement(Avatar, {\n        size: 20,\n        image: u.image\n      }), /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(\"strong\", null, u.name), \" \", !u.name ? u.id : ''));\n    }\n  }]);\n\n  return UserItem;\n}(PureComponent);\n\n_defineProperty(UserItem, \"propTypes\", {\n  entity: PropTypes.shape({\n    /** Name of the user */\n    name: PropTypes.string,\n\n    /** Id of the user */\n    id: PropTypes.string,\n\n    /** Image of the user */\n    image: PropTypes.string\n  })\n});\n\nfunction _createSuper$l(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$l()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$l() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar CommandItem = /*#__PURE__*/function (_PureComponent) {\n  _inherits(CommandItem, _PureComponent);\n\n  var _super = _createSuper$l(CommandItem);\n\n  function CommandItem() {\n    _classCallCheck(this, CommandItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CommandItem, [{\n    key: \"render\",\n    value: function render() {\n      var c = this.props.entity;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__slash-command\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__slash-command-header\"\n      }, /*#__PURE__*/React__default.createElement(\"strong\", null, c.name), \" \", c.args), /*#__PURE__*/React__default.createElement(\"br\", null), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__slash-command-description\"\n      }, c.description));\n    }\n  }]);\n\n  return CommandItem;\n}(PureComponent);\n\n_defineProperty(CommandItem, \"propTypes\", {\n  entity: PropTypes.shape({\n    /** Name of the command */\n    name: PropTypes.string,\n\n    /** Arguments of command */\n    args: PropTypes.string,\n\n    /** Description of command */\n    description: PropTypes.string\n  })\n});\n\nfunction _createForOfIteratorHelper$1(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$1(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper$m(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$m()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$m() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Textarea component with included autocomplete options. You can set your own commands and\n * @example ./docs/ChatAutoComplete.md\n */\n\n\nvar ChatAutoComplete = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChatAutoComplete, _PureComponent);\n\n  var _super = _createSuper$m(ChatAutoComplete);\n\n  function ChatAutoComplete() {\n    _classCallCheck(this, ChatAutoComplete);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChatAutoComplete, [{\n    key: \"getTriggers\",\n    value: function getTriggers() {\n      var _this = this;\n\n      return {\n        ':': {\n          dataProvider: function dataProvider(q) {\n            if (q.length === 0 || q.charAt(0).match(/[^a-zA-Z0-9+-]/)) {\n              return [];\n            }\n\n            var emojis = emojiIndex.search(q) || [];\n            return emojis.slice(0, 10);\n          },\n          component: EmoticonItem,\n          output: function output(entity) {\n            return {\n              key: entity.id,\n              text: \"\".concat(entity.native),\n              caretPosition: 'next'\n            };\n          }\n        },\n        '@': {\n          dataProvider: function dataProvider(q) {\n            var matchingUsers = _this.props.users.filter(function (user) {\n              if (user.name !== undefined && user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n                return true;\n              } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n                return true;\n              } else {\n                return false;\n              }\n            });\n\n            return matchingUsers.slice(0, 10);\n          },\n          component: UserItem,\n          output: function output(entity) {\n            return {\n              key: entity.id,\n              text: \"@\".concat(entity.name || entity.id),\n              caretPosition: 'next'\n            };\n          },\n          callback: function callback(item) {\n            return _this.props.onSelectItem(item);\n          }\n        },\n        '/': {\n          dataProvider: function dataProvider(q, text) {\n            if (text.indexOf('/') !== 0) {\n              return [];\n            }\n\n            var selectedCommands = _this.props.commands.filter(function (c) {\n              return c.name.indexOf(q) !== -1;\n            }); // sort alphabetically unless the you're matching the first char\n\n\n            selectedCommands.sort(function (a, b) {\n              var nameA = a.name.toLowerCase();\n              var nameB = b.name.toLowerCase();\n\n              if (nameA.indexOf(q) === 0) {\n                nameA = \"0\".concat(nameA);\n              }\n\n              if (nameB.indexOf(q) === 0) {\n                nameB = \"0\".concat(nameB);\n              }\n\n              if (nameA < nameB) {\n                return -1;\n              }\n\n              if (nameA > nameB) {\n                return 1;\n              }\n\n              return 0;\n            });\n            return selectedCommands.slice(0, 10);\n          },\n          component: CommandItem,\n          output: function output(entity) {\n            return {\n              key: entity.id,\n              text: \"/\".concat(entity.name),\n              caretPosition: 'next'\n            };\n          }\n        }\n      };\n    }\n  }, {\n    key: \"emojiReplace\",\n    value: function emojiReplace(word) {\n      var found = emojiIndex.search(word) || [];\n\n      var _iterator = _createForOfIteratorHelper$1(found.slice(0, 10)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var emoji = _step.value;\n\n          if (emoji.emoticons.includes(word)) {\n            return emoji.native;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var innerRef = this.props.innerRef;\n      return /*#__PURE__*/React__default.createElement(ReactTextareaAutocomplete, {\n        loadingComponent: LoadingIndicator,\n        trigger: this.getTriggers(),\n        replaceWord: this.emojiReplace,\n        minChar: 0,\n        maxRows: this.props.maxRows,\n        innerRef: innerRef && function (ref) {\n          innerRef.current = ref;\n        },\n        onFocus: this.props.onFocus,\n        rows: this.props.rows,\n        className: \"str-chat__textarea__textarea\",\n        containerClassName: \"str-chat__textarea\",\n        dropdownClassName: \"str-chat__emojisearch\",\n        listClassName: \"str-chat__emojisearch__list\",\n        itemClassName: \"str-chat__emojisearch__item\",\n        placeholder: this.props.placeholder,\n        onChange: this.props.onChange,\n        handleSubmit: this.props.handleSubmit,\n        onPaste: this.props.onPaste,\n        value: this.props.value,\n        grow: this.props.grow,\n        disabled: this.props.disabled,\n        additionalTextareaProps: this.props.additionalTextareaProps\n      });\n    }\n  }]);\n\n  return ChatAutoComplete;\n}(PureComponent);\n\n_defineProperty(ChatAutoComplete, \"propTypes\", {\n  /** The number of rows you want the textarea to have */\n  rows: PropTypes.number,\n\n  /** Grow the number of rows of the textarea while you're typing */\n  grow: PropTypes.bool,\n\n  /** Maximum number of rows */\n  maxRows: PropTypes.number,\n\n  /** Make the textarea disabled */\n  disabled: PropTypes.bool,\n\n  /** The value of the textarea */\n  value: PropTypes.string,\n\n  /** Function to run on pasting within the textarea */\n  onPaste: PropTypes.func,\n\n  /** Function that runs on submit */\n  handleSubmit: PropTypes.func,\n\n  /** Function that runs on change */\n  onChange: PropTypes.func,\n\n  /** Placeholder for the textare */\n  placeholder: PropTypes.string,\n\n  /** What loading component to use for the auto complete when loading results. */\n  LoadingIndicator: PropTypes.node,\n\n  /** Minimum number of Character */\n  minChar: PropTypes.number,\n\n  /** Array of [user object](https://getstream.io/chat/docs/#chat-doc-set-user). Used for mentions suggestions */\n  users: PropTypes.array,\n\n  /**\n   * Handler for selecting item from suggestions list\n   *\n   * @param item Selected item object.\n   *  */\n  onSelectItem: PropTypes.func,\n\n  /** Array of [commands](https://getstream.io/chat/docs/#channel_commands) */\n  commands: PropTypes.array,\n\n  /** Listener for onfocus event on textarea */\n  onFocus: PropTypes.object,\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\n_defineProperty(ChatAutoComplete, \"defaultProps\", {\n  rows: 3\n});\n\nfunction _createSuper$n(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$n()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$n() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageInputLarge - Large Message Input to be used for the MessageInput.\n * @example ./docs/MessageInputLarge.md\n */\n\n\nvar MessageInputLarge = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageInputLarge, _PureComponent);\n\n  var _super = _createSuper$n(MessageInputLarge);\n\n  function MessageInputLarge() {\n    var _this;\n\n    _classCallCheck(this, MessageInputLarge);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUploads\", function () {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, _this.props.imageOrder.length > 0 && /*#__PURE__*/React__default.createElement(ImagePreviewer, {\n        imageUploads: _this.props.imageOrder.map(function (id) {\n          return _this.props.imageUploads[id];\n        }),\n        handleRemove: _this.props.removeImage,\n        handleRetry: _this.props.uploadImage,\n        handleFiles: _this.props.uploadNewFiles,\n        multiple: _this.props.multipleUploads,\n        disabled: _this.props.numberOfUploads >= _this.props.maxNumberOfFiles ? true : false\n      }), _this.props.fileOrder.length > 0 && /*#__PURE__*/React__default.createElement(FilePreviewer, {\n        uploads: _this.props.fileOrder.map(function (id) {\n          return _this.props.fileUploads[id];\n        }),\n        handleRemove: _this.props.removeFile,\n        handleRetry: _this.props.uploadFile,\n        handleFiles: _this.props.uploadNewFiles\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderEmojiPicker\", function () {\n      if (_this.props.emojiPickerIsOpen) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__input--emojipicker\",\n          ref: _this.props.emojiPickerRef\n        }, /*#__PURE__*/React__default.createElement(Picker, {\n          native: true,\n          emoji: \"point_up\",\n          title: \"Pick your emoji\\u2026\",\n          onSelect: _this.props.onSelectEmoji,\n          color: \"#006CFF\",\n          showPreview: false,\n          useButton: true,\n          emojisToShowFilter: filterEmoji\n        }));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"constructTypingString\", function (dict) {\n      var t = _this.props.t;\n      var arr2 = Object.keys(dict);\n      var arr3 = [];\n      arr2.forEach(function (item, i) {\n        if (_this.props.client.user.id === dict[arr2[i]].user.id) {\n          return;\n        }\n\n        arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n      });\n      var outStr = '';\n\n      if (arr3.length === 1) {\n        outStr = t('{{ user }} is typing...', {\n          user: arr3[0]\n        });\n      } else if (arr3.length === 2) {\n        //joins all with \"and\" but =no commas\n        //example: \"bob and sam\"\n        outStr = t('{{ firstUser }} and {{ secondUser }} are typing...', {\n          firstUser: arr3[0],\n          secondUser: arr3[1]\n        });\n      } else if (arr3.length > 2) {\n        //joins all with commas, but last one gets \", and\" (oxford comma!)\n        //example: \"bob, joe, and sam\"\n        outStr = t('{{ commaSeparatedUsers }} and {{ lastUser }} are typing...', {\n          commaSeparatedUsers: arr3.slice(0, -1).join(', '),\n          lastUser: arr3.slice(-1)\n        });\n      }\n\n      return outStr;\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageInputLarge, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      var SendButton = this.props.SendButton;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input-large\"\n      }, /*#__PURE__*/React__default.createElement(ImageDropzone, {\n        accept: this.props.acceptedFiles,\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input\"\n      }, this.renderUploads(), this.renderEmojiPicker(), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input--textarea-wrapper\"\n      }, /*#__PURE__*/React__default.createElement(ChatAutoComplete, {\n        users: this.props.getUsers(),\n        commands: this.props.getCommands(),\n        innerRef: this.props.textareaRef,\n        handleSubmit: function handleSubmit(e) {\n          return _this2.props.handleSubmit(e);\n        },\n        onChange: this.props.handleChange,\n        onSelectItem: this.props.onSelectItem,\n        value: this.props.text,\n        rows: 1,\n        maxRows: this.props.maxRows,\n        placeholder: t('Type your message'),\n        onPaste: this.props.onPaste,\n        grow: this.props.grow,\n        disabled: this.props.disabled,\n        additionalTextareaProps: this.props.additionalTextareaProps\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-emojiselect\",\n        onClick: this.props.openEmojiPicker\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(FileUploadButton, {\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        accepts: this.props.acceptedFiles,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-fileupload\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\",\n        fillRule: \"nonzero\"\n      })))), SendButton && /*#__PURE__*/React__default.createElement(SendButton, {\n        sendMessage: this.props.handleSubmit\n      }))), /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input-footer\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-footer--count \".concat(!this.props.watcher_count ? 'str-chat__input-footer--count--hidden' : '')\n      }, t('{{ watcherCount }} online', {\n        watcherCount: this.props.watcher_count\n      })), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-footer--typing\"\n      }, this.constructTypingString(this.props.typing))))));\n    }\n  }]);\n\n  return MessageInputLarge;\n}(PureComponent);\n\n_defineProperty(MessageInputLarge, \"propTypes\", {\n  /** Set focus to the text input if this is enabled */\n  focus: PropTypes.bool.isRequired,\n\n  /** Grow the textarea while you're typing */\n  grow: PropTypes.bool.isRequired,\n\n  /** Specify the max amount of rows the textarea is able to grow */\n  maxRows: PropTypes.number.isRequired,\n\n  /** Make the textarea disabled */\n  disabled: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadNewFiles: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  numberOfUploads: PropTypes.number,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerIsOpen: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectEmoji: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getUsers: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getCommands: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  textareaRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleSubmit: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleChange: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectItem: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  text: PropTypes.string,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onPaste: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  openEmojiPicker: PropTypes.func,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  watcher_count: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  typing: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  multipleUploads: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  maxNumberOfFiles: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  acceptedFiles: PropTypes.object,\n\n  /**\n   * Custom UI component for send button.\n   *\n   * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n   * */\n  SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\nvar MessageInputLargeWithContext = withTranslationContext(MessageInputLarge);\n\nvar SendButton = function SendButton(_ref) {\n  var sendMessage = _ref.sendMessage;\n  return /*#__PURE__*/React__default.createElement(\"button\", {\n    className: \"str-chat__send-button\",\n    onClick: sendMessage\n  }, /*#__PURE__*/React__default.createElement(\"svg\", {\n    width: \"18\",\n    height: \"17\",\n    viewBox: \"0 0 18 17\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React__default.createElement(\"path\", {\n    d: \"M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z\",\n    fillRule: \"evenodd\",\n    fill: \"#006cff\"\n  })));\n};\n\nfunction _createForOfIteratorHelper$2(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$2(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper$o(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$o()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$o() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n/**\n * MessageInput - Input a new message, support for all the rich features such as image uploads, @mentions, emoticons etc.\n * @example ./docs/MessageInput.md\n * @extends PureComponent\n */\n\n\nvar MessageInput = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageInput, _PureComponent);\n\n  var _super = _createSuper$o(MessageInput);\n\n  function MessageInput(props) {\n    var _this;\n\n    _classCallCheck(this, MessageInput);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"openEmojiPicker\", function () {\n      if (!_this.state.showEmojiPicker) {\n        _this.setState(function () {\n          return {\n            emojiPickerIsOpen: true\n          };\n        }, function () {\n          document.addEventListener('click', _this.closeEmojiPicker, false);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeEmojiPicker\", function (e) {\n      if (_this.emojiPickerRef.current && !_this.emojiPickerRef.current.contains(e.target)) {\n        _this.setState({\n          emojiPickerIsOpen: false\n        }, function () {\n          document.removeEventListener('click', _this.closeEmojiPicker, false);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectEmoji\", function (emoji) {\n      return _this.insertText(emoji.native);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"insertText\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(textToInsert) {\n        var newCursorPosition, textareaElement;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.setState(function (prevState) {\n                  var prevText = prevState.text;\n                  var textareaElement = _this.textareaRef.current;\n\n                  if (!textareaElement) {\n                    return {\n                      text: prevText + textToInsert\n                    };\n                  } // Insert emoji at previous cursor position\n\n\n                  var selectionStart = textareaElement.selectionStart,\n                      selectionEnd = textareaElement.selectionEnd;\n                  newCursorPosition = selectionStart + textToInsert.length;\n                  return {\n                    text: prevText.slice(0, selectionStart) + textToInsert + prevText.slice(selectionEnd)\n                  };\n                });\n\n              case 2:\n                textareaElement = _this.textareaRef.current;\n\n                if (!(!textareaElement || newCursorPosition == null)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                // Update cursorPosition\n                textareaElement.selectionStart = newCursorPosition;\n                textareaElement.selectionEnd = newCursorPosition;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getCommands\", function () {\n      return _this.props.channel.getConfig().commands;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getUsers\", function () {\n      var users = [];\n      var members = _this.props.channel.state.members;\n      var watchers = _this.props.channel.state.watchers;\n\n      if (members && Object.values(members).length) {\n        Object.values(members).forEach(function (member) {\n          return users.push(member.user);\n        });\n      }\n\n      if (watchers && Object.values(watchers).length) {\n        users.push.apply(users, _toConsumableArray(Object.values(watchers)));\n      } // make sure we don't list users twice\n\n\n      var userMap = {};\n\n      for (var _i = 0, _users = users; _i < _users.length; _i++) {\n        var user = _users[_i];\n\n        if (user !== undefined && !userMap[user.id]) {\n          userMap[user.id] = user;\n        }\n      }\n\n      return Object.values(userMap);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      event.preventDefault();\n\n      if (!event || !event.target) {\n        return '';\n      }\n\n      var text = event.target.value;\n\n      _this.setState({\n        text\n      });\n\n      if (text) {\n        logChatPromiseExecution(_this.props.channel.keystroke(), 'start typing event');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (event) {\n      event.preventDefault();\n      var editing = !!_this.props.message;\n\n      var trimmedMessage = _this.state.text.trim();\n\n      var isEmptyMessage = trimmedMessage === '' || trimmedMessage === '>' || trimmedMessage === '``````' || trimmedMessage === '``' || trimmedMessage === '**' || trimmedMessage === '____' || trimmedMessage === '__' || trimmedMessage === '****';\n      var hasFiles = _this.state.imageOrder.length > 0 || _this.state.fileOrder.length > 0;\n\n      if (isEmptyMessage && !hasFiles) {\n        return;\n      }\n\n      var text = _this.state.text; // the channel component handles the actual sending of the message\n\n      var attachments = _toConsumableArray(_this.state.attachments);\n\n      var _iterator = _createForOfIteratorHelper$2(_this.state.imageOrder),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var id = _step.value;\n          var image = _this.state.imageUploads[id];\n\n          if (!image || image.state === 'failed') {\n            return \"continue\";\n          }\n\n          if (image.state === 'uploading') {\n            // TODO: show error to user that they should wait until image is uploaded\n            return {\n              v: void 0\n            };\n          }\n\n          var dupe = attachments.filter(function (attach) {\n            return image.url === attach.image_url;\n          });\n          if (dupe.length >= 1) return \"continue\";\n          attachments.push({\n            type: 'image',\n            image_url: image.url,\n            fallback: image.file.name\n          });\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          switch (_ret) {\n            case \"continue\":\n              continue;\n\n            default:\n              if (typeof _ret === \"object\") return _ret.v;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper$2(_this.state.fileOrder),\n          _step2;\n\n      try {\n        var _loop2 = function _loop2() {\n          var id = _step2.value;\n          var upload = _this.state.fileUploads[id];\n\n          if (!upload || upload.state === 'failed') {\n            return \"continue\";\n          }\n\n          if (upload.state === 'uploading') {\n            // TODO: show error to user that they should wait until image is uploaded\n            return {\n              v: void 0\n            };\n          }\n\n          var dupe = attachments.filter(function (attach) {\n            return upload.asset_url === attach.url;\n          });\n          if (dupe.length >= 1) return \"continue\";\n          attachments.push({\n            type: 'file',\n            asset_url: upload.url,\n            title: upload.file.name,\n            mime_type: upload.file.type,\n            file_size: upload.file.size\n          });\n        };\n\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _ret2 = _loop2();\n\n          switch (_ret2) {\n            case \"continue\":\n              continue;\n\n            default:\n              if (typeof _ret2 === \"object\") return _ret2.v;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (editing) {\n        var id = _this.props.message.id;\n        var updatedMessage = {\n          id\n        };\n        updatedMessage.text = text;\n        updatedMessage.attachments = attachments;\n        updatedMessage.mentioned_users = _this.state.mentioned_users; // TODO: Remove this line and show an error when submit fails\n\n        _this.props.clearEditingState();\n\n        var updateMessagePromise = _this.props.editMessage(updatedMessage).then(_this.props.clearEditingState);\n\n        logChatPromiseExecution(updateMessagePromise, 'update message');\n      } else if (_this.props.overrideSubmitHandler && typeof _this.props.overrideSubmitHandler === 'function') {\n        _this.props.overrideSubmitHandler({\n          text,\n          attachments,\n          mentioned_users: uniq(_this.state.mentioned_users),\n          parent: _this.props.parent\n        }, _this.props.channel.cid);\n\n        _this.setState({\n          text: '',\n          mentioned_users: [],\n          imageUploads: Immutable({}),\n          imageOrder: [],\n          fileUploads: Immutable({}),\n          fileOrder: []\n        });\n      } else {\n        var sendMessagePromise = _this.props.sendMessage({\n          text,\n          attachments,\n          mentioned_users: uniq(_this.state.mentioned_users),\n          parent: _this.props.parent\n        });\n\n        logChatPromiseExecution(sendMessagePromise, 'send message');\n\n        _this.setState({\n          text: '',\n          mentioned_users: [],\n          imageUploads: Immutable({}),\n          imageOrder: [],\n          fileUploads: Immutable({}),\n          fileOrder: []\n        });\n      }\n\n      logChatPromiseExecution(_this.props.channel.stopTyping(), 'stop typing');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_uploadNewFiles\", function (files) {\n      var _iterator3 = _createForOfIteratorHelper$2(files),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var file = _step3.value;\n\n          if (file.type.startsWith('image/')) {\n            _this._uploadNewImage(file);\n          } else if (file instanceof File && !_this.props.noFiles) {\n            _this._uploadNewFile(file);\n          } else {\n            return;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_uploadNewImage\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(file) {\n        var id, reader;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = generateRandomId();\n                _context2.next = 3;\n                return _this.setState(function (prevState) {\n                  return {\n                    numberOfUploads: prevState.numberOfUploads + 1,\n                    imageOrder: prevState.imageOrder.concat(id),\n                    imageUploads: prevState.imageUploads.setIn([id], {\n                      id,\n                      file,\n                      state: 'uploading'\n                    })\n                  };\n                });\n\n              case 3:\n                if (FileReader) {\n                  // TODO: Possibly use URL.createObjectURL instead. However, then we need\n                  // to release the previews when not used anymore though.\n                  reader = new FileReader();\n\n                  reader.onload = function (event) {\n                    _this.setState(function (prevState) {\n                      return {\n                        imageUploads: prevState.imageUploads.setIn([id, 'previewUri'], event.target.result)\n                      };\n                    });\n                  };\n\n                  reader.readAsDataURL(file);\n                }\n\n                return _context2.abrupt(\"return\", _this._uploadImage(id));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_uploadNewFile\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(file) {\n        var id;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                id = generateRandomId();\n                _context3.next = 3;\n                return _this.setState(function (prevState) {\n                  return {\n                    numberOfUploads: prevState.numberOfUploads + 1,\n                    fileOrder: prevState.fileOrder.concat(id),\n                    fileUploads: prevState.fileUploads.setIn([id], {\n                      id,\n                      file,\n                      state: 'uploading'\n                    })\n                  };\n                });\n\n              case 3:\n                return _context3.abrupt(\"return\", _this._uploadFile(id));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_uploadImage\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id) {\n        var img, file, response, alreadyRemoved;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                img = _this.state.imageUploads[id];\n\n                if (img) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                file = img.file;\n                _context4.next = 6;\n                return _this.setState(function (prevState) {\n                  return {\n                    imageUploads: prevState.imageUploads.setIn([id, 'state'], 'uploading')\n                  };\n                });\n\n              case 6:\n                response = {};\n                response = {};\n                _context4.prev = 8;\n\n                if (!_this.props.doImageUploadRequest) {\n                  _context4.next = 15;\n                  break;\n                }\n\n                _context4.next = 12;\n                return _this.props.doImageUploadRequest(file, _this.props.channel);\n\n              case 12:\n                response = _context4.sent;\n                _context4.next = 18;\n                break;\n\n              case 15:\n                _context4.next = 17;\n                return _this.props.channel.sendImage(file);\n\n              case 17:\n                response = _context4.sent;\n\n              case 18:\n                _context4.next = 28;\n                break;\n\n              case 20:\n                _context4.prev = 20;\n                _context4.t0 = _context4[\"catch\"](8);\n                console.warn(_context4.t0);\n                alreadyRemoved = false;\n                _context4.next = 26;\n                return _this.setState(function (prevState) {\n                  var image = prevState.imageUploads[id];\n\n                  if (!image) {\n                    alreadyRemoved = true;\n                    return {\n                      numberOfUploads: prevState.numberOfUploads - 1\n                    };\n                  }\n\n                  return {\n                    imageUploads: prevState.imageUploads.setIn([id, 'state'], 'failed'),\n                    numberOfUploads: prevState.numberOfUploads - 1\n                  };\n                });\n\n              case 26:\n                if (!alreadyRemoved) {\n                  _this.props.errorHandler(_context4.t0, 'upload-image', {\n                    feedGroup: _this.props.feedGroup,\n                    userId: _this.props.userId\n                  });\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 28:\n                _this.setState(function (prevState) {\n                  return {\n                    imageUploads: prevState.imageUploads.setIn([id, 'state'], 'finished').setIn([id, 'url'], response.file)\n                  };\n                });\n\n              case 29:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[8, 20]]);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_uploadFile\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n        var upload, file, response, alreadyRemoved;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                upload = _this.state.fileUploads[id];\n\n                if (upload) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 3:\n                file = upload.file;\n                _context5.next = 6;\n                return _this.setState(function (prevState) {\n                  return {\n                    imageUploads: prevState.imageUploads.setIn([id, 'state'], 'uploading')\n                  };\n                });\n\n              case 6:\n                response = {};\n                response = {};\n                _context5.prev = 8;\n\n                if (!_this.props.doFileUploadRequest) {\n                  _context5.next = 15;\n                  break;\n                }\n\n                _context5.next = 12;\n                return _this.props.doFileUploadRequest(file, _this.props.channel);\n\n              case 12:\n                response = _context5.sent;\n                _context5.next = 18;\n                break;\n\n              case 15:\n                _context5.next = 17;\n                return _this.props.channel.sendFile(file);\n\n              case 17:\n                response = _context5.sent;\n\n              case 18:\n                _context5.next = 27;\n                break;\n\n              case 20:\n                _context5.prev = 20;\n                _context5.t0 = _context5[\"catch\"](8);\n                console.warn(_context5.t0);\n                alreadyRemoved = false;\n                _context5.next = 26;\n                return _this.setState(function (prevState) {\n                  var image = prevState.imageUploads[id];\n\n                  if (!image) {\n                    alreadyRemoved = true;\n                    return {\n                      numberOfUploads: prevState.numberOfUploads - 1\n                    };\n                  }\n\n                  return {\n                    numberOfUploads: prevState.numberOfUploads - 1,\n                    fileUploads: prevState.fileUploads.setIn([id, 'state'], 'failed')\n                  };\n                });\n\n              case 26:\n                if (!alreadyRemoved) {\n                  _this.props.errorHandler(_context5.t0, 'upload-file', {\n                    feedGroup: _this.props.feedGroup,\n                    userId: _this.props.userId\n                  });\n                }\n\n              case 27:\n                _this.setState(function (prevState) {\n                  return {\n                    fileUploads: prevState.fileUploads.setIn([id, 'state'], 'finished').setIn([id, 'url'], response.file)\n                  };\n                });\n\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[8, 20]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_removeImage\", function (id) {\n      // TODO: cancel upload if still uploading\n      _this.setState(function (prevState) {\n        var img = prevState.imageUploads[id];\n\n        if (!img) {\n          return {};\n        }\n\n        return {\n          numberOfUploads: prevState.numberOfUploads - 1,\n          imageUploads: prevState.imageUploads.set(id, undefined),\n          // remove\n          imageOrder: prevState.imageOrder.filter(function (_id) {\n            return id !== _id;\n          })\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_removeFile\", function (id) {\n      // TODO: cancel upload if still uploading\n      _this.setState(function (prevState) {\n        var upload = prevState.fileUploads[id];\n\n        if (!upload) {\n          return {};\n        }\n\n        return {\n          numberOfUploads: prevState.numberOfUploads - 1,\n          fileUploads: prevState.fileUploads.set(id, undefined),\n          // remove\n          fileOrder: prevState.fileOrder.filter(function (_id) {\n            return id !== _id;\n          })\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event) {\n        var items, plainTextPromise, _iterator4, _step4, _loop3, _ret3, fileLikes, s;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                // TODO: Move this handler to package with ImageDropzone\n                items = event.clipboardData.items;\n\n                if (dataTransferItemsHaveFiles(items)) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 3:\n                event.preventDefault(); // Get a promise for the plain text in case no files are\n                // found. This needs to be done here because chrome cleans\n                // up the DataTransferItems after resolving of a promise.\n\n                _iterator4 = _createForOfIteratorHelper$2(items);\n                _context6.prev = 5;\n\n                _loop3 = function _loop3() {\n                  var item = _step4.value;\n\n                  if (item.kind === 'string' && item.type === 'text/plain') {\n                    plainTextPromise = new Promise(function (resolve) {\n                      item.getAsString(function (s) {\n                        resolve(s);\n                      });\n                    });\n                    return \"break\";\n                  }\n                };\n\n                _iterator4.s();\n\n              case 8:\n                if ((_step4 = _iterator4.n()).done) {\n                  _context6.next = 14;\n                  break;\n                }\n\n                _ret3 = _loop3();\n\n                if (!(_ret3 === \"break\")) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                return _context6.abrupt(\"break\", 14);\n\n              case 12:\n                _context6.next = 8;\n                break;\n\n              case 14:\n                _context6.next = 19;\n                break;\n\n              case 16:\n                _context6.prev = 16;\n                _context6.t0 = _context6[\"catch\"](5);\n\n                _iterator4.e(_context6.t0);\n\n              case 19:\n                _context6.prev = 19;\n\n                _iterator4.f();\n\n                return _context6.finish(19);\n\n              case 22:\n                _context6.next = 24;\n                return dataTransferItemsToFiles(items);\n\n              case 24:\n                fileLikes = _context6.sent;\n\n                if (!fileLikes.length) {\n                  _context6.next = 28;\n                  break;\n                }\n\n                _this._uploadNewFiles(fileLikes);\n\n                return _context6.abrupt(\"return\");\n\n              case 28:\n                if (!plainTextPromise) {\n                  _context6.next = 33;\n                  break;\n                }\n\n                _context6.next = 31;\n                return plainTextPromise;\n\n              case 31:\n                s = _context6.sent;\n\n                _this.insertText(s);\n\n              case 33:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[5, 16, 19, 22]]);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelectItem\", function (item) {\n      _this.setState(function (prevState) {\n        return {\n          mentioned_users: [].concat(_toConsumableArray(prevState.mentioned_users), [item.id])\n        };\n      });\n    });\n\n    var imageOrder = [];\n    var imageUploads = {};\n    var fileOrder = [];\n    var fileUploads = {};\n    var _attachments = [];\n    var mentioned_users = [];\n    var _text = '';\n\n    if (props.message) {\n      _text = props.message.text;\n\n      var _iterator5 = _createForOfIteratorHelper$2(props.message.attachments),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var attach = _step5.value;\n\n          if (attach.type === 'image') {\n            var id = generateRandomId();\n            imageOrder.push(id);\n            imageUploads[id] = {\n              id,\n              url: attach.image_url,\n              state: 'finished',\n              file: {\n                name: attach.fallback\n              }\n            };\n          } else if (attach.type === 'file') {\n            var _id2 = generateRandomId();\n\n            fileOrder.push(_id2);\n            fileUploads[_id2] = {\n              id: _id2,\n              url: attach.asset_url,\n              state: 'finished',\n              file: {\n                name: attach.title,\n                type: attach.mime_type,\n                size: attach.file_size\n              }\n            };\n          } else {\n            _attachments.push(attach);\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      var _iterator6 = _createForOfIteratorHelper$2(props.message.mentioned_users),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var mention = _step6.value;\n          mentioned_users.push(mention.id);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n\n    _this.state = {\n      text: _text,\n      attachments: _attachments,\n      imageOrder,\n      imageUploads: Immutable(imageUploads),\n      fileOrder,\n      fileUploads: Immutable(fileUploads),\n      emojiPickerIsOpen: false,\n      filePanelIsOpen: false,\n      mentioned_users,\n      numberOfUploads: 0\n    };\n    _this.textareaRef = React__default.createRef();\n    _this.emojiPickerRef = React__default.createRef();\n    _this.panelRef = React__default.createRef();\n    return _this;\n  }\n\n  _createClass(MessageInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.focus) {\n        this.textareaRef.current.focus();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.closeEmojiPicker, false);\n      document.removeEventListener('click', this.hideFilePanel, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Input = this.props.Input;\n      var handlers = {\n        uploadNewFiles: this._uploadNewFiles,\n        removeImage: this._removeImage,\n        uploadImage: this._uploadImage,\n        removeFile: this._removeFile,\n        uploadFile: this._uploadFile,\n        emojiPickerRef: this.emojiPickerRef,\n        panelRef: this.panelRef,\n        textareaRef: this.textareaRef,\n        onSelectEmoji: this.onSelectEmoji,\n        getUsers: this.getUsers,\n        getCommands: this.getCommands,\n        handleSubmit: this.handleSubmit,\n        handleChange: this.handleChange,\n        onPaste: this._onPaste,\n        onSelectItem: this._onSelectItem,\n        openEmojiPicker: this.openEmojiPicker\n      };\n      return /*#__PURE__*/React__default.createElement(Input, _extends({}, this.props, this.state, handlers));\n    }\n  }]);\n\n  return MessageInput;\n}(PureComponent);\n\n_defineProperty(MessageInput, \"propTypes\", {\n  /** Set focus to the text input if this is enabled */\n  focus: PropTypes.bool.isRequired,\n\n  /** Disable input */\n  disabled: PropTypes.bool.isRequired,\n\n  /** Grow the textarea while you're typing */\n  grow: PropTypes.bool.isRequired,\n\n  /** Set the maximum number of rows */\n  maxRows: PropTypes.number.isRequired,\n\n  /** Via Context: the channel that we're sending the message to */\n  channel: PropTypes.object.isRequired,\n\n  /** Via Context: the users currently typing, passed from the Channel component */\n  typing: PropTypes.object.isRequired,\n  // /** Set textarea to be disabled */\n  // disabled: PropTypes.bool,\n\n  /** The parent message object when replying on a thread */\n  parent: PropTypes.object,\n\n  /**\n   * The component handling how the input is rendered\n   *\n   * Available built-in components (also accepts the same props as):\n   *\n   * 1. [MessageInputSmall](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputSmall.js)\n   * 2. [MessageInputLarge](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputLarge.js) (default)\n   * 3. [MessageInputFlat](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputFlat.js)\n   *\n   * */\n  Input: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Override image upload request */\n  doImageUploadRequest: PropTypes.func,\n\n  /** Override file upload request */\n  doFileUploadRequest: PropTypes.func,\n\n  /**\n   * Custom UI component for send button.\n   *\n   * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n   * */\n  SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   * e.g.\n   * <MessageInput\n   *  additionalTextareaProps={{\n   *    maxLength: 10,\n   *  }}\n   * />\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\n_defineProperty(MessageInput, \"defaultProps\", {\n  focus: false,\n  disabled: false,\n  grow: true,\n  maxRows: 10,\n  Input: MessageInputLargeWithContext,\n  SendButton,\n  additionalTextareaProps: {}\n});\n\nMessageInput = withChannelContext(MessageInput);\n\nfunction _createSuper$p(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$p()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$p() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * @example ./docs/EditMessageForm.md\n */\n\n\nvar EditMessageForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditMessageForm, _React$Component);\n\n  var _super = _createSuper$p(EditMessageForm);\n\n  function EditMessageForm() {\n    var _this;\n\n    _classCallCheck(this, EditMessageForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUploads\", function () {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, _this.props.imageOrder.length > 0 && /*#__PURE__*/React__default.createElement(ImagePreviewer, {\n        imageUploads: _this.props.imageOrder.map(function (id) {\n          return _this.props.imageUploads[id];\n        }),\n        handleRemove: _this.props.removeImage,\n        handleRetry: _this.props.uploadImage,\n        handleFiles: _this.props.uploadNewFiles,\n        multiple: _this.props.multipleUploads,\n        disabled: _this.props.numberOfUploads >= _this.props.maxNumberOfFiles ? true : false\n      }), _this.props.fileOrder.length > 0 && /*#__PURE__*/React__default.createElement(FilePreviewer, {\n        uploads: _this.props.fileOrder.map(function (id) {\n          return _this.props.fileUploads[id];\n        }),\n        handleRemove: _this.props.removeFile,\n        handleRetry: _this.props.uploadFile,\n        handleFiles: _this.props.uploadNewFiles\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderEmojiPicker\", function () {\n      var t = _this.props.t;\n\n      if (_this.props.emojiPickerIsOpen) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__small-message-input-emojipicker\",\n          ref: _this.props.emojiPickerRef\n        }, /*#__PURE__*/React__default.createElement(Picker, {\n          native: true,\n          emoji: \"point_up\",\n          title: t('Pick your emoji'),\n          onSelect: _this.props.onSelectEmoji,\n          color: \"#006CFF\",\n          showPreview: false,\n          emojisToShowFilter: filterEmoji\n        }));\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(EditMessageForm, [{\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__edit-message-form\"\n      }, /*#__PURE__*/React__default.createElement(ImageDropzone, {\n        accept: this.props.acceptedFiles,\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"form\", {\n        onSubmit: this.props.handleSubmit\n      }, this.renderEmojiPicker(), this.renderUploads(), this.props.emojiPickerIsOpen && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input--emojipicker\",\n        ref: this.props.emojiPickerRef\n      }, /*#__PURE__*/React__default.createElement(Picker, {\n        native: true,\n        emoji: \"point_up\",\n        title: t('Pick your emoji'),\n        onSelect: this.props.onSelectEmoji,\n        color: \"#006CFF\",\n        emojisToShowFilter: filterEmoji\n      })), /*#__PURE__*/React__default.createElement(ChatAutoComplete, {\n        users: this.props.getUsers(),\n        commands: this.props.getCommands(),\n        innerRef: this.props.textareaRef,\n        handleSubmit: this.props.handleSubmit,\n        onChange: this.props.handleChange,\n        onSelectItem: this.props.onSelectItem,\n        value: this.props.text,\n        rows: 1,\n        maxRows: this.props.maxRows,\n        onPaste: this.props.onPaste,\n        grow: this.props.grow,\n        additionalTextareaProps: this.props.additionalTextareaProps\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-form-footer\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__edit-message-form-options\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-emojiselect\",\n        onClick: this.props.openEmojiPicker\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(FileUploadButton, {\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        accepts: this.props.acceptedFiles,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-fileupload\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\",\n        fillRule: \"nonzero\"\n      }))))), /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: this.props.clearEditingState\n      }, t('Cancel')), /*#__PURE__*/React__default.createElement(\"button\", {\n        type: \"submit\"\n      }, t('Send')))))));\n    }\n  }]);\n\n  return EditMessageForm;\n}(React__default.Component);\n\n_defineProperty(EditMessageForm, \"propTypes\", {\n  /** Set focus to the text input if this is enabled */\n  focus: PropTypes.bool,\n\n  /** Grow the textarea while you're typing */\n  grow: PropTypes.bool,\n\n  /** Specify the max amount of rows the textarea is able to grow */\n  maxRows: PropTypes.number.isRequired,\n\n  /** Disable the textarea */\n  disabled: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadNewFiles: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  numberOfUploads: PropTypes.number,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerIsOpen: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectEmoji: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getUsers: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getCommands: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  textareaRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleSubmit: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleChange: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectItem: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  text: PropTypes.string,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onPaste: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  openEmojiPicker: PropTypes.func,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  watcher_count: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  typing: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  multipleUploads: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  maxNumberOfFiles: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  acceptedFiles: PropTypes.object,\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\n_defineProperty(EditMessageForm, \"defaultProps\", {\n  grow: true,\n  focus: false,\n  disabled: false\n});\n\nEditMessageForm = withTranslationContext(EditMessageForm);\n\nfunction _createSuper$q(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$q()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$q() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageSimple - Render component, should be used together with the Message component\n *\n * @example ./docs/MessageSimple.md\n * @extends PureComponent\n */\n\n\nvar MessageSimple = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageSimple, _PureComponent);\n\n  var _super = _createSuper$q(MessageSimple);\n\n  function MessageSimple() {\n    var _this;\n\n    _classCallCheck(this, MessageSimple);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFocused: false,\n      actionsBoxOpen: false,\n      showDetailedReactions: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"messageActionsRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"reactionSelectorRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClickOptionsAction\", function () {\n      _this.setState({\n        actionsBoxOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideOptions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_hideOptions\", function () {\n      _this.setState({\n        actionsBoxOpen: false\n      });\n\n      document.removeEventListener('click', _this.hideOptions, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_clickReactionList\", function () {\n      _this.setState(function () {\n        return {\n          showDetailedReactions: true\n        };\n      }, function () {\n        document.addEventListener('click', _this._closeDetailedReactions);\n        document.addEventListener('touchend', _this._closeDetailedReactions);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeDetailedReactions\", function (e) {\n      if (!_this.reactionSelectorRef.current.reactionSelector.current.contains(e.target)) {\n        _this.setState(function () {\n          return {\n            showDetailedReactions: false\n          };\n        }, function () {\n          document.removeEventListener('click', _this._closeDetailedReactions);\n          document.removeEventListener('touchend', _this._closeDetailedReactions);\n        });\n      } else {\n        return {};\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatArray\", function (arr) {\n      var t = _this.props.t;\n      var outStr = '';\n      var slicedArr = arr.filter(function (item) {\n        return item.id !== _this.props.client.user.id;\n      }).map(function (item) {\n        return item.name || item.id;\n      }).slice(0, 5);\n      var restLength = arr.length - slicedArr.length;\n\n      if (slicedArr.length === 1) {\n        outStr = slicedArr[0] + ' ';\n      } else if (slicedArr.length === 2) {\n        //joins all with \"and\" but =no commas\n        //example: \"bob and sam\"\n        outStr = t('{{ firstUser }} and {{ secondUser }}', {\n          firstUser: slicedArr[0],\n          secondUser: slicedArr[1]\n        });\n      } else if (slicedArr.length > 2) {\n        //joins all with commas, but last one gets \", and\" (oxford comma!)\n        //example: \"bob, joe, sam and 4 more\"\n        outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n          commaSeparatedUsers: slicedArr.join(', '),\n          moreCount: restLength\n        });\n      }\n\n      return outStr;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderStatus\", function () {\n      var _this$props = _this.props,\n          readBy = _this$props.readBy,\n          client = _this$props.client,\n          message = _this$props.message,\n          threadList = _this$props.threadList,\n          lastReceivedId = _this$props.lastReceivedId,\n          t = _this$props.t;\n\n      if (!_this.isMine() || message.type === 'error') {\n        return null;\n      }\n\n      var justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n\n      if (message.status === 'sending') {\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-simple-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, t('Sending...')), /*#__PURE__*/React__default.createElement(LoadingIndicator, null));\n      } else if (readBy.length !== 0 && !threadList && !justReadByMe) {\n        var lastReadUser = readBy.filter(function (item) {\n          return item.id !== client.user.id;\n        })[0];\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-simple-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, _this.formatArray(readBy)), /*#__PURE__*/React__default.createElement(Avatar, {\n          name: lastReadUser.name || lastReadUser.id,\n          image: lastReadUser.image,\n          size: 15\n        }), readBy.length > 2 && /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-simple-status-number\"\n        }, readBy.length - 1));\n      } else if (message.status === 'received' && message.id === lastReceivedId && !threadList) {\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-simple-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, t('Delivered')), /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z\",\n          fill: \"#006CFF\",\n          fillRule: \"evenodd\"\n        })));\n      } else {\n        return null;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderMessageActions\", function () {\n      var _this$props2 = _this.props,\n          Message = _this$props2.Message,\n          getMessageActions = _this$props2.getMessageActions,\n          messageListRect = _this$props2.messageListRect,\n          handleFlag = _this$props2.handleFlag,\n          handleMute = _this$props2.handleMute,\n          handleEdit = _this$props2.handleEdit,\n          handleDelete = _this$props2.handleDelete;\n      var messageActions = getMessageActions();\n\n      if (messageActions.length === 0) {\n        return;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        onClick: _this._onClickOptionsAction,\n        className: \"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--options\"\n      }, /*#__PURE__*/React__default.createElement(MessageActionsBox, {\n        Message: Message,\n        getMessageActions: getMessageActions,\n        open: _this.state.actionsBoxOpen,\n        messageListRect: messageListRect,\n        handleFlag: handleFlag,\n        handleMute: handleMute,\n        handleEdit: handleEdit,\n        handleDelete: handleDelete,\n        mine: _this.isMine()\n      }), /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"11\",\n        height: \"4\",\n        viewBox: \"0 0 11 4\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\",\n        fillRule: \"nonzero\"\n      })));\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageSimple, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!this.props.message.deleted_at) {\n        document.removeEventListener('click', this._closeDetailedReactions);\n        document.removeEventListener('touchend', this._closeDetailedReactions);\n      }\n    }\n  }, {\n    key: \"isMine\",\n    value: function isMine() {\n      return this.props.isMyMessage(this.props.message);\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions() {\n      var _this$props3 = this.props,\n          message = _this$props3.message,\n          initialMessage = _this$props3.initialMessage,\n          channelConfig = _this$props3.channelConfig,\n          threadList = _this$props3.threadList,\n          handleOpenThread = _this$props3.handleOpenThread;\n\n      if (message.type === 'error' || message.type === 'system' || message.type === 'ephemeral' || message.status === 'failed' || message.status === 'sending' || initialMessage) {\n        return;\n      }\n\n      if (this.isMine()) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-simple__actions\"\n        }, this.renderMessageActions(), !threadList && channelConfig && channelConfig.replies && /*#__PURE__*/React__default.createElement(\"div\", {\n          onClick: handleOpenThread,\n          className: \"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--thread\"\n        }, /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"14\",\n          height: \"10\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\",\n          fillRule: \"evenodd\"\n        }))), channelConfig && channelConfig.reactions && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--reactions\",\n          onClick: this._clickReactionList\n        }, /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"16\",\n          height: \"14\",\n          viewBox: \"0 0 16 14\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n          fillRule: \"evenodd\"\n        }))));\n      } else {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-simple__actions\"\n        }, channelConfig && channelConfig.reactions && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--reactions\",\n          onClick: this._clickReactionList\n        }, /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"14\",\n          height: \"14\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n          fillRule: \"evenodd\"\n        }))), !threadList && channelConfig && channelConfig.replies && /*#__PURE__*/React__default.createElement(\"div\", {\n          onClick: handleOpenThread,\n          className: \"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--thread\"\n        }, /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"14\",\n          height: \"10\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\",\n          fillRule: \"evenodd\"\n        }))), this.renderMessageActions());\n      }\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          message = _this$props4.message,\n          Attachment = _this$props4.Attachment,\n          editing = _this$props4.editing,\n          clearEditingState = _this$props4.clearEditingState,\n          handleRetry = _this$props4.handleRetry,\n          updateMessage = _this$props4.updateMessage,\n          handleReaction = _this$props4.handleReaction,\n          actionsEnabled = _this$props4.actionsEnabled,\n          messageListRect = _this$props4.messageListRect,\n          handleAction = _this$props4.handleAction,\n          onMentionsHoverMessage = _this$props4.onMentionsHoverMessage,\n          onMentionsClickMessage = _this$props4.onMentionsClickMessage,\n          unsafeHTML = _this$props4.unsafeHTML,\n          threadList = _this$props4.threadList,\n          handleOpenThread = _this$props4.handleOpenThread,\n          t = _this$props4.t,\n          tDateTimeParser = _this$props4.tDateTimeParser;\n      var when = tDateTimeParser(message.created_at).calendar();\n      var messageClasses = this.isMine() ? 'str-chat__message str-chat__message--me str-chat__message-simple str-chat__message-simple--me' : 'str-chat__message str-chat__message-simple';\n      var hasAttachment = Boolean(message && message.attachments && message.attachments.length);\n      var images = hasAttachment && message.attachments.filter(function (item) {\n        return item.type === 'image';\n      });\n      var hasReactions = Boolean(message.latest_reactions && message.latest_reactions.length);\n\n      if (message.type === 'message.read' || message.type === 'message.date') {\n        return null;\n      }\n\n      if (message.deleted_at) {\n        return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n          key: message.id,\n          className: \"\".concat(messageClasses, \" str-chat__message--deleted \").concat(message.type, \" \")\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--deleted-inner\"\n        }, t('This message was deleted...'))));\n      }\n\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, editing && /*#__PURE__*/React__default.createElement(Modal, {\n        open: editing,\n        onClose: clearEditingState\n      }, /*#__PURE__*/React__default.createElement(MessageInput, _extends({\n        Input: EditMessageForm,\n        message: message,\n        clearEditingState: clearEditingState,\n        updateMessage: updateMessage\n      }, this.props.additionalMessageInputProps))), /*#__PURE__*/React__default.createElement(\"div\", {\n        key: message.id,\n        className: \"\\n\\t\\t\\t\\t\\t\\t\".concat(messageClasses, \"\\n\\t\\t\\t\\t\\t\\tstr-chat__message--\").concat(message.type, \"\\n\\t\\t\\t\\t\\t\\tstr-chat__message--\").concat(message.status, \"\\n\\t\\t\\t\\t\\t\\t\").concat(message.text ? 'str-chat__message--has-text' : 'has-no-text', \"\\n\\t\\t\\t\\t\\t\\t\").concat(hasAttachment ? 'str-chat__message--has-attachment' : '', \"\\n\\t\\t\\t\\t\\t\\t\").concat(hasReactions ? 'str-chat__message--with-reactions' : '', \"\\n\\t\\t\\t\\t\\t\").trim(),\n        onMouseLeave: this._hideOptions,\n        ref: this.messageRef\n      }, this.renderStatus(), /*#__PURE__*/React__default.createElement(Avatar, {\n        image: message.user.image,\n        name: message.user.name || message.user.id\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-inner\",\n        onClick: message.status === 'failed' ? handleRetry.bind(this, message) : null\n      }, !message.text && /*#__PURE__*/React__default.createElement(React__default.Fragment, null, this.renderOptions(), hasReactions && !this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionsList, {\n        reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        onClick: this._clickReactionList,\n        reverse: true\n      }), this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        handleReaction: handleReaction,\n        detailedView: true,\n        reaction_counts: message.reaction_counts,\n        latest_reactions: message.latest_reactions,\n        messageList: messageListRect,\n        ref: this.reactionSelectorRef\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-attachment-container\"\n      }, hasAttachment && message.attachments.map(function (attachment, index) {\n        if (attachment.type === 'image' && images.length > 1) return null;\n        return /*#__PURE__*/React__default.createElement(Attachment, {\n          key: \"\".concat(message.id, \"-\").concat(index),\n          attachment: attachment,\n          actionHandler: handleAction\n        });\n      })), images.length > 1 && /*#__PURE__*/React__default.createElement(Gallery, {\n        images: images\n      }), message.text && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-text\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tstr-chat__message-text-inner str-chat__message-simple-text-inner\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\".concat(this.state.isFocused ? 'str-chat__message-text-inner--focused' : '', \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\").concat(hasAttachment ? 'str-chat__message-text-inner--has-attachment' : '', \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\").concat(isOnlyEmojis(message.text) ? 'str-chat__message-simple-text-inner--is-emoji' : '', \"\\n                \").trim(),\n        onMouseOver: onMentionsHoverMessage,\n        onClick: onMentionsClickMessage\n      }, message.type === 'error' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__simple-message--error-message\"\n      }, t('Error ¬∑ Unsent')), message.status === 'failed' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__simple-message--error-message\"\n      }, t('Message Failed ¬∑ Click to try again')), unsafeHTML ? /*#__PURE__*/React__default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: message.html\n        }\n      }) : renderText(message), hasReactions && !this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionsList, {\n        reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        onClick: this._clickReactionList,\n        reverse: true\n      }), this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        mine: this.isMine(),\n        handleReaction: handleReaction,\n        actionsEnabled: actionsEnabled,\n        detailedView: true,\n        reaction_counts: message.reaction_counts,\n        latest_reactions: message.latest_reactions,\n        messageList: messageListRect,\n        ref: this.reactionSelectorRef\n      })), message.text && this.renderOptions()), !threadList && message.reply_count !== 0 && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-simple-reply-button\"\n      }, /*#__PURE__*/React__default.createElement(MessageRepliesCountButton, {\n        onClick: handleOpenThread,\n        reply_count: message.reply_count\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-data str-chat__message-simple-data\"\n      }, !this.isMine() ? /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__message-simple-name\"\n      }, message.user.name || message.user.id) : null, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__message-simple-timestamp\"\n      }, when)))));\n    }\n  }]);\n\n  return MessageSimple;\n}(PureComponent);\n\n_defineProperty(MessageSimple, \"propTypes\", {\n  /** The [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n\n  /**\n   * The attachment UI component.\n   * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n   *\n   * The higher order message component, most logic is delegated to this component\n   * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n   *\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /** Client object */\n  client: PropTypes.object,\n\n  /** If its parent message in thread. */\n  initialMessage: PropTypes.bool,\n\n  /** Channel config object */\n  channelConfig: PropTypes.object,\n\n  /** If component is in thread list */\n  threadList: PropTypes.bool,\n\n  /** Function to open thread on current messxage */\n  handleOpenThread: PropTypes.func,\n\n  /** If the message is in edit state */\n  editing: PropTypes.bool,\n\n  /** Function to exit edit state */\n  clearEditingState: PropTypes.func,\n\n  /** Returns true if message belongs to current user */\n  isMyMessage: PropTypes.func,\n\n  /**\n   * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n   * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n   * */\n  getMessageActions: PropTypes.func,\n\n  /**\n   * Function to publish updates on message to channel\n   *\n   * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n   * */\n  updateMessage: PropTypes.func,\n\n  /**\n   * Reattempt sending a message\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n   */\n  handleRetry: PropTypes.func,\n\n  /**\n   * Add or remove reaction on message\n   *\n   * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * @param event Dom event which triggered this function\n   */\n  handleReaction: PropTypes.func,\n\n  /** If actions such as edit, delete, flag, mute are enabled on message */\n  actionsEnabled: PropTypes.bool,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /**\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  handleAction: PropTypes.func,\n\n  /**\n   * The handler for hover event on @mention in message\n   *\n   * @param event Dom hover event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsHoverMessage: PropTypes.func,\n\n  /**\n   * The handler for click event on @mention in message\n   *\n   * @param event Dom click event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsClickMessage: PropTypes.func,\n\n  /**\n   * Additional props for underlying MessageInput component.\n   * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n   * */\n  additionalMessageInputProps: PropTypes.object\n});\n\n_defineProperty(MessageSimple, \"defaultProps\", {\n  Attachment\n});\n\nMessageSimple = withTranslationContext(MessageSimple);\n\nfunction ownKeys$5(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$5(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$5(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$5(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$r(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$r()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$r() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\n\n\nvar Channel = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Channel, _PureComponent);\n\n  var _super = _createSuper$r(Channel);\n\n  function Channel(props) {\n    var _this;\n\n    _classCallCheck(this, Channel);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(Channel, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.channel || !this.props.channel.cid) {\n        return this.props.EmptyPlaceholder;\n      } // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you switch channel the component is recreated\n\n\n      return /*#__PURE__*/React__default.createElement(ChannelInner, _extends({}, this.props, {\n        key: this.props.channel.cid\n      }));\n    }\n  }]);\n\n  return Channel;\n}(PureComponent);\n\n_defineProperty(Channel, \"propTypes\", {\n  /** Which channel to connect to, will initialize the channel if it's not initialized yet */\n  channel: PropTypes.shape({\n    watch: PropTypes.func\n  }),\n\n  /** Client is passed automatically via the Chat Context */\n  client: PropTypes.object.isRequired,\n\n  /**\n   * Empty channel UI component. This will be shown on the screen if there is no active channel.\n   *\n   * Defaults to null which skips rendering the Channel\n   *\n   * */\n  EmptyPlaceholder: PropTypes.node,\n\n  /**\n   * Error indicator UI component. This will be shown on the screen if channel query fails.\n   *\n   * Defaults to and accepts same props as: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react/#loadingerrorindicator)\n   *\n   * */\n  LoadingErrorIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Loading indicator UI component. This will be shown on the screen until the messages are\n   * being queried from channel≈ì. Once the messages are loaded, loading indicator is removed from the screen\n   * and replaced with children of the Channel component.\n   *\n   * Defaults to and accepts same props as: [LoadingIndicator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingIndicator.js)\n   */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Message UI component to display a message in message list.\n   *\n   * Available built-in components (also accepts the same props as):\n   *\n   * 1. [MessageSimple](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageSimple.js) (default)\n   * 2. [MessageTeam](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageTeam.js)\n   * 3. [MessageLivestream](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageLivestream.js)\n   * 3. [MessageCommerce](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageCommerce.js)\n   *\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Attachment UI component to display attachment in individual message.\n   *\n   * Defaults to and accepts same props as: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Handle for click on @mention in message\n   *\n   * @param {Event} event DOM Click event\n   * @param {User} user   Target [user object](https://getstream.io/chat/docs/#chat-doc-set-user) which is clicked\n   */\n  onMentionsClick: PropTypes.func,\n\n  /**\n   * Handle for hover on @mention in message\n   *\n   * @param {Event} event DOM hover event\n   * @param {User} user   Target [user object](https://getstream.io/chat/docs/#chat-doc-set-user) which is hovered\n   */\n  onMentionsHover: PropTypes.func,\n\n  /** Weather to allow multiple attachment uploads */\n  multipleUploads: PropTypes.bool,\n\n  /** List of accepted file types */\n  acceptedFiles: PropTypes.array,\n\n  /** Maximum number of attachments allowed per message */\n  maxNumberOfFiles: PropTypes.number,\n\n  /** Override send message request (Advanced usage only)\n   *\n   * @param {String} channelId full channel ID in format of `type:id`\n   * @param {Object} message\n   */\n  doSendMessageRequest: PropTypes.func,\n\n  /** Override update(edit) message request (Advanced usage only)\n   *\n   * @param {String} channelId full channel ID in format of `type:id`\n   * @param {Object} updatedMessage\n   */\n  doUpdateMessageRequest: PropTypes.func\n});\n\n_defineProperty(Channel, \"defaultProps\", {\n  EmptyPlaceholder: null,\n  LoadingIndicator,\n  LoadingErrorIndicator,\n  Message: MessageSimple,\n  Attachment\n});\n\nvar ChannelInner = /*#__PURE__*/function (_PureComponent2) {\n  _inherits(ChannelInner, _PureComponent2);\n\n  var _super2 = _createSuper$r(ChannelInner);\n\n  function ChannelInner(props) {\n    var _this2;\n\n    _classCallCheck(this, ChannelInner);\n\n    _this2 = _super2.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this2), \"openThread\", function (message, e) {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      var channel = _this2.props.channel;\n      var threadMessages = channel.state.threads[message.id] || [];\n\n      _this2.setState({\n        thread: message,\n        threadMessages\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"loadMoreThread\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var channel, parentID, oldMessages, oldestMessageID, limit, queryResponse, hasMore, threadMessages;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_this2.state.threadLoadingMore) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _this2.setState({\n                threadLoadingMore: true\n              });\n\n              channel = _this2.props.channel;\n              parentID = _this2.state.thread.id;\n              oldMessages = channel.state.threads[parentID] || [];\n              oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n              limit = 50;\n              _context.next = 10;\n              return channel.getReplies(parentID, {\n                limit,\n                id_lt: oldestMessageID\n              });\n\n            case 10:\n              queryResponse = _context.sent;\n              hasMore = queryResponse.messages.length === limit;\n              threadMessages = channel.state.threads[parentID] || []; // next set loadingMore to false so we can start asking for more data...\n\n              _this2._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this2), \"loadMoreThreadFinished\", function (threadHasMore, threadMessages) {\n      _this2.setState({\n        threadLoadingMore: false,\n        threadHasMore,\n        threadMessages\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"closeThread\", function (e) {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      _this2.setState({\n        thread: null,\n        threadMessages: []\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"updateMessage\", function (updatedMessage, extraState) {\n      var channel = _this2.props.channel;\n      extraState = extraState || {}; // adds the message to the local channel state..\n      // this adds to both the main channel state as well as any reply threads\n\n      channel.state.addMessageSorted(updatedMessage); // update the Channel component state\n\n      if (_this2.state.thread && updatedMessage.parent_id) {\n        extraState.threadMessages = channel.state.threads[updatedMessage.parent_id] || [];\n      }\n\n      _this2.setState(_objectSpread$5({\n        messages: channel.state.messages\n      }, extraState));\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"removeMessage\", function (message) {\n      var channel = _this2.props.channel;\n      channel.state.removeMessage(message);\n      var threadMessages = channel.state.threads[message.parent_id] || [];\n\n      _this2.setState({\n        messages: channel.state.messages,\n        threads: channel.state.threads,\n        threadMessages\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"createMessagePreview\", function (text, attachments, parent, mentioned_users) {\n      // create a preview of the message\n      var clientSideID = \"\".concat(_this2.props.client.userID, \"-\") + uuidv4();\n      var message = {\n        text,\n        html: text,\n        __html: text,\n        //id: tmpID,\n        id: clientSideID,\n        type: 'regular',\n        status: 'sending',\n        user: _objectSpread$5({\n          id: _this2.props.client.userID\n        }, _this2.props.client.user),\n        created_at: new Date(),\n        attachments,\n        mentioned_users,\n        reactions: []\n      };\n\n      if (parent && parent.id) {\n        message.parent_id = parent.id;\n      }\n\n      return message;\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"editMessage\", function (updatedMessage) {\n      if (_this2.props.doUpdateMessageRequest) {\n        return Promise.resolve(_this2.props.doUpdateMessageRequest(_this2.props.channel.cid, updatedMessage));\n      }\n\n      return _this2.props.client.updateMessage(updatedMessage);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"_sendMessage\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(message) {\n        var text, attachments, id, parent_id, mentioned_users, messageData, messageResponse;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                text = message.text, attachments = message.attachments, id = message.id, parent_id = message.parent_id, mentioned_users = message.mentioned_users;\n                messageData = {\n                  text,\n                  attachments,\n                  mentioned_users,\n                  id,\n                  parent_id\n                };\n                _context2.prev = 2;\n\n                if (!_this2.props.doSendMessageRequest) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 6;\n                return _this2.props.doSendMessageRequest(_this2.props.channel.cid, messageData);\n\n              case 6:\n                messageResponse = _context2.sent;\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.next = 11;\n                return _this2.props.channel.sendMessage(messageData);\n\n              case 11:\n                messageResponse = _context2.sent;\n\n              case 12:\n                // replace it after send is completed\n                if (messageResponse.message) {\n                  messageResponse.message.status = 'received';\n\n                  _this2.updateMessage(messageResponse.message);\n                }\n\n                _context2.next = 19;\n                break;\n\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2[\"catch\"](2); // set the message to failed..\n\n                message.status = 'failed';\n\n                _this2.updateMessage(message);\n\n              case 19:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 15]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this2), \"sendMessage\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3) {\n        var text, _ref3$attachments, attachments, _ref3$mentioned_users, mentioned_users, parent, messagePreview;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                text = _ref3.text, _ref3$attachments = _ref3.attachments, attachments = _ref3$attachments === void 0 ? [] : _ref3$attachments, _ref3$mentioned_users = _ref3.mentioned_users, mentioned_users = _ref3$mentioned_users === void 0 ? [] : _ref3$mentioned_users, parent = _ref3.parent; // remove error messages upon submit\n\n                _this2.props.channel.state.filterErrorMessages(); // create a local preview message to show in the UI\n\n\n                messagePreview = _this2.createMessagePreview(text, attachments, parent, mentioned_users); // first we add the message to the UI\n\n                _this2.updateMessage(messagePreview, {\n                  messageInput: '',\n                  commands: [],\n                  userAutocomplete: []\n                });\n\n                _context3.next = 6;\n                return _this2._sendMessage(messagePreview);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this2), \"retrySendMessage\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(message) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // set the message status to sending\n                message = message.asMutable();\n                message.status = 'sending';\n\n                _this2.updateMessage(message); // actually try to send the message...\n\n\n                _context4.next = 5;\n                return _this2._sendMessage(message);\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this2), \"handleEvent\", function (e) {\n      var channel = _this2.props.channel;\n      var threadMessages = [];\n      var threadState = {};\n\n      if (_this2.state.thread) {\n        threadMessages = channel.state.threads[_this2.state.thread.id] || [];\n        threadState['threadMessages'] = threadMessages;\n      }\n\n      if (_this2.state.thread && e.message && e.message.id === _this2.state.thread.id) {\n        threadState['thread'] = channel.state.messageToImmutable(e.message);\n      }\n\n      if (Object.keys(threadState).length > 0) {\n        // TODO: in theory we should do 1 setState call not 2,\n        // However the setStateThrottled doesn't support this\n        _this2.setState(threadState);\n      }\n\n      if (e.type === 'message.new') {\n        var mainChannelUpdated = true;\n\n        if (e.message.parent_id && !e.message.show_in_channel) {\n          mainChannelUpdated = false;\n        }\n\n        if (mainChannelUpdated && e.message.user.id !== _this2.props.client.userID) {\n          if (Visibility.state() === 'visible') {\n            _this2._markReadThrottled(channel);\n          } else {\n            var unread = channel.countUnread(_this2.lastRead);\n            document.title = \"(\".concat(unread, \") \").concat(_this2.originalTitle);\n          }\n        }\n      }\n\n      if (e.type === 'member.added') {\n        _this2.addToEventHistory(e);\n      }\n\n      if (e.type === 'member.removed') {\n        _this2.addToEventHistory(e);\n      }\n\n      _this2._setStateThrottled({\n        messages: channel.state.messages,\n        watchers: channel.state.watchers,\n        read: channel.state.read,\n        typing: channel.state.typing,\n        watcher_count: channel.state.watcher_count\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"addToEventHistory\", function (e) {\n      _this2.setState(function (prevState) {\n        if (!prevState.message || !prevState.message.length) {\n          return;\n        }\n\n        var lastMessageId = prevState.messages[prevState.messages.length - 1].id;\n        if (!prevState.eventHistory[lastMessageId]) return _objectSpread$5({}, prevState, {\n          eventHistory: _objectSpread$5({}, prevState.eventHistory, {\n            [lastMessageId]: [e]\n          })\n        });\n        return _objectSpread$5({}, prevState, {\n          eventHistory: _objectSpread$5({}, prevState.eventHistory, {\n            [lastMessageId]: [].concat(_toConsumableArray(prevState.eventHistory[lastMessageId]), [e])\n          })\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"markRead\", function (channel) {\n      if (!channel.getConfig().read_events) {\n        return;\n      }\n\n      _this2.lastRead = new Date();\n      logChatPromiseExecution(channel.markRead(), 'mark read');\n\n      if (_this2.originalTitle) {\n        document.title = _this2.originalTitle;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"loadMore\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var limit,\n          oldestMessage,\n          oldestID,\n          perPage,\n          queryResponse,\n          hasMore,\n          _args5 = arguments;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              limit = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : 100;\n\n              if (!_this2.state.loadingMore) {\n                _context5.next = 3;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 3:\n              _this2.setState({\n                loadingMore: true\n              });\n\n              oldestMessage = _this2.state.messages[0];\n\n              if (!(oldestMessage && oldestMessage.status !== 'received')) {\n                _context5.next = 8;\n                break;\n              }\n\n              _this2.setState({\n                loadingMore: false\n              });\n\n              return _context5.abrupt(\"return\");\n\n            case 8:\n              oldestID = oldestMessage ? oldestMessage.id : null;\n              perPage = limit;\n              _context5.prev = 10;\n              _context5.next = 13;\n              return _this2.props.channel.query({\n                messages: {\n                  limit: perPage,\n                  id_lt: oldestID\n                }\n              });\n\n            case 13:\n              queryResponse = _context5.sent;\n              _context5.next = 21;\n              break;\n\n            case 16:\n              _context5.prev = 16;\n              _context5.t0 = _context5[\"catch\"](10);\n              console.warn('message pagination request failed with error', _context5.t0);\n\n              _this2.setState({\n                loadingMore: false\n              });\n\n              return _context5.abrupt(\"return\");\n\n            case 21:\n              hasMore = queryResponse.messages.length === perPage;\n\n              _this2._loadMoreFinishedDebounced(hasMore, _this2.props.channel.state.messages);\n\n            case 23:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[10, 16]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this2), \"_onMentionsHoverOrClick\", function (e, mentioned_users) {\n      if (!_this2.props.onMentionsHover && !_this2.props.onMentionsClick) return;\n      var tagName = e.target.tagName.toLowerCase();\n      var textContent = e.target.innerHTML.replace('*', '');\n\n      if (tagName === 'strong' && textContent[0] === '@') {\n        var userName = textContent.replace('@', '');\n        var user = mentioned_users.find(function (user) {\n          return user.name === userName || user.id === userName;\n        });\n\n        if (_this2.props.onMentionsHover && typeof _this2.props.onMentionsHover === 'function' && e.type === 'mouseover') {\n          _this2.props.onMentionsHover(e, user);\n        }\n\n        if (_this2.props.onMentionsClick && e.type === 'click' && typeof _this2.props.onMentionsClick === 'function') {\n          _this2.props.onMentionsClick(e, user);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"loadMoreFinished\", function (hasMore, messages) {\n      _this2.setState({\n        loadingMore: false,\n        hasMore,\n        messages\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"getContext\", function () {\n      return _objectSpread$5({}, _this2.state, {\n        client: _this2.props.client,\n        channel: _this2.props.channel,\n        Message: _this2.props.Message,\n        Attachment: _this2.props.Attachment,\n        multipleUploads: _this2.props.multipleUploads,\n        acceptedFiles: _this2.props.acceptedFiles,\n        maxNumberOfFiles: _this2.props.maxNumberOfFiles,\n        updateMessage: _this2.updateMessage,\n        removeMessage: _this2.removeMessage,\n        sendMessage: _this2.sendMessage,\n        editMessage: _this2.editMessage,\n        retrySendMessage: _this2.retrySendMessage,\n        loadMore: _this2.loadMore,\n        // thread related\n        openThread: _this2.openThread,\n        closeThread: _this2.closeThread,\n        loadMoreThread: _this2.loadMoreThread,\n        onMentionsClick: _this2._onMentionsHoverOrClick,\n        onMentionsHover: _this2._onMentionsHoverOrClick\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"renderComponent\", function () {\n      return _this2.props.children;\n    });\n\n    _this2.state = {\n      error: false,\n      // Loading the initial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: true,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n      eventHistory: {},\n      thread: false,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true\n    }; // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n\n    _this2._loadMoreFinishedDebounced = debounce(_this2.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true\n    }); // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n\n    _this2._loadMoreThreadFinishedDebounced = debounce(_this2.loadMoreThreadFinished, 2000, {\n      leading: true,\n      trailing: true\n    });\n    _this2._markReadThrottled = throttle(_this2.markRead, 500, {\n      leading: true,\n      trailing: true\n    });\n    _this2._setStateThrottled = throttle(_this2.setState, 500, {\n      leading: true,\n      trailing: true\n    });\n    return _this2;\n  }\n\n  _createClass(ChannelInner, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var channel, errored;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                channel = this.props.channel;\n                errored = false;\n\n                if (channel.initialized) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                _context6.prev = 3;\n                _context6.next = 6;\n                return channel.watch();\n\n              case 6:\n                _context6.next = 12;\n                break;\n\n              case 8:\n                _context6.prev = 8;\n                _context6.t0 = _context6[\"catch\"](3);\n                this.setState({\n                  error: _context6.t0\n                });\n                errored = true;\n\n              case 12:\n                this.originalTitle = document.title;\n                this.lastRead = new Date();\n\n                if (!errored) {\n                  this.copyChannelState();\n                  this.listenToChanges();\n                }\n\n              case 15:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[3, 8]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      // If there is an active thread, then in that case we should sync\n      // it with updated state of channel.\n      if (this.state.thread) {\n        for (var i = this.state.messages.length - 1; i >= 0; i--) {\n          if (this.state.messages[i].id === this.state.thread.id) {\n            this.setState({\n              thread: this.state.messages[i]\n            });\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.client.off('connection.recovered', this.handleEvent);\n      this.props.channel.off(this.handleEvent);\n\n      this._loadMoreFinishedDebounced.cancel();\n\n      this._loadMoreThreadFinishedDebounced.cancel();\n\n      if (this.visibilityListener || this.visibilityListener === 0) {\n        Visibility.unbind(this.visibilityListener);\n      }\n    }\n  }, {\n    key: \"copyChannelState\",\n    value: function copyChannelState() {\n      var channel = this.props.channel;\n      this.setState({\n        messages: channel.state.messages,\n        read: channel.state.read,\n        watchers: channel.state.watchers,\n        members: channel.state.members,\n        watcher_count: channel.state.watcher_count,\n        loading: false,\n        typing: Immutable({})\n      });\n      if (channel.countUnread() > 0) channel.markRead();\n    }\n  }, {\n    key: \"removeEphemeralMessages\",\n    value: function removeEphemeralMessages() {\n      var c = this.props.channel;\n      c.state.selectRegularMessages();\n      this.setState({\n        messages: c.state.messages\n      });\n    }\n  }, {\n    key: \"listenToChanges\",\n    value: function listenToChanges() {\n      var _this3 = this; // The more complex sync logic is done in chat.js\n      // listen to client.connection.recovered and all channel events\n\n\n      this.props.client.on('connection.recovered', this.handleEvent);\n      var channel = this.props.channel;\n      channel.on(this.handleEvent);\n      this.boundMarkRead = this.markRead.bind(this, channel);\n      this.visibilityListener = Visibility.change(function (e, state) {\n        if (state === 'visible') {\n          _this3.boundMarkRead();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      var core;\n      var LoadingIndicator = this.props.LoadingIndicator;\n      var LoadingErrorIndicator = this.props.LoadingErrorIndicator;\n\n      if (this.state.error) {\n        core = /*#__PURE__*/React__default.createElement(LoadingErrorIndicator, {\n          error: this.state.error\n        });\n      } else if (this.state.loading) {\n        core = /*#__PURE__*/React__default.createElement(LoadingIndicator, {\n          size: 25,\n          isLoading: true\n        });\n      } else if (!this.props.channel || !this.props.channel.watch) {\n        core = /*#__PURE__*/React__default.createElement(\"div\", null, t('Channel Missing'));\n      } else {\n        core = /*#__PURE__*/React__default.createElement(ChannelContext.Provider, {\n          value: this.getContext()\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__container\"\n        }, this.renderComponent()));\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat str-chat-channel \".concat(this.props.theme)\n      }, core);\n    }\n  }]);\n\n  return ChannelInner;\n}(PureComponent);\n\n_defineProperty(ChannelInner, \"propTypes\", {\n  /** Which channel to connect to */\n  channel: PropTypes.shape({\n    watch: PropTypes.func\n  }).isRequired,\n\n  /** Client is passed via the Chat Context */\n  client: PropTypes.object.isRequired,\n\n  /** The loading indicator to use */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  LoadingErrorIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\nChannel = withChatContext(withTranslationContext(Channel));\n\nfunction _createSuper$s(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$s()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$s() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ChannelHeader - Render some basic information about this channel\n *\n * @example ./docs/ChannelHeader.md\n * @extends PureComponent\n */\n\n\nvar ChannelHeader = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelHeader, _PureComponent);\n\n  var _super = _createSuper$s(ChannelHeader);\n\n  function ChannelHeader() {\n    _classCallCheck(this, ChannelHeader);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChannelHeader, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          channel = _this$props.channel,\n          title = _this$props.title,\n          live = _this$props.live,\n          watcher_count = _this$props.watcher_count;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__header-livestream\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__header-hamburger\",\n        onClick: this.props.openMobileNav\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__header-hamburger--line\"\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__header-hamburger--line\"\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__header-hamburger--line\"\n      })), channel.data.image && /*#__PURE__*/React__default.createElement(Avatar, {\n        image: channel.data.image,\n        shape: \"rounded\",\n        size: channel.type === 'commerce' ? 60 : 40\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__header-livestream-left\"\n      }, /*#__PURE__*/React__default.createElement(\"p\", {\n        className: \"str-chat__header-livestream-left--title\"\n      }, title || channel.data.name, ' ', live && /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__header-livestream-left--livelabel\"\n      }, t('live'))), channel.data.subtitle && /*#__PURE__*/React__default.createElement(\"p\", {\n        className: \"str-chat__header-livestream-left--subtitle\"\n      }, channel.data.subtitle), /*#__PURE__*/React__default.createElement(\"p\", {\n        className: \"str-chat__header-livestream-left--members\"\n      }, !live && channel.data.member_count > 0 && /*#__PURE__*/React__default.createElement(React__default.Fragment, null, t('{{ memberCount }} members', {\n        memberCount: channel.data.member_count\n      }), \",\", ' '), t('{{ watcherCount }} online', {\n        watcherCount: watcher_count\n      }))));\n    }\n  }]);\n\n  return ChannelHeader;\n}(PureComponent);\n\n_defineProperty(ChannelHeader, \"propTypes\", {\n  /** Set title manually */\n  title: PropTypes.string,\n\n  /** Show a little indicator that the channel is live right now */\n  live: PropTypes.bool,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#chat)** */\n  watcher_count: PropTypes.number\n});\n\nChannelHeader = withChatContext(ChannelHeader);\nChannelHeader = withChannelContext(withTranslationContext(ChannelHeader));\n\nfunction _createSuper$t(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$t()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$t() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Used as preview component for channel item in [ChannelList](#channellist) component.\n *\n * @example ./docs/ChannelPreviewLastMessage.md\n * @extends PureComponent\n */\n\n\nvar ChannelPreviewLastMessage = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelPreviewLastMessage, _PureComponent);\n\n  var _super = _createSuper$t(ChannelPreviewLastMessage);\n\n  function ChannelPreviewLastMessage() {\n    var _this;\n\n    _classCallCheck(this, ChannelPreviewLastMessage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"channelPreviewButton\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChannel\", function () {\n      _this.props.setActiveChannel(_this.props.channel, _this.props.watchers);\n\n      _this.channelPreviewButton.current.blur();\n    });\n\n    return _this;\n  }\n\n  _createClass(ChannelPreviewLastMessage, [{\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      var unreadClass = this.props.unread >= 1 ? 'str-chat__channel-preview--unread' : '';\n      var activeClass = this.props.active ? 'str-chat__channel-preview--active' : '';\n      var name = this.props.channel.data.name || this.props.channel.cid;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview \".concat(unreadClass, \" \").concat(activeClass)\n      }, /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: this.onSelectChannel,\n        ref: this.channelPreviewButton\n      }, this.props.unread >= 1 && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview--dot\"\n      }), /*#__PURE__*/React__default.createElement(Avatar, {\n        image: this.props.channel.data.image\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-info\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__channel-preview-title\"\n      }, name), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__channel-preview-last-message\"\n      }, !this.props.channel.state.messages[0] ? t('Nothing yet...') : truncate(this.props.latestMessage, {\n        length: this.props.latestMessageLength\n      })), this.props.unread >= 1 && /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__channel-preview-unread-count\"\n      }, this.props.unread))));\n    }\n  }]);\n\n  return ChannelPreviewLastMessage;\n}(PureComponent);\n\n_defineProperty(ChannelPreviewLastMessage, \"propTypes\", {\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** Current selected channel object */\n  activeChannel: PropTypes.object,\n\n  /** Setter for selected channel */\n  setActiveChannel: PropTypes.func.isRequired,\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object,\n\n  /** Number of unread messages */\n  unread: PropTypes.number,\n\n  /** If channel of component is active (selected) channel */\n  active: PropTypes.bool,\n\n  /** Latest message's text. */\n  latestMessage: PropTypes.string,\n\n  /** Length of latest message to truncate at */\n  latestMessageLength: PropTypes.number\n});\n\n_defineProperty(ChannelPreviewLastMessage, \"defaultProps\", {\n  latestMessageLength: 20\n});\n\nChannelPreviewLastMessage = withTranslationContext(ChannelPreviewLastMessage);\n\nfunction _createSuper$u(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$u()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$u() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ChannelPreviewCountOnly = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelPreviewCountOnly, _PureComponent);\n\n  var _super = _createSuper$u(ChannelPreviewCountOnly);\n\n  function ChannelPreviewCountOnly() {\n    _classCallCheck(this, ChannelPreviewCountOnly);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChannelPreviewCountOnly, [{\n    key: \"render\",\n    value: function render() {\n      var unreadClass = this.props.unread >= 1 ? 'unread' : '';\n      var name = this.props.channel.data.name || this.props.channel.cid;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: unreadClass\n      }, /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: this.props.setActiveChannel.bind(this, this.props.channel)\n      }, ' ', name, \" \", /*#__PURE__*/React__default.createElement(\"span\", null, this.props.unread)));\n    }\n  }]);\n\n  return ChannelPreviewCountOnly;\n}(PureComponent);\n\n_defineProperty(ChannelPreviewCountOnly, \"propTypes\", {\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** Current selected channel object */\n  activeChannel: PropTypes.object,\n\n  /** @see See [chat context](https://getstream.github.io/stream-chat-react/#chat) for doc */\n  setActiveChannel: PropTypes.func.isRequired,\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object,\n\n  /** Number of unread messages */\n  unread: PropTypes.number\n});\n\nfunction ownKeys$6(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$6(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$6(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$6(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$v(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$v()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$v() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ChannelPreview = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelPreview, _PureComponent);\n\n  var _super = _createSuper$v(ChannelPreview);\n\n  function ChannelPreview(props) {\n    var _this;\n\n    _classCallCheck(this, ChannelPreview);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEvent\", function (event) {\n      var channel = _this.props.channel;\n      var isActive = _this.props.activeChannel && _this.props.activeChannel.cid === channel.cid;\n\n      if (!isActive) {\n        var unread = channel.countUnread(_this.state.lastRead);\n\n        _this.setState({\n          lastMessage: event.message,\n          unread\n        });\n      } else {\n        _this.setState({\n          lastMessage: event.message,\n          unread: 0\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLatestMessage\", function () {\n      var _this$props = _this.props,\n          channel = _this$props.channel,\n          t = _this$props.t;\n      var latestMessage = channel.state.messages[channel.state.messages.length - 1];\n\n      if (!latestMessage) {\n        return t('Nothing yet...');\n      }\n\n      if (latestMessage.deleted_at) {\n        return t('Message deleted');\n      }\n\n      if (latestMessage.text) {\n        return latestMessage.text;\n      } else {\n        if (latestMessage.command) {\n          return '/' + latestMessage.command;\n        }\n\n        if (latestMessage.attachments.length) {\n          return t('üèô Attachment...');\n        }\n\n        return t('Empty message...');\n      }\n    });\n\n    _this.state = {\n      lastMessage: {},\n      unread: 0,\n      lastRead: new Date()\n    };\n    return _this;\n  }\n\n  _createClass(ChannelPreview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // listen to change...\n      var channel = this.props.channel;\n      var unread = channel.countUnread();\n      this.setState({\n        unread\n      });\n      channel.on('message.new', this.handleEvent);\n      channel.on('message.updated', this.handleEvent);\n      channel.on('message.deleted', this.handleEvent);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var channel = this.props.channel;\n      channel.off('message.new', this.handleEvent);\n      channel.off('message.updated', this.handleEvent);\n      channel.off('message.deleted', this.handleEvent);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.activeChannel && prevProps.activeChannel && this.props.activeChannel.cid !== prevProps.activeChannel.cid) {\n        var isActive = this.props.activeChannel.cid === this.props.channel.cid;\n\n        if (isActive) {\n          this.setState({\n            unread: 0,\n            lastRead: new Date()\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread$6({}, this.state, {}, this.props);\n\n      var Preview = this.props.Preview;\n      return /*#__PURE__*/React__default.createElement(Preview, _extends({}, props, {\n        latestMessage: this.getLatestMessage(),\n        active: this.props.activeChannel && this.props.activeChannel.cid === this.props.channel.cid\n      }));\n    }\n  }]);\n\n  return ChannelPreview;\n}(PureComponent);\n\n_defineProperty(ChannelPreview, \"propTypes\", {\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** Current selected channel object */\n  activeChannel: PropTypes.object,\n\n  /** Setter for selected channel */\n  setActiveChannel: PropTypes.func.isRequired,\n\n  /**\n   * Available built-in options (also accepts the same props as):\n   *\n   * 1. [ChannelPreviewCompact](https://getstream.github.io/stream-chat-react/#ChannelPreviewCompact) (default)\n   * 2. [ChannelPreviewLastMessage](https://getstream.github.io/stream-chat-react/#ChannelPreviewLastMessage)\n   * 3. [ChannelPreviewMessanger](https://getstream.github.io/stream-chat-react/#ChannelPreviewMessanger)\n   *\n   * The Preview to use, defaults to ChannelPreviewLastMessage\n   * */\n  Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object\n});\n\n_defineProperty(ChannelPreview, \"defaultProps\", {\n  Preview: ChannelPreviewCountOnly\n});\n\nChannelPreview = withTranslationContext(ChannelPreview);\nvar EmptyStateIndicator = withTranslationContext(function (_ref) {\n  var listType = _ref.listType,\n      t = _ref.t;\n  var Indicator;\n\n  switch (listType) {\n    case 'channel':\n      Indicator = /*#__PURE__*/React__default.createElement(\"p\", null, t('You have no channels currently'));\n      break;\n\n    case 'message':\n      Indicator = null;\n      break;\n\n    default:\n      Indicator = /*#__PURE__*/React__default.createElement(\"p\", null, \"No items exist\");\n      break;\n  }\n\n  return Indicator;\n});\nEmptyStateIndicator.propTypes = {\n  /** channel | message */\n  listType: PropTypes.string\n};\n/**\n * LoadingChannels - Fancy loading indicator for the channel list\n *\n * @example ./docs/LoadingChannels.md\n */\n\nvar LoadingChannels = function LoadingChannels() {\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-item\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-avatar\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-meta\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-username\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-status\"\n  }))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-item\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-avatar\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-meta\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-username\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-status\"\n  }))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-item\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-avatar\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-meta\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-username\"\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__loading-channels-status\"\n  }))));\n};\n\nfunction _createSuper$w(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$w()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$w() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar LoadMoreButton = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LoadMoreButton, _React$PureComponent);\n\n  var _super = _createSuper$w(LoadMoreButton);\n\n  function LoadMoreButton() {\n    _classCallCheck(this, LoadMoreButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LoadMoreButton, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__load-more-button\"\n      }, /*#__PURE__*/React__default.createElement(\"button\", {\n        className: \"str-chat__load-more-button__button\",\n        onClick: this.props.onClick,\n        disabled: this.props.refreshing\n      }, this.props.refreshing ? /*#__PURE__*/React__default.createElement(LoadingIndicator$1, null) : this.props.children));\n    }\n  }]);\n\n  return LoadMoreButton;\n}(React__default.PureComponent);\n\n_defineProperty(LoadMoreButton, \"propTypes\", {\n  /** onClick handler load more button. Pagination logic should be executed in this handler. */\n  onClick: PropTypes.func,\n\n  /** If true, LoadingIndicator is displayed instead of button */\n  refreshing: PropTypes.bool\n});\n\n_defineProperty(LoadMoreButton, \"defaultProps\", {\n  children: 'Load more'\n});\n\nfunction _createSuper$x(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$x()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$x() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar LoadMorePaginator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LoadMorePaginator, _React$PureComponent);\n\n  var _super = _createSuper$x(LoadMorePaginator);\n\n  function LoadMorePaginator() {\n    _classCallCheck(this, LoadMorePaginator);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LoadMorePaginator, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/createElement(Fragment, null, !this.props.reverse && this.props.children, this.props.hasNextPage ? smartRender(this.props.LoadMoreButton, {\n        refreshing: this.props.refreshing,\n        onClick: this.props.loadNextPage\n      }) : null, this.props.reverse && this.props.children);\n    }\n  }]);\n\n  return LoadMorePaginator;\n}(PureComponent);\n\n_defineProperty(LoadMorePaginator, \"propTypes\", {\n  LoadMoreButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** callback to load the next page */\n  loadNextPage: PropTypes.func,\n\n  /** indicates if there is a next page to load */\n  hasNextPage: PropTypes.bool,\n\n  /** display the items in opposite order */\n  reverse: PropTypes.bool\n});\n\n_defineProperty(LoadMorePaginator, \"defaultProps\", {\n  LoadMoreButton\n});\n\nvar placeholder = \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2278px%22%20height%3D%2278px%22%20viewBox%3D%220%200%2078%2078%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3ECombined%20Shape%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cg%20id%3D%22Interactions%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Connection-Error-_-Connectivity%22%20transform%3D%22translate%28-270.000000%2C%20-30.000000%29%22%20fill%3D%22%23CF1F25%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22109-network-connection%22%20transform%3D%22translate%28270.000000%2C%2030.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M66.4609744%2C11.414231%20C81.6225232%2C26.5757798%2081.6225232%2C51.157545%2066.4609744%2C66.3188467%20C51.2994256%2C81.4803954%2026.7176604%2C81.4803954%2011.5563587%2C66.3188467%20C-3.60519004%2C51.1572979%20-3.60519004%2C26.5755327%2011.5563587%2C11.414231%20C26.7179075%2C-3.74731776%2051.2996727%2C-3.74731776%2066.4609744%2C11.414231%20Z%20M54.7853215%2C45.8823776%20L54.7853215%2C40.5882574%20C54.7853215%2C39.613638%2053.9952341%2C38.8235506%2053.0206147%2C38.8235506%20L44.9576695%2C38.8235506%20L41.428256%2C42.3529641%20L51.255555%2C42.3529641%20L51.255555%2C45.8823776%20L54.7853215%2C45.8823776%20Z%20M40.6659027%2C43.1153174%20L37.8988425%2C45.8823776%20L40.6659027%2C45.8823776%20L40.6659027%2C43.1153174%20Z%20M51.1764962%2C56.4702653%20L58.2353232%2C56.4702653%20C59.2099355%2C56.4702653%2060.00003%2C55.6801708%2060.00003%2C54.7055585%20L60.00003%2C51.176145%20C60.00003%2C50.2015327%2059.2099355%2C49.4114382%2058.2353232%2C49.4114382%20L51.1764962%2C49.4114382%20C50.2018839%2C49.4114382%2049.4117894%2C50.2015327%2049.4117894%2C51.176145%20L49.4117894%2C54.7055585%20C49.4117894%2C55.6801708%2050.2018839%2C56.4702653%2051.1764962%2C56.4702653%20Z%20M35.2941353%2C56.4702653%20L42.3529624%2C56.4702653%20C43.3275746%2C56.4702653%2044.1176691%2C55.6801708%2044.1176691%2C54.7055585%20L44.1176691%2C51.176145%20C44.1176691%2C50.2015327%2043.3275746%2C49.4114382%2042.3529624%2C49.4114382%20L35.2941353%2C49.4114382%20C34.319523%2C49.4114382%2033.5294285%2C50.2015327%2033.5294285%2C51.176145%20L33.5294285%2C54.7055585%20C33.5294285%2C55.6801708%2034.319523%2C56.4702653%2035.2941353%2C56.4702653%20Z%20M56.6964989%2C19.0874231%20C56.007381%2C18.3985134%2054.8903216%2C18.3985134%2054.2012036%2C19.087423%20L45.882376%2C27.4062507%20L45.882376%2C19.4117761%20C45.882376%2C18.4371568%2045.0922885%2C17.6470693%2044.1176692%2C17.6470693%20L33.5294286%2C17.6470693%20C32.5548092%2C17.6470694%2031.7647218%2C18.4371568%2031.7647218%2C19.4117761%20L31.7647218%2C30.0000167%20C31.7647219%2C30.9746363%2032.5548092%2C31.7647237%2033.5294285%2C31.7647237%20L41.5239031%2C31.7647237%20L34.4650761%2C38.8235508%20L24.7058947%2C38.8235508%20C23.7312753%2C38.8235508%2022.9411879%2C39.6136382%2022.9411879%2C40.5882575%20L22.9411879%2C45.8823778%20L26.4706014%2C45.8823778%20L26.4706014%2C42.3529643%20L30.9356624%2C42.3529643%20L23.8768354%2C49.4117914%20L19.4117743%2C49.4117914%20C18.4371549%2C49.4117914%2017.6470675%2C50.2018788%2017.6470675%2C51.1764981%20L17.6470675%2C54.7059117%20C17.6504049%2C54.9674302%2017.7129076%2C55.2248042%2017.8298886%2C55.4587302%20L16.4456526%2C56.8429662%20C15.7446193%2C57.5200453%2015.7252005%2C58.6372282%2016.4022825%2C59.3382615%20C17.0793616%2C60.0392948%2018.1965445%2C60.0587136%2018.8975778%2C59.3816316%20C18.9122847%2C59.3674273%2018.9267436%2C59.3529684%2018.940948%2C59.3382615%20L56.6964963%2C21.5830662%20C57.3856425%2C20.8939094%2057.3856425%2C19.7765747%2056.6964963%2C19.0874179%20Z%22%20id%3D%22Combined-Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E\";\n\nfunction _createSuper$y(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$y()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$y() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ChatDown - Indicator that chat is down or your network isn't working\n *\n * @example ./docs/ChatDown.md\n * @extends PureComponent\n */\n\n\nvar ChatDown = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ChatDown, _React$PureComponent);\n\n  var _super = _createSuper$y(ChatDown);\n\n  function ChatDown() {\n    _classCallCheck(this, ChatDown);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChatDown, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          image = _this$props.image,\n          type = _this$props.type,\n          text = _this$props.text,\n          t = _this$props.t;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__down\"\n      }, /*#__PURE__*/React__default.createElement(LoadingChannels, null), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__down-main\"\n      }, /*#__PURE__*/React__default.createElement(\"img\", {\n        src: image\n      }), /*#__PURE__*/React__default.createElement(\"h1\", null, type), /*#__PURE__*/React__default.createElement(\"h3\", null, text || t('Error connecting to chat, refresh the page to try again.'))));\n    }\n  }]);\n\n  return ChatDown;\n}(React__default.PureComponent);\n\n_defineProperty(ChatDown, \"propTypes\", {\n  /** The image url for this error */\n  image: PropTypes.string,\n\n  /** The type of error */\n  type: PropTypes.string,\n\n  /** The error message to show */\n  text: PropTypes.string\n});\n\n_defineProperty(ChatDown, \"defaultProps\", {\n  image: placeholder,\n  type: 'Error'\n});\n\nChatDown = withTranslationContext(ChatDown);\nvar chevrondown = \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%225%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cdefs%3E%3Cpath%20id%3D%22b%22%20d%3D%22M.667.667L4%204%207.333.667z%22%2F%3E%3Cfilter%20x%3D%22-7.5%25%22%20y%3D%22-15%25%22%20width%3D%22115%25%22%20height%3D%22160%25%22%20filterUnits%3D%22objectBoundingBox%22%20id%3D%22a%22%3E%3CfeOffset%20dy%3D%221%22%20in%3D%22SourceAlpha%22%20result%3D%22shadowOffsetOuter1%22%2F%3E%3CfeComposite%20in%3D%22shadowOffsetOuter1%22%20in2%3D%22SourceAlpha%22%20operator%3D%22out%22%20result%3D%22shadowOffsetOuter1%22%2F%3E%3CfeColorMatrix%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.685858243%200%22%20in%3D%22shadowOffsetOuter1%22%2F%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cuse%20fill%3D%22%23000%22%20filter%3D%22url%28%23a%29%22%20xlink%3Ahref%3D%22%23b%22%2F%3E%3Cuse%20fill-opacity%3D%22.7%22%20fill%3D%22%23FFF%22%20xlink%3Ahref%3D%22%23b%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\";\n\nfunction _createSuper$z(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$z()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$z() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\n\n\nvar ChannelListTeam = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelListTeam, _PureComponent);\n\n  var _super = _createSuper$z(ChannelListTeam);\n\n  function ChannelListTeam() {\n    _classCallCheck(this, ChannelListTeam);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChannelListTeam, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          showSidebar = _this$props.showSidebar,\n          LoadingErrorIndicator = _this$props.LoadingErrorIndicator,\n          LoadingIndicator = _this$props.LoadingIndicator;\n\n      if (this.props.error) {\n        return /*#__PURE__*/React__default.createElement(LoadingErrorIndicator, {\n          type: \"Connection Error\"\n        });\n      } else if (this.props.loading) {\n        return /*#__PURE__*/React__default.createElement(LoadingIndicator, null);\n      } else {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team\"\n        }, showSidebar && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__sidebar\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__sidebar--top\"\n        }, /*#__PURE__*/React__default.createElement(Avatar, {\n          image: this.props.sidebarImage,\n          size: 50\n        }))), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__main\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header--left\"\n        }, /*#__PURE__*/React__default.createElement(Avatar, {\n          source: this.props.client.user.image,\n          name: this.props.client.user.name || this.props.client.user.id,\n          size: 40\n        })), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header--middle\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header--title\"\n        }, this.props.client.user.name || this.props.client.user.id), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header--status \".concat(this.props.client.user.status)\n        }, this.props.client.user.status)), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-team__header--right\"\n        }, /*#__PURE__*/React__default.createElement(\"button\", {\n          className: \"str-chat__channel-list-team__header--button\"\n        }, /*#__PURE__*/React__default.createElement(\"img\", {\n          src: chevrondown\n        })))), this.props.children));\n      }\n    }\n  }]);\n\n  return ChannelListTeam;\n}(PureComponent);\n\n_defineProperty(ChannelListTeam, \"propTypes\", {\n  /** When true, loading indicator is shown - [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js) */\n  loading: PropTypes.bool,\n\n  /** When true, error indicator is shown - [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js) */\n  error: PropTypes.bool,\n\n  /** Stream chat client object */\n  client: PropTypes.object,\n\n  /** When true, sidebar containing logo of the team is visible */\n  showSidebar: PropTypes.bool,\n\n  /** Url for sidebar logo image. */\n  sidebarImage: PropTypes.string,\n\n  /**\n   * Loading indicator UI Component. It will be displayed if `loading` prop is true.\n   *\n   * Defaults to and accepts same props as:\n   * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n   *\n   */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Error indicator UI Component. It will be displayed if `error` prop is true\n   *\n   * Defaults to and accepts same props as:\n   * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n   *\n   */\n  LoadingErrorIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n_defineProperty(ChannelListTeam, \"defaultProps\", {\n  error: false,\n  LoadingIndicator: LoadingChannels,\n  LoadingErrorIndicator: ChatDown\n});\n\nChannelListTeam = withChatContext(ChannelListTeam);\n\nfunction ownKeys$7(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$7(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$7(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$7(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$A(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$A()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$A() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\n\n\nvar ChannelList = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelList, _PureComponent);\n\n  var _super = _createSuper$A(ChannelList);\n\n  function ChannelList(_props) {\n    var _this;\n\n    _classCallCheck(this, ChannelList);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"queryChannels\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, options, filters, sort, setActiveChannelOnMount, offset, newOptions, channelPromise, channelQueryResponse, customActiveChannel;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, options = _this$props.options, filters = _this$props.filters, sort = _this$props.sort, setActiveChannelOnMount = _this$props.setActiveChannelOnMount;\n              offset = _this.state.offset;\n\n              _this.setState({\n                refreshing: true\n              });\n\n              newOptions = _objectSpread$7({}, options);\n              if (!options.limit) newOptions.limit = 30;\n              channelPromise = _this.props.client.queryChannels(filters, sort, _objectSpread$7({}, newOptions, {\n                offset\n              }));\n              _context.prev = 6;\n              channelQueryResponse = channelPromise;\n\n              if (!isPromise(channelQueryResponse)) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 11;\n              return channelPromise;\n\n            case 11:\n              channelQueryResponse = _context.sent;\n\n            case 12:\n              _this.setState(function (prevState) {\n                var channels = [].concat(_toConsumableArray(prevState.channels), _toConsumableArray(channelQueryResponse));\n                return {\n                  channels,\n                  // not unique somehow needs more checking\n                  loadingChannels: false,\n                  offset: channels.length,\n                  hasNextPage: channelQueryResponse.length >= newOptions.limit ? true : false,\n                  refreshing: false\n                };\n              }); // Set a channel as active and move it to the top of the list.\n\n\n              if (_this.props.customActiveChannel) {\n                customActiveChannel = channelQueryResponse.filter(function (channel) {\n                  return channel.id === _this.props.customActiveChannel;\n                })[0];\n\n                if (customActiveChannel) {\n                  _this.props.setActiveChannel(customActiveChannel, _this.props.watchers);\n\n                  _this.moveChannelUp(customActiveChannel.cid);\n                }\n              } else if (setActiveChannelOnMount && offset === 0 && _this.state.channels.length) {\n                _this.props.setActiveChannel(_this.state.channels[0], _this.props.watchers);\n              }\n\n              _context.next = 20;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](6);\n              console.warn(_context.t0);\n\n              _this.setState({\n                error: true,\n                refreshing: false\n              });\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[6, 16]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEvent\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n        var newChannels, channel, _channel, channels, channelIndex, _channels, _channelIndex;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (e.type === 'user.presence.changed') {\n                  newChannels = _this.state.channels;\n                  newChannels = newChannels.map(function (channel) {\n                    if (!channel.state.members[e.user.id]) return channel;\n                    channel.state.members.setIn([e.user.id, 'user'], e.user);\n                    return channel;\n                  });\n\n                  _this.setState({\n                    channels: _toConsumableArray(newChannels)\n                  });\n                }\n\n                if (e.type === 'message.new') {\n                  !_this.props.lockChannelOrder && _this.moveChannelUp(e.cid);\n                } // make sure to re-render the channel list after connection is recovered\n\n\n                if (e.type === 'connection.recovered') {\n                  _this.setState(function (prevState) {\n                    return {\n                      connectionRecoveredCount: prevState.connectionRecoveredCount + 1\n                    };\n                  });\n                } // move channel to start\n\n\n                if (!(e.type === 'notification.message_new')) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                if (!(_this.props.onMessageNew && typeof _this.props.onMessageNew === 'function')) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _this.props.onMessageNew(_assertThisInitialized(_this), e);\n\n                _context2.next = 12;\n                break;\n\n              case 8:\n                _context2.next = 10;\n                return _this.getChannel(e.channel.type, e.channel.id);\n\n              case 10:\n                channel = _context2.sent; // move channel to starting position\n\n                _this.setState(function (prevState) {\n                  return {\n                    channels: uniqBy([channel].concat(_toConsumableArray(prevState.channels)), 'cid')\n                  };\n                });\n\n              case 12:\n                if (!(e.type === 'notification.added_to_channel')) {\n                  _context2.next = 21;\n                  break;\n                }\n\n                if (!(_this.props.onAddedToChannel && typeof _this.props.onAddedToChannel === 'function')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                _this.props.onAddedToChannel(_assertThisInitialized(_this), e);\n\n                _context2.next = 21;\n                break;\n\n              case 17:\n                _context2.next = 19;\n                return _this.getChannel(e.channel.type, e.channel.id);\n\n              case 19:\n                _channel = _context2.sent;\n\n                _this.setState(function (prevState) {\n                  return {\n                    channels: uniqBy([_channel].concat(_toConsumableArray(prevState.channels)), 'cid')\n                  };\n                });\n\n              case 21:\n                // remove from channel\n                if (e.type === 'notification.removed_from_channel') {\n                  if (_this.props.onRemovedFromChannel && typeof _this.props.onRemovedFromChannel === 'function') {\n                    _this.props.onRemovedFromChannel(_assertThisInitialized(_this), e);\n                  } else {\n                    _this.setState(function (prevState) {\n                      var channels = prevState.channels.filter(function (channel) {\n                        return channel.cid !== e.channel.cid;\n                      });\n                      return {\n                        channels\n                      };\n                    });\n                  }\n                } // Update the channel with data\n\n\n                if (e.type === 'channel.updated') {\n                  channels = _this.state.channels;\n                  channelIndex = channels.findIndex(function (channel) {\n                    return channel.cid === e.channel.cid;\n                  });\n\n                  if (channelIndex > -1) {\n                    channels[channelIndex].data = Immutable(e.channel);\n\n                    _this.setState({\n                      channels: _toConsumableArray(channels),\n                      channelUpdateCount: _this.state.channelUpdateCount + 1\n                    });\n                  }\n\n                  if (_this.props.onChannelUpdated && typeof _this.props.onChannelUpdated === 'function') {\n                    _this.props.onChannelUpdated(_assertThisInitialized(_this), e);\n                  }\n                } // Channel is deleted\n\n\n                if (!(e.type === 'channel.deleted')) {\n                  _context2.next = 34;\n                  break;\n                }\n\n                if (!(_this.props.onChannelDeleted && typeof _this.props.onChannelDeleted === 'function')) {\n                  _context2.next = 28;\n                  break;\n                }\n\n                _this.props.onChannelDeleted(_assertThisInitialized(_this), e);\n\n                _context2.next = 34;\n                break;\n\n              case 28:\n                _channels = _this.state.channels;\n                _channelIndex = _channels.findIndex(function (channel) {\n                  return channel.cid === e.channel.cid;\n                });\n\n                if (!(_channelIndex < 0)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 32:\n                // Remove the deleted channel from the list.s\n                _channels.splice(_channelIndex, 1);\n\n                _this.setState({\n                  channels: _toConsumableArray(_channels),\n                  channelUpdateCount: _this.state.channelUpdateCount + 1\n                });\n\n              case 34:\n                if (e.type === 'channel.truncated') {\n                  _this.setState(function (prevState) {\n                    return {\n                      channels: _toConsumableArray(prevState.channels),\n                      channelUpdateCount: prevState.channelUpdateCount + 1\n                    };\n                  });\n\n                  if (_this.props.onChannelTruncated && typeof _this.props.onChannelTruncated === 'function') _this.props.onChannelTruncated(_assertThisInitialized(_this), e);\n                }\n\n                return _context2.abrupt(\"return\", null);\n\n              case 36:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getChannel\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(type, id) {\n        var channel;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                channel = _this.props.client.channel(type, id);\n                _context3.next = 3;\n                return channel.watch();\n\n              case 3:\n                return _context3.abrupt(\"return\", channel);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"moveChannelUp\", function (cid) {\n      var channels = _this.state.channels; // get channel index\n\n      var channelIndex = _this.state.channels.findIndex(function (channel) {\n        return channel.cid === cid;\n      });\n\n      if (channelIndex <= 0) return; // get channel from channels\n\n      var channel = channels[channelIndex]; //remove channel from current position\n\n      channels.splice(channelIndex, 1); //add channel at the start\n\n      channels.unshift(channel); // set new channel state\n\n      _this.setState({\n        channels: _toConsumableArray(channels)\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNextPage\", function () {\n      _this.queryChannels();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderChannel\", function (item) {\n      var _this$props2 = _this.props,\n          Preview = _this$props2.Preview,\n          setActiveChannel = _this$props2.setActiveChannel,\n          channel = _this$props2.channel,\n          watchers = _this$props2.watchers;\n      if (!item) return;\n      var props = {\n        channel: item,\n        activeChannel: channel,\n        Preview,\n        setActiveChannel,\n        watchers,\n        key: item.id,\n        // To force the update of preview component upon channel update.\n        channelUpdateCount: _this.state.channelUpdateCount,\n        connectionRecoveredCount: _this.state.connectionRecoveredCount\n      };\n      return smartRender(ChannelPreview, _objectSpread$7({}, props));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleClickOutside\", function (e) {\n      if (_this.channelListRef && !_this.channelListRef.contains(e.target) && _this.props.navOpen) {\n        _this.props.closeMobileNav();\n      }\n    });\n\n    _this.state = {\n      // list of channels\n      channels: Immutable([]),\n      // loading channels\n      loadingChannels: true,\n      // error loading channels\n      refreshing: false,\n      hasNextPage: false,\n      offset: 0,\n      error: false,\n      connectionRecoveredCount: 0,\n      channelUpdateCount: 0\n    };\n    _this.menuButton = React__default.createRef();\n    return _this;\n  }\n\n  _createClass(ChannelList, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      console.warn(error, info);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.queryChannels();\n\n              case 2:\n                document.addEventListener('click', this._handleClickOutside);\n                this.listenToChanges();\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(prevProps) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (deepequal(prevProps.filters, this.props.filters)) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                _context5.next = 3;\n                return this.setState({\n                  offset: 0,\n                  channels: Immutable([]),\n                  loadingChannels: true,\n                  refreshing: false\n                });\n\n              case 3:\n                _context5.next = 5;\n                return this.queryChannels();\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function componentDidUpdate(_x4) {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this._handleClickOutside);\n      this.props.client.off(this.handleEvent);\n    }\n  }, {\n    key: \"listenToChanges\",\n    value: function listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    } // eslint-disable-next-line sonarjs/cognitive-complexity\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          List = _this$props3.List,\n          Paginator = _this$props3.Paginator,\n          EmptyStateIndicator = _this$props3.EmptyStateIndicator;\n      var _this$state = this.state,\n          channels = _this$state.channels,\n          loadingChannels = _this$state.loadingChannels,\n          refreshing = _this$state.refreshing,\n          hasNextPage = _this$state.hasNextPage;\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat str-chat-channel-list \".concat(this.props.theme, \" \").concat(this.props.navOpen ? 'str-chat-channel-list--open' : ''),\n        ref: function ref(_ref4) {\n          return _this2.channelListRef = _ref4;\n        }\n      }, /*#__PURE__*/React__default.createElement(List, {\n        loading: loadingChannels,\n        error: this.state.error,\n        channels: channels,\n        setActiveChannel: this.props.setActiveChannel,\n        activeChannel: this.props.channel,\n        showSidebar: this.props.showSidebar,\n        LoadingIndicator: this.props.LoadingIndicator,\n        LoadingErrorIndicator: this.props.LoadingErrorIndicator\n      }, !channels.length ? /*#__PURE__*/React__default.createElement(EmptyStateIndicator, {\n        listType: \"channel\"\n      }) : smartRender(Paginator, {\n        loadNextPage: this.loadNextPage,\n        hasNextPage,\n        refreshing,\n        children: channels.map(function (item) {\n          return _this2._renderChannel(item);\n        })\n      }))));\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError() {\n      return {\n        error: true\n      };\n    }\n  }]);\n\n  return ChannelList;\n}(PureComponent);\n\n_defineProperty(ChannelList, \"propTypes\", {\n  /**\n   *\n   *\n   * Indicator for Empty State\n   * */\n  EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Available built-in options (also accepts the same props as):\n   *\n   * 1. [ChannelPreviewCompact](https://getstream.github.io/stream-chat-react/#ChannelPreviewCompact) (default)\n   * 2. [ChannelPreviewLastMessage](https://getstream.github.io/stream-chat-react/#ChannelPreviewLastMessage)\n   * 3. [ChannelPreviewMessanger](https://getstream.github.io/stream-chat-react/#ChannelPreviewMessanger)\n   *\n   * The Preview to use, defaults to ChannelPreviewLastMessage\n   * */\n  Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Loading indicator UI Component. It will be displayed until the channels are\n   * being queried from API. Once the channels are loaded/queried, loading indicator is removed\n   * and replaced with children of the Channel component.\n   *\n   * Defaults to and accepts same props as:\n   * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n   *\n   */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Error indicator UI Component. It will be displayed if there is any error if loading the channels.\n   * This error could be related to network or failing API.\n   *\n   * Defaults to and accepts same props as:\n   * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n   *\n   */\n  LoadingErrorIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Custom UI Component for container of list of channels. Note that, list (UI component) of channels is passed\n   * to this component as children. This component is for the purpose of adding header to channel list or styling container\n   * for list of channels.\n   *\n   * Available built-in options (also accepts the same props as):\n   *\n   * 1. [ChannelListTeam](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChannelListTeam.js) (default)\n   * 2. [ChannelListMessenger](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChannelListMessenger.js)\n   *\n   * It has access to some additional props:\n   *\n   * - `setActiveChannel` {function} Check [chat context](https://getstream.github.io/stream-chat-react/#chat)\n   * - `activeChannel` Currently active channel object\n   * - `channels` {array} List of channels in channel list\n   */\n  List: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Paginator component for channels. It contains all the pagination logic such as\n   * - fetching next page of results when needed e.g., when scroll reaches the end of list\n   * - UI to display loading indicator when next page is being loaded\n   * - call to action button to trigger loading of next page.\n   *\n   * Available built-in options (also accepts the same props as):\n   *\n   * 1. [LoadMorePaginator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadMorePaginator.js)\n   * 2. [InfiniteScrollPaginator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/InfiniteScrollPaginator.js)\n   */\n  Paginator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Function that overrides default behaviour when new message is received on channel that is not being watched\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.message_new` event\n   * */\n  onMessageNew: PropTypes.func,\n\n  /**\n   * Function that overrides default behaviour when users gets added to a channel\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.added_to_channel` event\n   * */\n  onAddedToChannel: PropTypes.func,\n\n  /**\n   * Function that overrides default behaviour when users gets removed from a channel\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.removed_from_channel` event\n   * */\n  onRemovedFromChannel: PropTypes.func,\n\n  /**\n   * Function that overrides default behaviour when channel gets updated\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.channel_updated` event\n   * */\n  onChannelUpdated: PropTypes.func,\n\n  /**\n   * Function to customize behaviour when channel gets truncated\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.truncated` event\n   * */\n  onChannelTruncated: PropTypes.func,\n\n  /**\n   * Function that overrides default behaviour when channel gets deleted. In absence of this prop, channel will be removed from the list.\n   *\n   * @param {Component} thisArg Reference to ChannelList component\n   * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.deleted` event\n   * */\n  onChannelDeleted: PropTypes.func,\n\n  /**\n   * Object containing query filters\n   * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for filter.\n   * */\n  filters: PropTypes.object,\n\n  /**\n   * Object containing query options\n   * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for options.\n   * */\n  options: PropTypes.object,\n\n  /**\n   * Object containing sort parameters\n   * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for sort.\n   * */\n  sort: PropTypes.object,\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object,\n\n  /**\n   * Set a Channel to be active and move it to the top of the list of channels by ID.\n   * */\n  customAciveChannel: PropTypes.string,\n\n  /**\n   * Last channel will be set as active channel if true, defaults to true\n   */\n  setActiveChannelOnMount: PropTypes.bool,\n\n  /**\n   * If true, channels won't be dynamically sorted by most recent message.\n   */\n  lockChannelOrder: PropTypes.bool\n});\n\n_defineProperty(ChannelList, \"defaultProps\", {\n  Preview: ChannelPreviewLastMessage,\n  LoadingIndicator: LoadingChannels,\n  LoadingErrorIndicator: ChatDown,\n  List: ChannelListTeam,\n  Paginator: LoadMorePaginator,\n  EmptyStateIndicator,\n  setActiveChannelOnMount: true,\n  filters: {},\n  options: {},\n  sort: {},\n  watchers: {}\n});\n\nChannelList = withChatContext(ChannelList);\n\nfunction _createSuper$B(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$B()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$B() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\n\n\nvar ChannelListMessenger = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelListMessenger, _PureComponent);\n\n  var _super = _createSuper$B(ChannelListMessenger);\n\n  function ChannelListMessenger() {\n    _classCallCheck(this, ChannelListMessenger);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChannelListMessenger, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          error = _this$props.error,\n          loading = _this$props.loading,\n          LoadingErrorIndicator = _this$props.LoadingErrorIndicator,\n          LoadingIndicator = _this$props.LoadingIndicator;\n\n      if (error) {\n        return /*#__PURE__*/React__default.createElement(LoadingErrorIndicator, {\n          type: \"Connection Error\"\n        });\n      } else if (loading) {\n        return /*#__PURE__*/React__default.createElement(LoadingIndicator, null);\n      } else {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-messenger\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__channel-list-messenger__main\"\n        }, this.props.children));\n      }\n    }\n  }]);\n\n  return ChannelListMessenger;\n}(PureComponent);\n\n_defineProperty(ChannelListMessenger, \"propTypes\", {\n  /** When true, loading indicator is shown - [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js) */\n  loading: PropTypes.bool,\n\n  /** When true, error indicator is shown - [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js) */\n  error: PropTypes.bool,\n\n  /**\n   * Loading indicator UI Component. It will be displayed if `loading` prop is true.\n   *\n   * Defaults to and accepts same props as:\n   * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n   *\n   */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Error indicator UI Component. It will be displayed if `error` prop is true\n   *\n   * Defaults to and accepts same props as:\n   * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n   *\n   */\n  LoadingErrorIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n_defineProperty(ChannelListMessenger, \"defaultProps\", {\n  error: false,\n  LoadingIndicator: LoadingChannels,\n  LoadingErrorIndicator: ChatDown\n});\n\nChannelListMessenger = withChatContext(ChannelListMessenger);\n\nfunction _createSuper$C(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$C()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$C() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n *\n * @example ./docs/ChannelPreviewCompact.md\n * @extends PureComponent\n *\n */\n\n\nvar ChannelPreviewCompact = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ChannelPreviewCompact, _React$PureComponent);\n\n  var _super = _createSuper$C(ChannelPreviewCompact);\n\n  function ChannelPreviewCompact() {\n    var _this;\n\n    _classCallCheck(this, ChannelPreviewCompact);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"channelPreviewButton\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChannel\", function () {\n      _this.props.setActiveChannel(_this.props.channel, _this.props.watchers);\n\n      _this.channelPreviewButton.current.blur();\n    });\n\n    return _this;\n  }\n\n  _createClass(ChannelPreviewCompact, [{\n    key: \"render\",\n    value: function render() {\n      var unreadClass = this.props.unread_count >= 1 ? 'str-chat__channel-preview-compact--unread' : '';\n      var activeClass = this.props.active ? 'str-chat__channel-preview-compact--active' : '';\n      var name = this.props.channel.data.name || this.props.channel.cid;\n      return /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: this.onSelectChannel,\n        ref: this.channelPreviewButton,\n        className: \"str-chat__channel-preview-compact \".concat(unreadClass, \" \").concat(activeClass)\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-compact--left\"\n      }, /*#__PURE__*/React__default.createElement(Avatar, {\n        image: this.props.channel.data.image,\n        size: 20\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-compact--right\"\n      }, name));\n    }\n  }]);\n\n  return ChannelPreviewCompact;\n}(React__default.PureComponent);\n\n_defineProperty(ChannelPreviewCompact, \"propTypes\", {\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** Current selected channel object */\n  activeChannel: PropTypes.object,\n\n  /** Setter for selected channel */\n  setActiveChannel: PropTypes.func.isRequired,\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object,\n\n  /** Number of unread messages */\n  unread: PropTypes.number,\n\n  /** If channel of component is active (selected) channel */\n  active: PropTypes.bool,\n\n  /** Latest message's text. */\n  latestMessage: PropTypes.string\n});\n\nfunction _createSuper$D(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$D()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$D() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Used as preview component for channel item in [ChannelList](#channellist) component.\n * Its best suited for messenger type chat.\n *\n * @example ./docs/ChannelPreviewMessenger.md\n * @extends PureComponent\n */\n\n\nvar ChannelPreviewMessenger = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChannelPreviewMessenger, _PureComponent);\n\n  var _super = _createSuper$D(ChannelPreviewMessenger);\n\n  function ChannelPreviewMessenger() {\n    var _this;\n\n    _classCallCheck(this, ChannelPreviewMessenger);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"channelPreviewButton\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChannel\", function () {\n      _this.props.setActiveChannel(_this.props.channel, _this.props.watchers);\n\n      _this.channelPreviewButton.current.blur();\n    });\n\n    return _this;\n  }\n\n  _createClass(ChannelPreviewMessenger, [{\n    key: \"render\",\n    value: function render() {\n      var unreadClass = this.props.unread >= 1 ? 'str-chat__channel-preview-messenger--unread' : '';\n      var activeClass = this.props.active ? 'str-chat__channel-preview-messenger--active' : '';\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          t = _this$props.t;\n      return /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: this.onSelectChannel,\n        ref: this.channelPreviewButton,\n        className: \"str-chat__channel-preview-messenger \".concat(unreadClass, \" \").concat(activeClass)\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-messenger--left\"\n      }, /*#__PURE__*/React__default.createElement(Avatar, {\n        image: channel.data.image,\n        size: 40\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-messenger--right\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-messenger--name\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", null, channel.data.name)), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-preview-messenger--last-message\"\n      }, !channel.state.messages[0] ? t('Nothing yet...') : truncate(this.props.latestMessage, {\n        length: this.props.latestMessageLength\n      }))));\n    }\n  }]);\n\n  return ChannelPreviewMessenger;\n}(PureComponent);\n\n_defineProperty(ChannelPreviewMessenger, \"propTypes\", {\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  channel: PropTypes.object.isRequired,\n\n  /** Current selected channel object */\n  activeChannel: PropTypes.object,\n\n  /** Setter for selected channel */\n  setActiveChannel: PropTypes.func.isRequired,\n\n  /**\n   * Object containing watcher parameters\n   * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n   * */\n  watchers: PropTypes.object,\n\n  /** Number of unread messages */\n  unread: PropTypes.number,\n\n  /** If channel of component is active (selected) channel */\n  active: PropTypes.bool,\n\n  /** Latest message's text. */\n  latestMessage: PropTypes.string,\n\n  /** Length of latest message to truncate at */\n  latestMessageLength: PropTypes.number\n});\n\n_defineProperty(ChannelPreviewMessenger, \"defaultProps\", {\n  latestMessageLength: 14\n});\n\nChannelPreviewMessenger = withTranslationContext(ChannelPreviewMessenger);\n\nfunction _createSuper$E(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$E()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$E() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ChannelSearch = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ChannelSearch, _React$PureComponent);\n\n  var _super = _createSuper$E(ChannelSearch);\n\n  function ChannelSearch() {\n    _classCallCheck(this, ChannelSearch);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ChannelSearch, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__channel-search\"\n      }, /*#__PURE__*/React__default.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search\"\n      }), /*#__PURE__*/React__default.createElement(\"button\", {\n        type: \"submit\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"18\",\n        height: \"17\",\n        viewBox: \"0 0 18 17\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z\",\n        fillRule: \"evenodd\"\n      }))));\n    }\n  }]);\n\n  return ChannelSearch;\n}(React__default.PureComponent);\n\nfunction _createSuper$F(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$F()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$F() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\n\nvar Chat = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Chat, _PureComponent);\n\n  var _super = _createSuper$F(Chat);\n\n  function Chat(props) {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"setActiveChannel\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(channel) {\n        var watchers,\n            e,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                watchers = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                e = _args.length > 2 ? _args[2] : undefined;\n\n                if (e !== undefined && e.preventDefault) {\n                  e.preventDefault();\n                }\n\n                if (!Object.keys(watchers).length) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 6;\n                return channel.query({\n                  watch: true,\n                  watchers\n                });\n\n              case 6:\n                _this.setState(function () {\n                  return {\n                    channel\n                  };\n                });\n\n                if (_this.state.navOpen) {\n                  _this.closeMobileNav();\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"openMobileNav\", function () {\n      setTimeout(function () {\n        _this.setState({\n          navOpen: true\n        });\n      }, 100);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeMobileNav\", function () {\n      _this.setState({\n        navOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getContext\", function () {\n      return {\n        client: _this.props.client,\n        channel: _this.state.channel,\n        setActiveChannel: _this.setActiveChannel,\n        openMobileNav: _this.openMobileNav,\n        closeMobileNav: _this.closeMobileNav,\n        navOpen: _this.state.navOpen,\n        theme: _this.props.theme\n      };\n    });\n\n    _this.state = {\n      // currently active channel\n      channel: {},\n      navOpen: true,\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var i18nInstance, streami18n, _yield$streami18n$get, t, tDateTimeParser;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                i18nInstance = this.props.i18nInstance;\n\n                if (i18nInstance && i18nInstance instanceof Streami18n) {\n                  streami18n = i18nInstance;\n                } else {\n                  streami18n = new Streami18n({\n                    language: 'en'\n                  });\n                }\n\n                streami18n.registerSetLanguageCallback(function (t) {\n                  _this2.setState({\n                    t\n                  });\n                });\n                _context2.next = 5;\n                return streami18n.getTranslators();\n\n              case 5:\n                _yield$streami18n$get = _context2.sent;\n                t = _yield$streami18n$get.t;\n                tDateTimeParser = _yield$streami18n$get.tDateTimeParser;\n                this.setState({\n                  t,\n                  tDateTimeParser\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.t) return null;\n      return /*#__PURE__*/React__default.createElement(ChatContext.Provider, {\n        value: this.getContext()\n      }, /*#__PURE__*/React__default.createElement(TranslationContext.Provider, {\n        value: {\n          t: this.state.t,\n          tDateTimeParser: this.state.tDateTimeParser\n        }\n      }, this.props.children));\n    }\n  }]);\n\n  return Chat;\n}(PureComponent);\n\n_defineProperty(Chat, \"propTypes\", {\n  /** The StreamChat client object */\n  client: PropTypes.object.isRequired,\n\n  /**\n   *\n   * Theme could be used for custom styling of the components.\n   *\n   * You can override the classes used in our components under parent theme class.\n   *\n   * e.g. If you want to build a theme where background of message is black\n   *\n   * ```\n   *  <Chat client={client} theme={demo}>\n   *    <Channel>\n   *      <MessageList />\n   *    </Channel>\n   *  </Chat>\n   * ```\n   *\n   * ```scss\n   *  .demo.str-chat {\n   *    .str-chat__message-simple {\n   *      &-text-inner {\n   *        background-color: black;\n   *      }\n   *    }\n   *  }\n   * ```\n   *\n   * Built in available themes:\n   *\n   *  - `messaging light`\n   *  - `messaging dark`\n   *  - `team light`\n   *  - `team dark`\n   *  - `commerce light`\n   *  - `commerce dark`\n   *  - `livestream light`\n   *  - `livestream dark`\n   */\n  theme: PropTypes.string\n});\n\n_defineProperty(Chat, \"defaultProps\", {\n  theme: 'messaging light'\n});\n\nfunction _createSuper$G(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$G()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$G() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * DateSeparator - A simple date separator\n *\n * @example ./docs/DateSeparator.md\n * @extends PureComponent\n */\n\n\nvar DateSeparator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(DateSeparator, _React$PureComponent);\n\n  var _super = _createSuper$G(DateSeparator);\n\n  function DateSeparator() {\n    _classCallCheck(this, DateSeparator);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DateSeparator, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          position = _this$props.position,\n          tDateTimeParser = _this$props.tDateTimeParser;\n\n      if (!Date.parse(this.props.date)) {\n        return null;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__date-separator\"\n      }, (position === 'right' || position === 'center') && /*#__PURE__*/React__default.createElement(\"hr\", {\n        className: \"str-chat__date-separator-line\"\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__date-separator-date\"\n      }, this.props.formatDate ? this.props.formatDate(this.props.date) : tDateTimeParser(this.props.date.toISOString()).calendar()), (position === 'left' || position === 'center') && /*#__PURE__*/React__default.createElement(\"hr\", {\n        className: \"str-chat__date-separator-line\"\n      }));\n    }\n  }]);\n\n  return DateSeparator;\n}(React__default.PureComponent);\n\n_defineProperty(DateSeparator, \"propTypes\", {\n  /** The date to format */\n  date: PropTypes.instanceOf(Date),\n\n  /** Set the position of the date in the separator */\n  position: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /** Override the default formatting of the date. This is a function that has access to the original date object. Returns a string or Node  */\n  formatDate: PropTypes.func\n});\n\n_defineProperty(DateSeparator, \"defaultProps\", {\n  position: 'right'\n});\n\nDateSeparator = withTranslationContext(DateSeparator);\n\nfunction _createSuper$H(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$H()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$H() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar EventComponent = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(EventComponent, _React$PureComponent);\n\n  var _super = _createSuper$H(EventComponent);\n\n  function EventComponent() {\n    _classCallCheck(this, EventComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(EventComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          tDateTimeParser = _this$props.tDateTimeParser;\n\n      if (message.type === 'system') {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--system\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--system__text\"\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--system__line\"\n        }), /*#__PURE__*/React__default.createElement(\"p\", null, message.text), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--system__line\"\n        })), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message--system__date\"\n        }, /*#__PURE__*/React__default.createElement(\"strong\", null, tDateTimeParser(message.created_at).format('dddd'), ' '), \"at \", tDateTimeParser(message.created_at).format('hh:mm A')));\n      }\n\n      if (message.type === 'channel.event' && (message.event.type === 'member.removed' || message.event.type === 'member.added')) {\n        var sentence;\n\n        switch (message.event.type) {\n          case 'member.removed':\n            sentence = \"\".concat(message.event.user.name || message.event.user.id, \" was removed from the chat\");\n            break;\n\n          case 'member.added':\n            sentence = \"\".concat(message.event.user.name || message.event.user.id, \" has joined the chat\");\n            break;\n        }\n\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__event-component__channel-event\"\n        }, /*#__PURE__*/React__default.createElement(Avatar, {\n          image: message.event.user.image,\n          name: message.event.user.name || message.event.user.id\n        }), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__event-component__channel-event__content\"\n        }, /*#__PURE__*/React__default.createElement(\"em\", {\n          className: \"str-chat__event-component__channel-event__sentence\"\n        }, sentence), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__event-component__channel-event__date\"\n        }, tDateTimeParser(message.created_at).format('LT'))));\n      }\n\n      return null;\n    }\n  }]);\n\n  return EventComponent;\n}(React__default.PureComponent);\n\n_defineProperty(EventComponent, \"propTypes\", {\n  /** Message object */\n  message: PropTypes.object\n});\n\nEventComponent = withTranslationContext(EventComponent);\n\nfunction _createSuper$I(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$I()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$I() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar InfiniteScroll = /*#__PURE__*/function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  var _super = _createSuper$I(InfiniteScroll);\n\n  function InfiniteScroll(props) {\n    var _this;\n\n    _classCallCheck(this, InfiniteScroll);\n\n    _this = _super.call(this, props);\n    _this.scrollListener = _this.scrollListener.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.attachScrollListener();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.attachScrollListener();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    } // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: \"setDefaultLoader\",\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: \"detachMousewheelListener\",\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n    }\n  }, {\n    key: \"detachScrollListener\",\n    value: function detachScrollListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.props.useCapture);\n    }\n  }, {\n    key: \"getParentElement\",\n    value: function getParentElement(el) {\n      return el && el.parentNode;\n    }\n  }, {\n    key: \"filterProps\",\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: \"attachScrollListener\",\n    value: function attachScrollListener() {\n      if (!this.props.hasMore || this.props.isLoading || !this.getParentElement(this.scrollComponent)) {\n        return;\n      }\n\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: \"mousewheelListener\",\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"scrollListener\",\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n      var offset;\n\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      } // Here we make sure the element is visible as well as checking the offset\n\n\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener(); // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore();\n        }\n      }\n    }\n  }, {\n    key: \"calculateOffset\",\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: \"calculateTopPosition\",\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          isLoading = renderProps.isLoading,\n          props = _objectWithoutProperties(renderProps, [\"children\", \"element\", \"hasMore\", \"initialLoad\", \"isReverse\", \"loader\", \"loadMore\", \"pageStart\", \"threshold\", \"useCapture\", \"useWindow\", \"isLoading\"]);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n      };\n\n      var childrenArray = [children];\n\n      if (isLoading) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n\n      return React__default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(Component);\n\n_defineProperty(InfiniteScroll, \"propTypes\", {\n  element: PropTypes.node,\n  hasMore: PropTypes.bool,\n  initialLoad: PropTypes.bool,\n  isReverse: PropTypes.bool,\n  loader: PropTypes.node,\n  loadMore: PropTypes.func.isRequired,\n  pageStart: PropTypes.number,\n  isLoading: PropTypes.bool,\n  threshold: PropTypes.number,\n  useCapture: PropTypes.bool,\n  useWindow: PropTypes.bool\n});\n\n_defineProperty(InfiniteScroll, \"defaultProps\", {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  isLoading: false,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null\n});\n\nfunction _createSuper$J(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$J()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$J() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar InfiniteScrollPaginator = /*#__PURE__*/function (_React$Component) {\n  _inherits(InfiniteScrollPaginator, _React$Component);\n\n  var _super = _createSuper$J(InfiniteScrollPaginator);\n\n  function InfiniteScrollPaginator() {\n    _classCallCheck(this, InfiniteScrollPaginator);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(InfiniteScrollPaginator, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          LoadingIndicator = _this$props.LoadingIndicator,\n          loadNextPage = _this$props.loadNextPage,\n          hasNextPage = _this$props.hasNextPage,\n          refreshing = _this$props.refreshing,\n          reverse = _this$props.reverse,\n          threshold = _this$props.threshold;\n      return /*#__PURE__*/React__default.createElement(InfiniteScroll, {\n        loadMore: loadNextPage,\n        hasMore: hasNextPage,\n        isLoading: refreshing,\n        isReverse: reverse,\n        threshold: threshold,\n        useWindow: false,\n        loader: /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__infinite-scroll-paginator\",\n          key: \"loadingindicator\"\n        }, /*#__PURE__*/React__default.createElement(LoadingIndicator, null))\n      }, this.props.children);\n    }\n  }]);\n\n  return InfiniteScrollPaginator;\n}(React__default.Component);\n\n_defineProperty(InfiniteScrollPaginator, \"propTypes\", {\n  /** callback to load the next page */\n  loadNextPage: PropTypes.func,\n\n  /** indicates if there is a next page to load */\n  hasNextPage: PropTypes.bool,\n\n  /** indicates if there there's currently any refreshing taking place */\n  refreshing: PropTypes.bool,\n\n  /** display the items in opposite order */\n  reverse: PropTypes.bool,\n\n  /** Offset from when to start the loadNextPage call */\n  threshold: PropTypes.number,\n\n  /** The loading indicator to use */\n  LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n_defineProperty(InfiniteScrollPaginator, \"defaultProps\", {\n  LoadingIndicator: LoadingIndicator$1\n});\n\nfunction _createForOfIteratorHelper$3(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$3(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$3(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\n\nfunction _arrayLikeToArray$3(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper$K(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$K()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$K() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Message - A high level component which implements all the logic required for a message.\n * The actual rendering of the message is delegated via the \"Message\" property\n *\n * @example ./docs/Message.md\n * @extends Component\n */\n\n\nvar Message = /*#__PURE__*/function (_Component) {\n  _inherits(Message, _Component);\n\n  var _super = _createSuper$K(Message);\n\n  function Message(props) {\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isMyMessage\", function (message) {\n      return _this.props.client.user.id === message.user.id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isAdmin\", function () {\n      return _this.props.client.user.role === 'admin' || _this.props.channel.state && _this.props.channel.state.membership && _this.props.channel.state.membership.role === 'admin';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isOwner\", function () {\n      return _this.props.channel.state && _this.props.channel.state.membership && _this.props.channel.state.membership.role === 'owner';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isModerator\", function () {\n      return _this.props.channel.state && _this.props.channel.state.membership && (_this.props.channel.state.membership.role === 'channel_moderator' || _this.props.channel.state.membership.role === 'moderator');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"canEditMessage\", function (message) {\n      return _this.isMyMessage(message) || _this.isModerator() || _this.isOwner() || _this.isAdmin();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"canDeleteMessage\", function (message) {\n      return _this.canEditMessage(message);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateAndGetNotificationMessage\", function (func, args) {\n      if (!func || typeof func !== 'function') return false;\n      var returnValue = func.apply(null, args);\n      if (typeof returnValue !== 'string') return false;\n      return returnValue;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFlag\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var _this$props, getFlagMessageSuccessNotification, getFlagMessageErrorNotification, message, client, addNotification, t, successMessage, errorMessage;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$props = _this.props, getFlagMessageSuccessNotification = _this$props.getFlagMessageSuccessNotification, getFlagMessageErrorNotification = _this$props.getFlagMessageErrorNotification, message = _this$props.message, client = _this$props.client, addNotification = _this$props.addNotification, t = _this$props.t;\n                _context.prev = 2;\n                _context.next = 5;\n                return client.flagMessage(message.id);\n\n              case 5:\n                successMessage = _this.validateAndGetNotificationMessage(getFlagMessageSuccessNotification, [message]);\n                addNotification(successMessage ? successMessage : t('Message has been successfully flagged'), 'success');\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                errorMessage = _this.validateAndGetNotificationMessage(getFlagMessageErrorNotification, [message]);\n                addNotification(errorMessage ? errorMessage : t('Error adding flag: Either the flag already exist or there is issue with network connection ...'), 'error');\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMute\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var _this$props2, getMuteUserSuccessNotification, getMuteUserErrorNotification, message, client, addNotification, t, successMessage, errorMessage;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                event.preventDefault();\n                _this$props2 = _this.props, getMuteUserSuccessNotification = _this$props2.getMuteUserSuccessNotification, getMuteUserErrorNotification = _this$props2.getMuteUserErrorNotification, message = _this$props2.message, client = _this$props2.client, addNotification = _this$props2.addNotification, t = _this$props2.t;\n                _context2.prev = 2;\n                _context2.next = 5;\n                return client.muteUser(message.user.id);\n\n              case 5:\n                successMessage = _this.validateAndGetNotificationMessage(getMuteUserSuccessNotification, [message.user]);\n                addNotification(successMessage ? successMessage : t(\"{{ user }} has been muted\", {\n                  user: message.user.name || message.user.id\n                }), 'success');\n                _context2.next = 13;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](2);\n                errorMessage = _this.validateAndGetNotificationMessage(getMuteUserErrorNotification, [message.user]);\n                addNotification(errorMessage ? errorMessage : t('Error muting a user ...'), 'error');\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 9]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEdit\", function (event) {\n      var _this$props3 = _this.props,\n          setEditingState = _this$props3.setEditingState,\n          message = _this$props3.message;\n\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      setEditingState(message);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDelete\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n        var _this$props4, message, client, updateMessage, data;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                event.preventDefault();\n                _this$props4 = _this.props, message = _this$props4.message, client = _this$props4.client, updateMessage = _this$props4.updateMessage;\n                _context3.next = 4;\n                return client.deleteMessage(message.id);\n\n              case 4:\n                data = _context3.sent;\n                updateMessage(data.message);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleReaction\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(reactionType, event) {\n        var userExistingReaction, currentUser, _iterator, _step, _reaction, originalMessage, reactionChangePromise, messageID, reaction;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (event !== undefined && event.preventDefault) {\n                  event.preventDefault();\n                }\n\n                userExistingReaction = null;\n                currentUser = _this.props.client.userID;\n                _iterator = _createForOfIteratorHelper$3(_this.props.message.own_reactions);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _reaction = _step.value; // own user should only ever contain the current user id\n                    // just in case we check to prevent bugs with message updates from breaking reactions\n\n                    if (currentUser === _reaction.user.id && _reaction.type === reactionType) {\n                      userExistingReaction = _reaction;\n                    } else if (currentUser !== _reaction.user.id) {\n                      console.warn(\"message.own_reactions contained reactions from a different user, this indicates a bug\");\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                originalMessage = _this.props.message;\n                /*\n                - Add the reaction to the local state\n                - Make the API call in the background\n                - If it fails, revert to the old message...\n                 */\n\n                if (userExistingReaction) {\n                  // this.props.channel.state.removeReaction(userExistingReaction);\n                  reactionChangePromise = _this.props.channel.deleteReaction(_this.props.message.id, userExistingReaction.type);\n                } else {\n                  // add the reaction\n                  messageID = _this.props.message.id;\n                  reaction = {\n                    type: reactionType\n                  }; // this.props.channel.state.addReaction(tmpReaction, this.props.message);\n\n                  reactionChangePromise = _this.props.channel.sendReaction(messageID, reaction);\n                }\n\n                _context4.prev = 7;\n                _context4.next = 10;\n                return reactionChangePromise;\n\n              case 10:\n                _context4.next = 15;\n                break;\n\n              case 12:\n                _context4.prev = 12;\n                _context4.t0 = _context4[\"catch\"](7); // revert to the original message if the API call fails\n\n                _this.props.updateMessage(originalMessage);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[7, 12]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAction\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(name, value, event) {\n        var messageID, formData, data;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                event.preventDefault();\n                messageID = _this.props.message.id;\n                formData = {};\n                formData[name] = value;\n                _context5.next = 6;\n                return _this.props.channel.sendAction(messageID, formData);\n\n              case 6:\n                data = _context5.sent;\n\n                if (data && data.message) {\n                  _this.props.updateMessage(data.message);\n                } else {\n                  _this.props.removeMessage(_this.props.message);\n                }\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x6, _x7, _x8) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRetry\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(message) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.props.retrySendMessage(message);\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x9) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"onMentionsClick\", function (e) {\n      if (typeof _this.props.onMentionsClick !== 'function') {\n        return;\n      }\n\n      _this.props.onMentionsClick(e, _this.props.message.mentioned_users);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMentionsHover\", function (e) {\n      var _this$props5 = _this.props,\n          onMentionsHover = _this$props5.onMentionsHover,\n          message = _this$props5.message;\n\n      if (typeof onMentionsHover !== 'function') {\n        return;\n      }\n\n      onMentionsHover(e, message.mentioned_users);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMessageActions\", function () {\n      var _this$props6 = _this.props,\n          message = _this$props6.message,\n          messageActionsProps = _this$props6.messageActions;\n\n      var _this$props$channel$g = _this.props.channel.getConfig(),\n          mutes = _this$props$channel$g.mutes;\n\n      var messageActionsAfterPermission = [];\n      var messageActions = [];\n\n      if (messageActionsProps && typeof messageActionsProps === 'boolean') {\n        // If value of messageActionsProps is true, then populate all the possible values\n        messageActions = Object.keys(MESSAGE_ACTIONS);\n      } else if (messageActionsProps && messageActionsProps.length > 0) {\n        messageActions = _toConsumableArray(messageActionsProps);\n      } else {\n        return [];\n      }\n\n      if (_this.canEditMessage(message) && messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.edit);\n      }\n\n      if (_this.canDeleteMessage(message) && messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.delete);\n      }\n\n      if (!_this.isMyMessage(message) && messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.flag);\n      }\n\n      if (!_this.isMyMessage(message) && messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && mutes) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.mute);\n      }\n\n      return messageActionsAfterPermission;\n    });\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      var shouldUpdate = nextProps.message !== this.props.message;\n\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      } // group style often changes for the last 3 messages...\n\n\n      if (!shouldUpdate && !deepequal(nextProps.groupStyles, this.props.groupStyles)) {\n        shouldUpdate = true;\n      } // if lastreceivedId changesm, message should update.\n\n\n      if (!shouldUpdate && !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)) {\n        shouldUpdate = true;\n      } // editing is the last one which can trigger a change..\n\n\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      } // editing is the last one which can trigger a change..\n\n\n      if (!shouldUpdate && nextProps.messageListRect !== this.props.messageListRect) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var config = this.props.channel.getConfig();\n      var message = this.props.message;\n      var actionsEnabled = message.type === 'regular' && message.status === 'received';\n      var Component = this.props.Message;\n      return /*#__PURE__*/React__default.createElement(Component, _extends({}, this.props, {\n        actionsEnabled: actionsEnabled,\n        Message: this,\n        handleReaction: this.handleReaction,\n        getMessageActions: this.getMessageActions,\n        handleFlag: this.handleFlag,\n        handleMute: this.handleMute,\n        handleAction: this.handleAction,\n        handleDelete: this.handleDelete,\n        handleEdit: this.handleEdit,\n        handleRetry: this.handleRetry,\n        handleOpenThread: this.props.openThread && this.props.openThread.bind(this, message),\n        isMyMessage: this.isMyMessage,\n        channelConfig: config,\n        onMentionsClickMessage: this.onMentionsClick,\n        onMentionsHoverMessage: this.onMentionsHover\n      }));\n    }\n  }]);\n\n  return Message;\n}(Component);\n\n_defineProperty(Message, \"propTypes\", {\n  /** The message object */\n  message: PropTypes.object.isRequired,\n\n  /** The client connection object for connecting to Stream */\n  client: PropTypes.object.isRequired,\n\n  /** The current channel this message is displayed in */\n  channel: PropTypes.object.isRequired,\n\n  /** A list of users that have read this message **/\n  readBy: PropTypes.array,\n\n  /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n  groupStyles: PropTypes.array,\n\n  /** Editing, if the message is currently being edited */\n  editing: PropTypes.bool,\n\n  /**\n   * Message UI component to display a message in message list.\n   * Available from [channel context](https://getstream.github.io/stream-chat-react/#channelcontext)\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Attachment UI component to display attachment in individual message.\n   * Available from [channel context](https://getstream.github.io/stream-chat-react/#channelcontext)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /**\n   * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n   * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n   * */\n  messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for flagging a message is successful\n   *\n   * This function should accept following params:\n   *\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n   *\n   * */\n  getFlagMessageSuccessNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for flagging a message runs into error\n   *\n   * This function should accept following params:\n   *\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n   *\n   * */\n  getFlagMessageErrorNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for muting a user is successful\n   *\n   * This function should accept following params:\n   *\n   * @param user A user object which is being muted\n   *\n   * */\n  getMuteUserSuccessNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for muting a user runs into error\n   *\n   * This function should accept following params:\n   *\n   * @param user A user object which is being muted\n   *\n   * */\n  getMuteUserErrorNotification: PropTypes.func,\n\n  /** Latest message id on current channel */\n  lastReceivedId: PropTypes.string,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  members: PropTypes.object,\n\n  /**\n   * Function to add custom notification on messagelist\n   *\n   * @param text Notification text to display\n   * @param type Type of notification. 'success' | 'error'\n   * */\n  addNotification: PropTypes.func,\n\n  /** Sets the editing state */\n  setEditingState: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  updateMessage: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  removeMessage: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  retrySendMessage: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  onMentionsClick: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  onMentionsHover: PropTypes.func,\n\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n  openThread: PropTypes.func,\n\n  /** Handler to clear the edit state of message. It is defined in [MessageList](https://getstream.github.io/stream-chat-react/#messagelist) component */\n  clearEditingState: PropTypes.func,\n\n  /**\n   * Additional props for underlying MessageInput component.\n   * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n   * */\n  additionalMessageInputProps: PropTypes.object\n});\n\n_defineProperty(Message, \"defaultProps\", {\n  Message: MessageSimple,\n  readBy: [],\n  groupStyles: [],\n  Attachment,\n  editing: false,\n  messageActions: Object.keys(MESSAGE_ACTIONS)\n});\n\nMessage = withTranslationContext(Message);\n\nfunction _createSuper$L(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$L()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$L() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MessageActions = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageActions, _PureComponent);\n\n  var _super = _createSuper$L(MessageActions);\n\n  function MessageActions(props) {\n    var _this;\n\n    _classCallCheck(this, MessageActions);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_openActionBox\", function () {\n      _this.setState({\n        actionBox: true\n      }, function () {\n        document.addEventListener('click', _this._closeActionBox);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeActionBox\", function () {\n      _this.setState({\n        actionBox: false\n      }, function () {\n        document.removeEventListener('click', _this._closeActionBox);\n      });\n    });\n\n    _this.state = {\n      actionBox: false,\n      reactionBox: false\n    };\n    _this.reactionsBox = React__default.createRef();\n    _this.actionsRef = React__default.createRef();\n    return _this;\n  }\n\n  _createClass(MessageActions, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this._closeActionBox);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        ref: this.actionsRef,\n        className: \"str-chat__message-actions\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-actions-reactions\",\n        onClick: this.props.onClickReact\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"20\",\n        height: \"18\",\n        viewBox: \"0 0 20 18\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M16.5 4.5H15a.5.5 0 1 1 0-1h1.5V2a.5.5 0 1 1 1 0v1.5H19a.5.5 0 1 1 0 1h-1.5V6a.5.5 0 1 1-1 0V4.5zM9 13c-1.773 0-3.297-.82-4-2h8c-.703 1.18-2.227 2-4 2zm4.057-11.468a.5.5 0 1 1-.479.878A7.45 7.45 0 0 0 9 1.5C4.865 1.5 1.5 4.865 1.5 9s3.365 7.5 7.5 7.5 7.5-3.365 7.5-7.5c0-.315-.02-.628-.058-.937a.5.5 0 1 1 .992-.124c.044.35.066.704.066 1.06 0 4.688-3.813 8.501-8.5 8.501C4.313 17.5.5 13.687.5 9 .5 4.312 4.313.5 9 .5a8.45 8.45 0 0 1 4.057 1.032zM7.561 5.44a1.5 1.5 0 1 1-2.123 2.122 1.5 1.5 0 0 1 2.123-2.122zm5 0a1.5 1.5 0 1 1-2.122 2.122 1.5 1.5 0 0 1 2.122-2.122z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-actions-options\",\n        onClick: function onClick() {\n          return _this2._openActionBox();\n        }\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"11\",\n        height: \"3\",\n        viewBox: \"0 0 11 3\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\",\n        fillRule: \"nonzero\"\n      }))), /*#__PURE__*/React__default.createElement(MessageActionsBox, _extends({}, this.props, {\n        open: this.state.actionBox\n      })));\n    }\n  }]);\n\n  return MessageActions;\n}(PureComponent);\n\n_defineProperty(MessageActions, \"propTypes\", {\n  onClickReact: PropTypes.func,\n\n  /** If the message actions box should be open or not */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * @deprecated\n   *\n   *  The message component, most logic is delegated to this component and MessageActionsBox uses the following functions explicitly:\n   *  `handleFlag`, `handleMute`, `handleEdit`, `handleDelete`, `canDeleteMessage`, `canEditMessage`, `isMyMessage`, `isAdmin`\n   */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** If message belongs to current user. */\n  mine: PropTypes.bool,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /**\n   * Handler for flaging a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleFlag: PropTypes.func,\n\n  /**\n   * Handler for muting a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleMute: PropTypes.func,\n\n  /**\n   * Handler for editing a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleEdit: PropTypes.func,\n\n  /**\n   * Handler for deleting a current message\n   *\n   * @param event React's MouseEventHandler event\n   * @returns void\n   * */\n  handleDelete: PropTypes.func,\n\n  /**\n   * Returns array of avalable message actions for current message.\n   * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n   */\n  getMessageActions: PropTypes.func\n});\n\nMessageActions.propTypes = {\n  Message: PropTypes.object.isRequired\n};\n\nfunction _createSuper$M(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$M()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$M() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageCommerce - Render component, should be used together with the Message component\n *\n * @example ./docs/MessageSimple.md\n * @extends PureComponent\n */\n\n\nvar MessageCommerce = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageCommerce, _PureComponent);\n\n  var _super = _createSuper$M(MessageCommerce);\n\n  function MessageCommerce() {\n    var _this;\n\n    _classCallCheck(this, MessageCommerce);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFocused: false,\n      actionsBoxOpen: false,\n      showDetailedReactions: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"messageActionsRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"reactionSelectorRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClickOptionsAction\", function () {\n      _this.setState({\n        actionsBoxOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideOptions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_hideOptions\", function () {\n      _this.setState({\n        actionsBoxOpen: false\n      });\n\n      document.removeEventListener('click', _this.hideOptions, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_clickReactionList\", function () {\n      _this.setState(function () {\n        return {\n          showDetailedReactions: true\n        };\n      }, function () {\n        document.addEventListener('click', _this._closeDetailedReactions);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeDetailedReactions\", function (e) {\n      if (!_this.reactionSelectorRef.current.reactionSelector.current.contains(e.target)) {\n        _this.setState(function () {\n          return {\n            showDetailedReactions: false\n          };\n        }, function () {\n          document.removeEventListener('click', _this._closeDetailedReactions);\n        });\n      } else {\n        return {};\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageCommerce, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!this.props.message.deleted_at) {\n        document.removeEventListener('click', this._closeDetailedReactions);\n      }\n    }\n  }, {\n    key: \"isMine\",\n    value: function isMine() {\n      return !this.props.isMyMessage(this.props.message);\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions() {\n      if (this.props.message.type === 'error' || this.props.message.type === 'system' || this.props.message.type === 'ephemeral' || this.props.message.status === 'sending' || this.props.message.status === 'failed' || !this.props.channelConfig.reactions || this.props.initialMessage) {\n        return;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce__actions\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce__actions__action str-chat__message-commerce__actions__action--reactions\",\n        onClick: this._clickReactionList\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n        fillRule: \"evenodd\"\n      }))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          groupStyles = _this$props.groupStyles,\n          Attachment = _this$props.Attachment,\n          handleReaction = _this$props.handleReaction,\n          handleAction = _this$props.handleAction,\n          actionsEnabled = _this$props.actionsEnabled,\n          onMentionsHoverMessage = _this$props.onMentionsHoverMessage,\n          onMentionsClickMessage = _this$props.onMentionsClickMessage,\n          unsafeHTML = _this$props.unsafeHTML,\n          threadList = _this$props.threadList,\n          handleOpenThread = _this$props.handleOpenThread,\n          t = _this$props.t,\n          tDateTimeParser = _this$props.tDateTimeParser;\n      var when = tDateTimeParser(message.created_at).format('LT');\n      var messageClasses = this.isMine() ? 'str-chat__message-commerce str-chat__message-commerce--left' : 'str-chat__message-commerce str-chat__message-commerce--right';\n      var hasAttachment = Boolean(message.attachments && message.attachments.length);\n      var images = hasAttachment && message.attachments.filter(function (item) {\n        return item.type === 'image';\n      });\n      var hasReactions = Boolean(message.latest_reactions && message.latest_reactions.length);\n\n      if (message.type === 'message.read' || message.deleted_at || message.type === 'message.date') {\n        return null;\n      }\n\n      if (message.deleted_at) {\n        return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"span\", {\n          key: message.id,\n          className: \"\".concat(messageClasses, \" str-chat__message--deleted\")\n        }, t('This message was deleted...')), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"clearfix\"\n        }));\n      }\n\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        key: message.id,\n        className: \"\\n\\t\\t\\t\\t\\t\\t\".concat(messageClasses, \"\\n\\t\\t\\t\\t\\t\\tstr-chat__message-commerce--\").concat(message.type, \"\\n\\t\\t\\t\\t\\t\\t\").concat(message.text ? 'str-chat__message-commerce--has-text' : 'str-chat__message-commerce--has-no-text', \"\\n\\t\\t\\t\\t\\t\\t\").concat(hasAttachment ? 'str-chat__message-commerce--has-attachment' : '', \"\\n\\t\\t\\t\\t\\t\\t\").concat(hasReactions ? 'str-chat__message-commerce--with-reactions' : '', \"\\n\\t\\t\\t\\t\\t\\t\", \"str-chat__message-commerce--\".concat(groupStyles[0]), \"\\n\\t\\t\\t\\t\\t\").trim(),\n        onMouseLeave: this._hideOptions,\n        ref: this.messageRef\n      }, (groupStyles[0] === 'bottom' || groupStyles[0] === 'single') && /*#__PURE__*/React__default.createElement(Avatar, {\n        image: message.user.image,\n        size: 32,\n        name: message.user.name || message.user.id\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce-inner\"\n      }, !message.text && /*#__PURE__*/React__default.createElement(React__default.Fragment, null, this.renderOptions(), hasReactions && !this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionsList, {\n        reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        onClick: this._clickReactionList\n      }), this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        reverse: false,\n        handleReaction: handleReaction,\n        actionsEnabled: actionsEnabled,\n        detailedView: true,\n        reaction_counts: message.reaction_counts,\n        latest_reactions: message.latest_reactions,\n        ref: this.reactionSelectorRef\n      })), hasAttachment && images.length <= 1 && message.attachments.map(function (attachment, index) {\n        return /*#__PURE__*/React__default.createElement(Attachment, {\n          key: \"\".concat(message.id, \"-\").concat(index),\n          attachment: attachment,\n          actionHandler: handleAction\n        });\n      }), images.length > 1 && /*#__PURE__*/React__default.createElement(Gallery, {\n        images: images\n      }), message.text && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce-text\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce-text-inner\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\".concat(hasAttachment ? 'str-chat__message-commerce-text-inner--has-attachment' : '', \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\").concat(isOnlyEmojis(message.text) ? 'str-chat__message-commerce-text-inner--is-emoji' : '', \"\\n                \").trim(),\n        onMouseOver: onMentionsHoverMessage,\n        onClick: onMentionsClickMessage\n      }, message.type === 'error' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__commerce-message--error-message\"\n      }, t('Error ¬∑ Unsent')), unsafeHTML ? /*#__PURE__*/React__default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: message.html\n        }\n      }) : renderText(message), hasReactions && !this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionsList, {\n        reverse: true,\n        reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        onClick: this._clickReactionList\n      }), this.state.showDetailedReactions && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        reverse: false,\n        handleReaction: handleReaction,\n        actionsEnabled: actionsEnabled,\n        detailedView: true,\n        reaction_counts: message.reaction_counts,\n        latest_reactions: message.latest_reactions,\n        ref: this.reactionSelectorRef\n      })), message.text && this.renderOptions()), !threadList && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce-reply-button\"\n      }, /*#__PURE__*/React__default.createElement(MessageRepliesCountButton, {\n        onClick: handleOpenThread,\n        reply_count: message.reply_count\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-commerce-data\"\n      }, this.isMine() ? /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__message-commerce-name\"\n      }, message.user.name || message.user.id) : null, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__message-commerce-timestamp\"\n      }, when)))));\n    }\n  }]);\n\n  return MessageCommerce;\n}(PureComponent);\n\n_defineProperty(MessageCommerce, \"propTypes\", {\n  /** The [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n\n  /**\n   * The attachment UI component.\n   * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   *\n   * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n   *\n   * The higher order message component, most logic is delegated to this component\n   * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n   *\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /** If its parent message in thread. */\n  initialMessage: PropTypes.bool,\n\n  /** Channel config object */\n  channelConfig: PropTypes.object,\n\n  /** If component is in thread list */\n  threadList: PropTypes.bool,\n\n  /** Function to open thread on current messxage */\n  handleOpenThread: PropTypes.func,\n\n  /** Returns true if message belongs to current user */\n  isMyMessage: PropTypes.func,\n\n  /** Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute] */\n  getMessageActions: PropTypes.func,\n\n  /**\n   * Add or remove reaction on message\n   *\n   * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * @param event Dom event which triggered this function\n   */\n  handleReaction: PropTypes.func,\n\n  /** If actions such as edit, delete, flag, mute are enabled on message */\n  actionsEnabled: PropTypes.bool,\n\n  /**\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  handleAction: PropTypes.func,\n\n  /**\n   * The handler for hover event on @mention in message\n   *\n   * @param event Dom hover event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsHoverMessage: PropTypes.func,\n\n  /**\n   * The handler for click event on @mention in message\n   *\n   * @param event Dom click event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsClickMessage: PropTypes.func,\n\n  /** Position of message in group. Possible values: top, bottom, middle, single */\n  groupStyles: PropTypes.array\n});\n\n_defineProperty(MessageCommerce, \"defaultProps\", {\n  Attachment\n});\n\nMessageCommerce = withTranslationContext(MessageCommerce);\n\nfunction _createSuper$N(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$N()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$N() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageInputFlat - Large Message Input to be used for the MessageInput.\n * @example ./docs/MessageInputFlat.md\n */\n\n\nvar MessageInputFlat = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageInputFlat, _PureComponent);\n\n  var _super = _createSuper$N(MessageInputFlat);\n\n  function MessageInputFlat() {\n    var _this;\n\n    _classCallCheck(this, MessageInputFlat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUploads\", function () {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, _this.props.imageOrder.length > 0 && /*#__PURE__*/React__default.createElement(ImagePreviewer, {\n        imageUploads: _this.props.imageOrder.map(function (id) {\n          return _this.props.imageUploads[id];\n        }),\n        handleRemove: _this.props.removeImage,\n        handleRetry: _this.props.uploadImage,\n        handleFiles: _this.props.uploadNewFiles,\n        multiple: _this.props.multipleUploads,\n        disabled: _this.props.numberOfUploads >= _this.props.maxNumberOfFiles\n      }), _this.props.fileOrder.length > 0 && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__file-uploads\"\n      }, /*#__PURE__*/React__default.createElement(FilePreviewer, {\n        uploads: _this.props.fileOrder.map(function (id) {\n          return _this.props.fileUploads[id];\n        }),\n        handleRemove: _this.props.removeFile,\n        handleRetry: _this.props.uploadFile,\n        handleFiles: _this.props.uploadNewFiles\n      })));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderEmojiPicker\", function () {\n      if (_this.props.emojiPickerIsOpen) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__input-flat--emojipicker\",\n          ref: _this.props.emojiPickerRef\n        }, /*#__PURE__*/React__default.createElement(Picker, {\n          native: true,\n          emoji: \"point_up\",\n          title: \"Pick your emoji\\u2026\",\n          onSelect: _this.props.onSelectEmoji,\n          color: \"#006CFF\",\n          showPreview: false,\n          emojisToShowFilter: filterEmoji\n        }));\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageInputFlat, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      var SendButton = this.props.SendButton;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input-flat \".concat(SendButton ? 'str-chat__input-flat--send-button-active' : null)\n      }, /*#__PURE__*/React__default.createElement(ImageDropzone, {\n        accept: this.props.acceptedFiles,\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input-flat-wrapper\"\n      }, this.renderUploads(), this.renderEmojiPicker(), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__input-flat--textarea-wrapper\"\n      }, /*#__PURE__*/React__default.createElement(ChatAutoComplete, {\n        users: this.props.getUsers(),\n        commands: this.props.getCommands(),\n        innerRef: this.props.textareaRef,\n        handleSubmit: function handleSubmit(e) {\n          return _this2.props.handleSubmit(e);\n        },\n        onSelectItem: this.props.onSelectItem,\n        onChange: this.props.handleChange,\n        value: this.props.text,\n        rows: 1,\n        maxRows: this.props.maxRows,\n        placeholder: t('Type your message'),\n        onPaste: this.props.onPaste,\n        grow: this.props.grow,\n        onFocus: this.props.onFocus,\n        disabled: this.props.disabled,\n        additionalTextareaProps: this.props.additionalTextareaProps\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-flat-emojiselect\",\n        onClick: this.props.openEmojiPicker\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"28\",\n        height: \"28\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M22.217 16.1c.483.25.674.849.423 1.334C21.163 20.294 17.771 22 14 22c-3.867 0-7.347-1.765-8.66-4.605a.994.994 0 0 1 .9-1.407c.385 0 .739.225.9.575C8.135 18.715 10.892 20 14 20c3.038 0 5.738-1.267 6.879-3.476a.99.99 0 0 1 1.338-.424zm1.583-3.652c.341.443.235 1.064-.237 1.384a1.082 1.082 0 0 1-.62.168c-.338 0-.659-.132-.858-.389-.212-.276-.476-.611-1.076-.611-.598 0-.864.337-1.08.614-.197.254-.517.386-.854.386-.224 0-.438-.045-.62-.167-.517-.349-.578-.947-.235-1.388.66-.847 1.483-1.445 2.789-1.445 1.305 0 2.136.6 2.79 1.448zm-14 0c.341.443.235 1.064-.237 1.384a1.082 1.082 0 0 1-.62.168c-.339 0-.659-.132-.858-.389C7.873 13.335 7.61 13 7.01 13c-.598 0-.864.337-1.08.614-.197.254-.517.386-.854.386-.224 0-.438-.045-.62-.167-.518-.349-.579-.947-.235-1.388C4.88 11.598 5.703 11 7.01 11c1.305 0 2.136.6 2.79 1.448zM14 0c7.732 0 14 6.268 14 14s-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0zm8.485 22.485A11.922 11.922 0 0 0 26 14c0-3.205-1.248-6.219-3.515-8.485A11.922 11.922 0 0 0 14 2a11.922 11.922 0 0 0-8.485 3.515A11.922 11.922 0 0 0 2 14c0 3.205 1.248 6.219 3.515 8.485A11.922 11.922 0 0 0 14 26c3.205 0 6.219-1.248 8.485-3.515z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(FileUploadButton, {\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles,\n        accepts: this.props.acceptedFiles,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__input-flat-fileupload\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z\",\n        fillRule: \"nonzero\"\n      })))), SendButton && /*#__PURE__*/React__default.createElement(SendButton, {\n        sendMessage: this.props.handleSubmit\n      })))));\n    }\n  }]);\n\n  return MessageInputFlat;\n}(PureComponent);\n\n_defineProperty(MessageInputFlat, \"propTypes\", {\n  /** Set focus to the text input if this is enabled */\n  focus: PropTypes.bool,\n\n  /** Grow the textarea while you're typing */\n  grow: PropTypes.bool,\n\n  /** Disable the textarea */\n  disabled: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadNewFiles: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  numberOfUploads: PropTypes.number,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerIsOpen: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectEmoji: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getUsers: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getCommands: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  textareaRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleSubmit: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleChange: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectItem: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  text: PropTypes.string,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onPaste: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  openEmojiPicker: PropTypes.func,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  watcher_count: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  typing: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  multipleUploads: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  maxNumberOfFiles: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  acceptedFiles: PropTypes.object,\n\n  /**\n   * Custom UI component for send button.\n   *\n   * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n   * */\n  SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\n_defineProperty(MessageInputFlat, \"defaultProps\", {\n  grow: true,\n  disabled: false\n});\n\nvar MessageInputFlatWithContext = withTranslationContext(MessageInputFlat);\n\nfunction _createSuper$O(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$O()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$O() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * MessageInputSmall - compact design to be used for the MessageInput. It has all the features of MessageInput minus the typing indicator.\n * @example ./docs/MessageInputSmall.md\n */\n\n\nvar MessageInputSmall = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageInputSmall, _PureComponent);\n\n  var _super = _createSuper$O(MessageInputSmall);\n\n  function MessageInputSmall() {\n    var _this;\n\n    _classCallCheck(this, MessageInputSmall);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUploads\", function () {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, _this.props.imageOrder.length > 0 && /*#__PURE__*/React__default.createElement(ImagePreviewer, {\n        imageUploads: _this.props.imageOrder.map(function (id) {\n          return _this.props.imageUploads[id];\n        }),\n        handleRemove: _this.props.removeImage,\n        handleRetry: _this.props.uploadImage,\n        handleFiles: _this.props.uploadNewFiles,\n        multiple: _this.props.multipleUploads,\n        disabled: _this.props.numberOfUploads >= _this.props.maxNumberOfFiles ? true : false\n      }), _this.props.fileOrder.length > 0 && /*#__PURE__*/React__default.createElement(FilePreviewer, {\n        uploads: _this.props.fileOrder.map(function (id) {\n          return _this.props.fileUploads[id];\n        }),\n        handleRemove: _this.props.removeFile,\n        handleRetry: _this.props.uploadFile,\n        handleFiles: _this.props.uploadNewFiles\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderEmojiPicker\", function () {\n      if (_this.props.emojiPickerIsOpen) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__small-message-input-emojipicker\",\n          ref: _this.props.emojiPickerRef\n        }, /*#__PURE__*/React__default.createElement(Picker, {\n          native: true,\n          emoji: \"point_up\",\n          title: \"Pick your emoji\\u2026\",\n          onSelect: _this.props.onSelectEmoji,\n          color: \"#006CFF\",\n          showPreview: false,\n          emojisToShowFilter: filterEmoji\n        }));\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageInputSmall, [{\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      var SendButton = this.props.SendButton;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__small-message-input__wrapper\"\n      }, /*#__PURE__*/React__default.createElement(ImageDropzone, {\n        accept: this.props.acceptedFiles,\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__small-message-input \".concat(SendButton ? 'str-chat__small-message-input--send-button-active' : null)\n      }, this.renderUploads(), this.renderEmojiPicker(), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__small-message-input--textarea-wrapper\"\n      }, /*#__PURE__*/React__default.createElement(ChatAutoComplete, {\n        users: this.props.getUsers(),\n        commands: this.props.getCommands(),\n        innerRef: this.props.textareaRef,\n        handleSubmit: this.props.handleSubmit,\n        onChange: this.props.handleChange,\n        value: this.props.text,\n        rows: 1,\n        maxRows: this.props.maxRows,\n        onSelectItem: this.props.onSelectItem,\n        placeholder: t('Type your message'),\n        onPaste: this.props.onPaste,\n        grow: this.props.grow,\n        disabled: this.props.disabled,\n        additionalTextareaProps: this.props.additionalTextareaProps\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__small-message-input-emojiselect\",\n        onClick: this.props.openEmojiPicker\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\",\n        fillRule: \"evenodd\"\n      }))), /*#__PURE__*/React__default.createElement(FileUploadButton, {\n        multiple: this.props.multipleUploads,\n        disabled: this.props.numberOfUploads >= this.props.maxNumberOfFiles ? true : false,\n        accepts: this.props.acceptedFiles,\n        handleFiles: this.props.uploadNewFiles\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__small-message-input-fileupload\",\n        onClick: this.props.openFilePanel\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\",\n        fillRule: \"nonzero\"\n      })))), SendButton && /*#__PURE__*/React__default.createElement(SendButton, {\n        sendMessage: this.props.handleSubmit\n      })))));\n    }\n  }]);\n\n  return MessageInputSmall;\n}(PureComponent);\n\n_defineProperty(MessageInputSmall, \"propTypes\", {\n  /** Set focus to the text input if this is enabled */\n  focus: PropTypes.bool.isRequired,\n\n  /** Grow the textarea while you're typing */\n  grow: PropTypes.bool.isRequired,\n\n  /** Specify the max amount of rows the textarea is able to grow */\n  maxRows: PropTypes.number.isRequired,\n\n  /** Make the textarea disabled */\n  disabled: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  imageUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadImage: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadNewFiles: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  numberOfUploads: PropTypes.number,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileOrder: PropTypes.array,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  fileUploads: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  removeFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  uploadFile: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerIsOpen: PropTypes.bool,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  emojiPickerRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectEmoji: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getUsers: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  getCommands: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  textareaRef: PropTypes.object,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleSubmit: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  handleChange: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onSelectItem: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  text: PropTypes.string,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  onPaste: PropTypes.func,\n\n  /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n  openEmojiPicker: PropTypes.func,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  watcher_count: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  typing: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  multipleUploads: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  maxNumberOfFiles: PropTypes.number,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n  acceptedFiles: PropTypes.object,\n\n  /**\n   * Custom UI component for send button.\n   *\n   * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n   * */\n  SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n   */\n  additionalTextareaProps: PropTypes.object\n});\n\nvar MessageInputSmallWithContext = withTranslationContext(MessageInputSmall);\n\nfunction _createSuper$P(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$P()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$P() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ReverseInfiniteScroll = /*#__PURE__*/function (_Component) {\n  _inherits(ReverseInfiniteScroll, _Component);\n\n  var _super = _createSuper$P(ReverseInfiniteScroll);\n\n  function ReverseInfiniteScroll(props) {\n    var _this;\n\n    _classCallCheck(this, ReverseInfiniteScroll);\n\n    _this = _super.call(this, props);\n    _this.scrollListener = _this.scrollListener.bind(_assertThisInitialized(_this));\n    _this.scrollEventCount = 0;\n    return _this;\n  }\n\n  _createClass(ReverseInfiniteScroll, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.attachScrollListener();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    } // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: \"setDefaultLoader\",\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: \"detachMousewheelListener\",\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n    }\n  }, {\n    key: \"detachScrollListener\",\n    value: function detachScrollListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.props.useCapture);\n    }\n  }, {\n    key: \"getParentElement\",\n    value: function getParentElement(el) {\n      return el && el.parentNode;\n    }\n  }, {\n    key: \"filterProps\",\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: \"attachScrollListener\",\n    value: function attachScrollListener() {\n      if (!this.props.hasMore || this.props.isLoading || !this.getParentElement(this.scrollComponent)) {\n        return;\n      }\n\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: \"mousewheelListener\",\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"scrollListener\",\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var parentNode = this.getParentElement(el);\n      this.scrollEventCount += 1;\n      var offset;\n      var reverseOffset = parentNode.scrollTop;\n      var standardOffset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n\n      if (this.props.isReverse) {\n        offset = reverseOffset;\n      } else {\n        offset = standardOffset;\n      }\n\n      if (this.props.listenToScroll) {\n        this.props.listenToScroll(standardOffset, reverseOffset);\n      } // a reverse infinite scroll element always starts out at position 0\n      // this counter prevent you from loading content before the user even scrolled\n\n\n      if (this.scrollEventCount < 2) {\n        return;\n      } // prevent crazy repeat requests in case you don't have more\n\n\n      if (!this.props.hasMore || this.props.isLoading) {\n        return;\n      } // Here we make sure the element is visible as well as checking the offset\n\n\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        //this.detachScrollListener();\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore();\n        }\n      }\n    }\n  }, {\n    key: \"calculateOffset\",\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: \"calculateTopPosition\",\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          listenToScroll = renderProps.listenToScroll,\n          isLoading = renderProps.isLoading,\n          props = _objectWithoutProperties(renderProps, [\"children\", \"element\", \"hasMore\", \"initialLoad\", \"isReverse\", \"loader\", \"loadMore\", \"pageStart\", \"ref\", \"threshold\", \"useCapture\", \"useWindow\", \"listenToScroll\", \"isLoading\"]);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n      };\n\n      var childrenArray = [children];\n\n      if (isLoading) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n\n      return React__default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return ReverseInfiniteScroll;\n}(Component);\n\n_defineProperty(ReverseInfiniteScroll, \"propTypes\", {\n  children: PropTypes.node.isRequired,\n  element: PropTypes.node,\n\n  /** Weather there are more elements to be loaded or not */\n  hasMore: PropTypes.bool,\n  initialLoad: PropTypes.bool,\n  isReverse: PropTypes.bool,\n  loader: PropTypes.node,\n  loadMore: PropTypes.func.isRequired,\n  pageStart: PropTypes.number,\n  threshold: PropTypes.number,\n  useCapture: PropTypes.bool,\n  useWindow: PropTypes.bool,\n  className: PropTypes.string,\n\n  /** The function is called when the list scrolls */\n  listenToScroll: PropTypes.func\n});\n\n_defineProperty(ReverseInfiniteScroll, \"defaultProps\", {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: true,\n  useCapture: false,\n  loader: null,\n  className: 'str-chat__reverse-infinite-scroll'\n});\n\nfunction _createSuper$Q(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$Q()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$Q() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MessageNotification = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageNotification, _PureComponent);\n\n  var _super = _createSuper$Q(MessageNotification);\n\n  function MessageNotification() {\n    _classCallCheck(this, MessageNotification);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MessageNotification, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.showNotification) {\n        return null;\n      } else {\n        return /*#__PURE__*/React__default.createElement(\"button\", {\n          className: \"str-chat__message-notification\",\n          onClick: this.props.onClick\n        }, this.props.children);\n      }\n    }\n  }]);\n\n  return MessageNotification;\n}(PureComponent);\n\n_defineProperty(MessageNotification, \"propTypes\", {\n  /** If we should show the notification or not */\n  showNotification: PropTypes.bool,\n\n  /** Onclick handler */\n  onClick: PropTypes.func.isRequired\n});\n\n_defineProperty(MessageNotification, \"defaultProps\", {\n  showNotification: true\n});\n\nfunction _createForOfIteratorHelper$4(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray$4(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\n\nfunction _arrayLikeToArray$4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper$R(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$R()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$R() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/* eslint sonarjs/no-duplicate-string: 0 */\n\n/**\n * MessageList - The message list components renders a list of messages. Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react/#channel)\n *\n * @example ./docs/MessageList.md\n * @extends PureComponent\n */\n\n\nvar MessageList = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageList, _PureComponent);\n\n  var _super = _createSuper$R(MessageList);\n\n  function MessageList(props) {\n    var _this;\n\n    _classCallCheck(this, MessageList);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"connectionChanged\", function (event) {\n      if (_this.state.online !== event.online) {\n        _this.setState({\n          online: event.online\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"keypress\", function (event) {\n      if (event.keyCode === KEY_CODES.ESC && _this.state.editing) {\n        _this.clearEditingState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollToBottom\", function () {\n      _this._scrollToRef(_this.bottomRef, _this.messageList);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_scrollToRef\", function (el, parent) {\n      function scrollDown() {\n        if (el && el.current && parent && parent.current) {\n          this.scrollToTarget(el.current, parent.current);\n        }\n      }\n\n      scrollDown.call(_assertThisInitialized(_this)); // scroll down after images load again\n\n      setTimeout(scrollDown.bind(_assertThisInitialized(_this)), 200);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollToTarget\", function (target, containerEl) {\n      // Moved up here for readability:\n      var isElement = target && target.nodeType === 1,\n          isNumber = Object.prototype.toString.call(target) === '[object Number]';\n\n      if (isElement) {\n        containerEl.scrollTop = target.offsetTop;\n      } else if (isNumber) {\n        containerEl.scrollTop = target;\n      } else if (target === 'bottom') {\n        containerEl.scrollTop = containerEl.scrollHeight - containerEl.offsetHeight;\n      } else if (target === 'top') {\n        containerEl.scrollTop = 0;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setEditingState\", function (message) {\n      _this.setState({\n        editing: message.id\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearEditingState\", function (e) {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      _this.setState({\n        editing: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"insertDates\", function (messages) {\n      var newMessages = [];\n\n      var _iterator = _createForOfIteratorHelper$4(messages.entries()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              i = _step$value[0],\n              message = _step$value[1];\n\n          if (message.type === 'message.read') {\n            newMessages.push(message);\n            continue;\n          }\n\n          var messageDate = message.created_at.toDateString();\n          var prevMessageDate = messageDate;\n\n          if (i > 0) {\n            prevMessageDate = messages[i - 1].created_at.toDateString();\n          }\n\n          if (i === 0 || messageDate !== prevMessageDate) {\n            newMessages.push({\n              type: 'message.date',\n              date: message.created_at\n            }, message);\n          } else {\n            newMessages.push(message);\n          }\n\n          var eventsNextToMessage = _this.props.eventHistory[message.id || 'first'];\n\n          if (eventsNextToMessage && eventsNextToMessage.length > 0) {\n            eventsNextToMessage.forEach(function (e) {\n              newMessages.push({\n                type: 'channel.event',\n                event: e\n              });\n            });\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return newMessages;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"insertIntro\", function (messages) {\n      var newMessages = messages || []; // if no headerPosition is set, HeaderComponent will go at the top\n\n      if (!_this.props.headerPosition) {\n        newMessages.unshift({\n          type: 'channel.intro' // created_at: new Date(0),\n\n        });\n        return newMessages;\n      } // if no messages, intro get's inserted\n\n\n      if (!newMessages.length) {\n        newMessages.unshift({\n          type: 'channel.intro'\n        });\n        return newMessages;\n      } // else loop over the messages\n\n\n      var _iterator2 = _createForOfIteratorHelper$4(messages.entries()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              i = _step2$value[0],\n              message = _step2$value[1];\n\n          var messageTime = message.created_at ? message.created_at.getTime() : null;\n          var nextMessageTime = messages[i + 1] && messages[i + 1].created_at ? messages[i + 1].created_at.getTime() : null;\n          var headerPosition = _this.props.headerPosition; // headerposition is smaller than message time so comes after;\n\n          if (messageTime < headerPosition) {\n            // if header position is also smaller than message time continue;\n            if (nextMessageTime < headerPosition) {\n              if (messages[i + 1] && messages[i + 1].type === 'message.date') continue;\n\n              if (!nextMessageTime) {\n                newMessages.push({\n                  type: 'channel.intro'\n                });\n                return newMessages;\n              }\n\n              continue;\n            } else {\n              newMessages.splice(i + 1, 0, {\n                type: 'channel.intro'\n              });\n              return newMessages;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return newMessages;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"goToNewMessages\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.scrollToBottom();\n\n            case 2:\n              _this.setState({\n                newMessagesNotification: false\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"getReadStates\", function (messages) {\n      // create object with empty array for each message id\n      var readData = {};\n\n      var _iterator3 = _createForOfIteratorHelper$4(messages),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var message = _step3.value;\n          readData[message.id] = [];\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      for (var _i = 0, _Object$values = Object.values(_this.props.read); _i < _Object$values.length; _i++) {\n        var readState = _Object$values[_i];\n\n        if (readState.last_read == null) {\n          break;\n        }\n\n        var userLastReadMsgId = void 0;\n\n        var _iterator4 = _createForOfIteratorHelper$4(messages),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var msg = _step4.value;\n\n            if (msg.updated_at < readState.last_read) {\n              userLastReadMsgId = msg.id;\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n\n        if (userLastReadMsgId != null) {\n          readData[userLastReadMsgId] = [].concat(_toConsumableArray(readData[userLastReadMsgId]), [readState.user]);\n        }\n      }\n\n      return readData;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"userScrolledUp\", function () {\n      return _this.scrollOffset > 310;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"listenToScroll\", function (offset) {\n      _this.scrollOffset = offset;\n\n      if (_this.state.newMessagesNotification && !_this.userScrolledUp()) {\n        _this.setState({\n          newMessagesNotification: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastReceived\", function (messages) {\n      var l = messages.length;\n      var lastReceivedId = null;\n\n      for (var i = l; i > 0; i--) {\n        if (messages[i] !== undefined && messages[i].status !== undefined && messages[i].status === 'received') {\n          lastReceivedId = messages[i].id;\n          break;\n        }\n      }\n\n      return lastReceivedId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getGroupStyles\", function (m) {\n      var l = m.length;\n      var messageGroupStyles = {};\n\n      var messages = _toConsumableArray(m);\n\n      for (var i = 0; i < l; i++) {\n        var previousMessage = messages[i - 1];\n        var message = messages[i];\n        var nextMessage = messages[i + 1];\n        var groupStyles = [];\n\n        if (message.type === 'message.date') {\n          continue;\n        }\n\n        if (message.type === 'channel.event') {\n          continue;\n        }\n\n        if (message.type === 'channel.intro') {\n          continue;\n        }\n\n        var userId = message.user.id;\n        var isTopMessage = !previousMessage || previousMessage.type === 'channel.intro' || previousMessage.type === 'message.date' || previousMessage.type === 'system' || previousMessage.type === 'channel.event' || previousMessage.attachments.length !== 0 || userId !== previousMessage.user.id || previousMessage.type === 'error' || previousMessage.deleted_at;\n        var isBottomMessage = !nextMessage || nextMessage.type === 'message.date' || nextMessage.type === 'system' || nextMessage.type === 'channel.event' || nextMessage.type === 'channel.intro' || nextMessage.attachments.length !== 0 || userId !== nextMessage.user.id || nextMessage.type === 'error' || nextMessage.deleted_at;\n\n        if (isTopMessage) {\n          groupStyles.push('top');\n        }\n\n        if (isBottomMessage) {\n          if (isTopMessage || message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.push('bottom');\n          }\n        }\n\n        if (!isTopMessage && !isBottomMessage) {\n          if (message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('middle');\n          }\n        }\n\n        if (message.attachments.length !== 0) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        if (_this.props.noGroupByUser) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        messageGroupStyles[message.id] = groupStyles;\n      }\n\n      return messageGroupStyles;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMentionsHoverOrClick\", function (e, mentioned_users) {\n      if (!_this.props.onMentionsHover || !_this.props.onMentionsClick) return;\n      var tagName = e.target.tagName.toLowerCase();\n      var textContent = e.target.innerHTML.replace('*', '');\n\n      if (tagName === 'strong' && textContent[0] === '@') {\n        var userName = textContent.replace('@', '');\n        var user = mentioned_users.find(function (user) {\n          return user.name === userName || user.id === userName;\n        });\n\n        if (_this.props.onMentionsHover && e.type === 'mouseover') {\n          _this.props.onMentionsHover(e, user);\n        }\n\n        if (_this.props.onMentionsClick && e.type === 'click') {\n          _this.props.onMentionsHover(e, user);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addNotification\", function (notificationText, type) {\n      if (typeof notificationText !== 'string') return;\n      if (type !== 'success' && type !== 'error') return;\n      var nextIndex = new Date();\n\n      var newNotifications = _toConsumableArray(_this.state.notifications);\n\n      newNotifications.push({\n        id: nextIndex,\n        text: notificationText,\n        type\n      });\n\n      _this.setState({\n        notifications: newNotifications\n      }); // remove the notification after 5000 ms\n\n\n      var ct = setTimeout(function () {\n        var index = _this.state.notifications.findIndex(function (notification) {\n          if (notification.id === nextIndex) return true;\n          return false;\n        });\n\n        var newNotifications = _toConsumableArray(_this.state.notifications);\n\n        newNotifications.splice(index, 1);\n\n        _this.setState({\n          notifications: newNotifications\n        });\n      }, 5000);\n\n      _this.notificationTimeouts.push(ct);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_loadMore\", function () {\n      return _this.props.messageLimit ? _this.props.loadMore(_this.props.messageLimit) : _this.props.loadMore();\n    });\n\n    _this.state = {\n      newMessagesNotification: false,\n      editing: '',\n      online: true,\n      notifications: []\n    };\n    _this.bottomRef = React__default.createRef();\n    _this.messageList = React__default.createRef();\n    _this.messageRefs = {};\n    _this.notificationTimeouts = [];\n    return _this;\n  }\n\n  _createClass(MessageList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // start at the bottom\n      this.scrollToBottom();\n      var messageListRect = this.messageList.current.getBoundingClientRect();\n      this.setState({\n        messageListRect\n      });\n      this.props.client.on('connection.changed', this.connectionChanged);\n      document.addEventListener('keydown', this.keypress);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.client.off('connection.changed', this.connectionChanged);\n      document.removeEventListener('keydown', this.keypress);\n      this.notificationTimeouts.forEach(function (ct) {\n        clearTimeout(ct);\n      });\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      if (this.props.threadList) {\n        return null;\n      } // Are we adding new items to the list?\n      // Capture the scroll position so we can adjust scroll later.\n\n\n      if (prevProps.messages.length < this.props.messages.length || !deepequal(this.props.eventHistory, prevProps.eventHistory)) {\n        var list = this.messageList.current;\n        return {\n          offsetTop: list.scrollTop,\n          offsetBottom: list.scrollHeight - list.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      // If we have a snapshot value, we've just added new items.\n      // Adjust scroll so these new items don't push the old ones out of view.\n      // (snapshot here is the value returned from getSnapshotBeforeUpdate)\n      var userScrolledUp = this.userScrolledUp();\n      var currentLastMessage = this.props.messages[this.props.messages.length - 1];\n      var previousLastMessage = prevProps.messages[prevProps.messages.length - 1];\n\n      if (!previousLastMessage || !currentLastMessage) {\n        return;\n      }\n\n      var hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n      var isOwner = currentLastMessage.user.id === this.props.client.userID;\n      var list = this.messageList.current; // always scroll down when it's your own message that you added...\n\n      var scrollToBottom = hasNewMessage && (isOwner || !userScrolledUp);\n\n      if (scrollToBottom) {\n        this.scrollToBottom(); // Scroll further once attachments are laoded.\n\n        setTimeout(this.scrollToBottom, 100); // remove the scroll notification if we already scrolled down...\n\n        this.state.newMessagesNotification && this.setState({\n          newMessagesNotification: false\n        });\n        return;\n      }\n\n      if (snapshot !== null) {\n        // Maintain the offsetTop of scroll so that content in viewport doesn't move.\n        // This is for the case where user has scroll up significantly and a new message arrives from someone.\n        if (hasNewMessage) {\n          this.scrollToTarget(snapshot.offsetTop, this.messageList.current);\n        } else {\n          // Maintain the bottomOffset of scroll.\n          // This is for the case of pagination, when more messages get loaded.\n          this.scrollToTarget(list.scrollHeight - snapshot.offsetBottom, this.messageList.current);\n        }\n      } // Check the scroll position... if you're scrolled up show a little notification\n\n\n      if (hasNewMessage && !this.state.newMessagesNotification) {\n        this.setState({\n          newMessagesNotification: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    // eslint-disable-next-line\n    value: function render() {\n      var _this2 = this;\n\n      var allMessages = _toConsumableArray(this.props.messages);\n\n      var MessageSystem = this.props.MessageSystem;\n      allMessages = this.insertDates(allMessages);\n\n      if (this.props.HeaderComponent) {\n        allMessages = this.insertIntro(allMessages);\n      }\n\n      var messageGroupStyles = this.getGroupStyles(allMessages);\n      var _this$props = this.props,\n          TypingIndicator = _this$props.TypingIndicator,\n          DateSeparator = _this$props.dateSeparator,\n          HeaderComponent = _this$props.HeaderComponent,\n          EmptyStateIndicator = _this$props.EmptyStateIndicator,\n          t = _this$props.t; // sort by date\n\n      allMessages.sort(function (a, b) {\n        return a.created_at - b.created_at;\n      }); // get the readData\n\n      var readData = this.getReadStates(allMessages);\n      var lastReceivedId = this.getLastReceived(allMessages);\n      var elements = []; // loop over the messages\n\n      var _iterator5 = _createForOfIteratorHelper$4(allMessages),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var message = _step5.value;\n\n          if (message.id) {\n            this.messageRefs[message.id] = React__default.createRef();\n          }\n\n          if (message.type === 'message.date') {\n            if (this.props.threadList) {\n              continue;\n            }\n\n            elements.push( /*#__PURE__*/React__default.createElement(\"li\", {\n              key: message.date.toISOString() + '-i'\n            }, /*#__PURE__*/React__default.createElement(DateSeparator, {\n              date: message.date\n            })));\n          } else if (message.type === 'channel.intro') {\n            elements.push( /*#__PURE__*/React__default.createElement(\"li\", {\n              key: \"intro\"\n            }, /*#__PURE__*/React__default.createElement(HeaderComponent, null)));\n          } else if (message.type === 'channel.event' || message.type === 'system') {\n            MessageSystem && elements.push( /*#__PURE__*/React__default.createElement(\"li\", {\n              key: message.type === 'system' ? message.created_at : message.type === 'channel.event' ? message.event.created_at : ''\n            }, /*#__PURE__*/React__default.createElement(MessageSystem, {\n              message: message\n            })));\n          } else if (message.type !== 'message.read') {\n            var groupStyles = messageGroupStyles[message.id];\n\n            if (!groupStyles) {\n              groupStyles = [];\n            }\n\n            var readBy = readData[message.id] || [];\n            elements.push( /*#__PURE__*/React__default.createElement(\"li\", {\n              className: \"str-chat__li str-chat__li--\".concat(groupStyles),\n              key: message.id || message.created_at,\n              ref: this.messageRefs[message.id]\n            }, /*#__PURE__*/React__default.createElement(Message, {\n              client: this.props.client,\n              openThread: this.props.openThread,\n              members: this.props.members,\n              watchers: this.props.watchers,\n              message: message,\n              groupStyles: groupStyles,\n              readBy: readBy,\n              lastReceivedId: lastReceivedId === message.id ? lastReceivedId : null,\n              editing: !!(this.state.editing && this.state.editing === message.id),\n              clearEditingState: this.clearEditingState,\n              setEditingState: this.setEditingState,\n              messageListRect: this.state.messageListRect,\n              channel: this.props.channel,\n              threadList: this.props.threadList,\n              retrySendMessage: this.props.retrySendMessage,\n              addNotification: this.addNotification,\n              updateMessage: this.props.updateMessage,\n              removeMessage: this.props.removeMessage,\n              Message: this.props.Message,\n              unsafeHTML: this.props.unsafeHTML,\n              Attachment: this.props.Attachment,\n              onMentionsClick: this.props.onMentionsClick,\n              onMentionsHover: this.props.onMentionsHover,\n              messageActions: this.props.messageActions,\n              additionalMessageInputProps: this.props.additionalMessageInputProps,\n              getFlagMessageSuccessNotification: this.props.getFlagMessageSuccessNotification,\n              getFlagMessageErrorNotification: this.props.getFlagMessageErrorNotification,\n              getMuteUserSuccessNotification: this.props.getMuteUserSuccessNotification,\n              getMuteUserErrorNotification: this.props.getMuteUserErrorNotification\n            })));\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__list \".concat(this.props.threadList ? 'str-chat__list--thread' : ''),\n        ref: this.messageList\n      }, !elements.length ? /*#__PURE__*/React__default.createElement(EmptyStateIndicator, {\n        listType: \"message\"\n      }) : /*#__PURE__*/React__default.createElement(ReverseInfiniteScroll, {\n        loadMore: this._loadMore,\n        hasMore: this.props.hasMore,\n        isLoading: this.props.loadingMore,\n        listenToScroll: this.listenToScroll,\n        useWindow: false,\n        loader: /*#__PURE__*/React__default.createElement(Center, {\n          key: \"loadingindicator\"\n        }, /*#__PURE__*/React__default.createElement(LoadingIndicator, {\n          size: 20\n        }))\n      }, /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"str-chat__ul\"\n      }, elements), this.props.TypingIndicator && /*#__PURE__*/React__default.createElement(TypingIndicator, {\n        typing: this.props.typing,\n        client: this.props.client\n      }), /*#__PURE__*/React__default.createElement(\"div\", {\n        key: \"bottom\",\n        ref: this.bottomRef\n      }))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__list-notifications\"\n      }, this.state.notifications.map(function (notification) {\n        return /*#__PURE__*/React__default.createElement(Notification, {\n          active: true,\n          key: notification.id,\n          type: notification.type\n        }, notification.text);\n      }), /*#__PURE__*/React__default.createElement(Notification, {\n        active: !this.state.online,\n        type: \"error\"\n      }, t('Connection failure, reconnecting now...')), /*#__PURE__*/React__default.createElement(MessageNotification, {\n        showNotification: this.state.newMessagesNotification,\n        onClick: function onClick() {\n          return _this2.goToNewMessages();\n        }\n      }, t('New Messages!'))));\n    }\n  }]);\n\n  return MessageList;\n}(PureComponent);\n\n_defineProperty(MessageList, \"propTypes\", {\n  /**\n   * Typing indicator UI component to render\n   *\n   * Defaults to and accepts same props as: [TypingIndicator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/TypingIndicator.js)\n   * */\n  TypingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Date separator UI component to render\n   *\n   * Defaults to and accepts same props as: [DateSeparator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/DateSeparator.js)\n   * */\n  dateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Turn off grouping of messages by user */\n  noGroupByUser: PropTypes.bool,\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /** Set the limit to use when paginating messages */\n  messageLimit: PropTypes.number,\n\n  /**\n   * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n   * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n   * */\n  messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n\n  /**\n   * Boolean weather current message list is a thread.\n   */\n  threadList: PropTypes.bool,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for flagging a message is successful\n   *\n   * This function should accept following params:\n   *\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n   *\n   * */\n  getFlagMessageSuccessNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for flagging a message runs into error\n   *\n   * This function should accept following params:\n   *\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n   *\n   * */\n  getFlagMessageErrorNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for muting a user is successful\n   *\n   * This function should accept following params:\n   *\n   * @param user A user object which is being muted\n   *\n   * */\n  getMuteUserSuccessNotification: PropTypes.func,\n\n  /**\n   * Function that returns message/text as string to be shown as notification, when request for muting a user runs into error\n   *\n   * This function should accept following params:\n   *\n   * @param user A user object which is being muted\n   *\n   * */\n  getMuteUserErrorNotification: PropTypes.func,\n\n  /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n  client: PropTypes.object,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Custom UI component to display system messages.\n   *\n   * Defaults to and accepts same props as: [EventComponent](https://github.com/GetStream/stream-chat-react/blob/master/src/components/EventComponent.js)\n   */\n  MessageSystem: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * The UI Indicator to use when MessagerList or ChannelList is empty\n   * */\n  EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Component to render at the top of the MessageList\n   * */\n  HeaderComponent: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  messages: PropTypes.array.isRequired,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  channel: PropTypes.object.isRequired,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  updateMessage: PropTypes.func.isRequired,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  retrySendMessage: PropTypes.func,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  removeMessage: PropTypes.func,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  onMentionsClick: PropTypes.func,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  onMentionsHover: PropTypes.func,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  openThread: PropTypes.func,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  members: PropTypes.object,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  watchers: PropTypes.object,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  read: PropTypes.object,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  typing: PropTypes.object,\n\n  /**\n   * Additional props for underlying MessageInput component. We have instance of MessageInput\n   * component in MessageSimple component, for handling edit state.\n   * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n   * */\n  additionalMessageInputProps: PropTypes.object\n});\n\n_defineProperty(MessageList, \"defaultProps\", {\n  Message: MessageSimple,\n  MessageSystem: EventComponent,\n  threadList: false,\n  Attachment,\n  dateSeparator: DateSeparator,\n  EmptyStateIndicator,\n  unsafeHTML: false,\n  noGroupByUser: false,\n  messageActions: Object.keys(MESSAGE_ACTIONS)\n});\n\nMessageList = withChannelContext(withTranslationContext(MessageList));\n\nvar Center = function Center(_ref2) {\n  var children = _ref2.children;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"str-chat__list__center\"\n  }, children);\n};\n\nvar Notification = function Notification(_ref3) {\n  var children = _ref3.children,\n      active = _ref3.active,\n      type = _ref3.type;\n\n  if (active) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"str-chat__custom-notification notification-\".concat(type)\n    }, children);\n  }\n\n  return null;\n};\n\nfunction ownKeys$8(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$8(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$8(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$8(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$S(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$S()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$S() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar SimpleReactionsList = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(SimpleReactionsList, _React$PureComponent);\n\n  var _super = _createSuper$S(SimpleReactionsList);\n\n  function SimpleReactionsList() {\n    var _this;\n\n    _classCallCheck(this, SimpleReactionsList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      showTooltip: false,\n      users: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showTooltip\", function () {\n      _this.setState({\n        showTooltip: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideTooltip\", function () {\n      _this.setState({\n        showTooltip: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleReaction\", function (e, type) {\n      if (e !== undefined && e.preventDefault) {\n        e.preventDefault();\n      }\n\n      _this.props.handleReaction(type);\n\n      _this.setUsernames(type);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getReactionCount\", function () {\n      var reaction_counts = _this.props.reaction_counts;\n      var count = null;\n\n      if (reaction_counts !== null && reaction_counts !== undefined && Object.keys(reaction_counts).length > 0) {\n        count = 0;\n        Object.keys(reaction_counts).map(function (key) {\n          return count += reaction_counts[key];\n        });\n      }\n\n      return count;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUsers\", function (users) {\n      return users.map(function (user, i) {\n        var text = user;\n\n        if (i + 1 < users.length) {\n          text += ', ';\n        }\n\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"latest-user-username\",\n          key: \"key-\".concat(i, \"-\").concat(user)\n        }, text);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getReactionsByType\", function (reactions) {\n      var reactionsByType = {};\n      reactions.map(function (item) {\n        if (reactionsByType[item.type] === undefined) {\n          return reactionsByType[item.type] = [item];\n        } else {\n          return reactionsByType[item.type] = [].concat(_toConsumableArray(reactionsByType[item.type]), [item]);\n        }\n      });\n      return reactionsByType;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderReactions\", function (reactions) {\n      var reactionsByType = _this.getReactionsByType(reactions);\n\n      var reactionsEmojis = _this.props.reactionOptions.reduce(function (acc, cur) {\n        return _objectSpread$8({}, acc, {\n          [cur.id]: cur\n        });\n      }, {});\n\n      return Object.keys(reactionsByType).map(function (type, i) {\n        return /*#__PURE__*/React__default.createElement(\"li\", {\n          className: \"str-chat__simple-reactions-list-item\",\n          key: \"\".concat(reactionsByType[type][0].id, \"-\").concat(i),\n          onClick: function onClick(e) {\n            return _this.handleReaction(e, type);\n          }\n        }, /*#__PURE__*/React__default.createElement(\"span\", {\n          onMouseEnter: function onMouseEnter() {\n            return _this.setUsernames(type);\n          }\n        }, /*#__PURE__*/React__default.createElement(NimbleEmoji, _extends({\n          emoji: reactionsEmojis[type]\n        }, emojiSetDef, {\n          size: 13,\n          data: emojiData\n        })), \"\\xA0\"));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getUsernames\", function (reactions) {\n      return reactions.map(function (item) {\n        return item.user !== null ? item.user.name || item.user.id : 'null';\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setUsernames\", function (type) {\n      var reactionsByType = _this.getReactionsByType(_this.props.reactions);\n\n      var reactions = reactionsByType[type];\n\n      var users = _this.getUsernames(reactions);\n\n      _this.setState({\n        users\n      }, function () {\n        return _this.showTooltip();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUsernames\", function (users) {\n      return users.join(', ');\n    });\n\n    return _this;\n  }\n\n  _createClass(SimpleReactionsList, [{\n    key: \"render\",\n    value: function render() {\n      var reactions = this.props.reactions;\n\n      if (!reactions || reactions.length === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"str-chat__simple-reactions-list\",\n        onMouseLeave: this.hideTooltip\n      }, this.state.showTooltip && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__simple-reactions-list-tooltip\",\n        ref: this.reactionSelectorTooltip\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"arrow\"\n      }), this.renderUsernames(this.state.users)), this.renderReactions(reactions), reactions.length !== 0 && /*#__PURE__*/React__default.createElement(\"li\", {\n        className: \"str-chat__simple-reactions-list-item--last-number\"\n      }, this.getReactionCount()));\n    }\n  }]);\n\n  return SimpleReactionsList;\n}(React__default.PureComponent);\n\n_defineProperty(SimpleReactionsList, \"propTypes\", {\n  reactions: PropTypes.array,\n\n  /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n  reaction_counts: PropTypes.object,\n  showTooltip: PropTypes.bool,\n\n  /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n  reactionOptions: PropTypes.array,\n\n  /**\n   * Handler to set/unset reaction on message.\n   *\n   * @param type e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * */\n  handleReaction: PropTypes.func\n});\n\n_defineProperty(SimpleReactionsList, \"defaultProps\", {\n  showTooltip: true,\n  reactionOptions: defaultMinimalEmojis,\n  emojiSetDef\n});\n\nfunction _createSuper$T(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$T()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$T() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar reactionSvg = '<svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\" fillRule=\"evenodd\"/></svg>';\nvar threadSvg = '<svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\" fillRule=\"evenodd\" /></svg>';\nvar optionsSvg = '<svg width=\"11\" height=\"3\" viewBox=\"0 0 11 3\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fillRule=\"nonzero\" /></svg>';\n/**\n * MessageLivestream - Render component, should be used together with the Message component\n * Implements the look and feel for a livestream use case.\n *\n * @example ./docs/MessageLivestream.md\n * @extends PureComponent\n */\n\nvar MessageLivestream = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(MessageLivestream, _React$PureComponent);\n\n  var _super = _createSuper$T(MessageLivestream);\n\n  function MessageLivestream() {\n    var _this;\n\n    _classCallCheck(this, MessageLivestream);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      actionsBoxOpen: false,\n      reactionSelectorOpen: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"reactionSelectorRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"editMessageFormRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickReactionsAction\", function () {\n      _this.setState({\n        reactionSelectorOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideReactions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickOptionsAction\", function () {\n      _this.setState({\n        actionsBoxOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideOptions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideOptions\", function () {\n      _this.setState({\n        actionsBoxOpen: false\n      });\n\n      document.removeEventListener('click', _this.hideOptions, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideReactions\", function (e) {\n      if (!_this.reactionSelectorRef.current.reactionSelector.current.contains(e.target)) {\n        _this.setState({\n          reactionSelectorOpen: false\n        });\n\n        document.removeEventListener('click', _this.hideReactions, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeaveMessage\", function () {\n      _this.hideOptions();\n\n      _this.setState({\n        reactionSelectorOpen: false\n      }, function () {\n        return document.removeEventListener('click', _this.hideReactions, false);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageLivestream, [{\n    key: \"isMine\",\n    value: function isMine() {\n      return this.props.isMyMessage(this.props.message);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.hideOptions, false);\n      document.removeEventListener('click', this.hideReactions, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Attachment = _this$props.Attachment,\n          message = _this$props.message,\n          groupStyles = _this$props.groupStyles,\n          editing = _this$props.editing,\n          clearEditingState = _this$props.clearEditingState,\n          updateMessage = _this$props.updateMessage,\n          initialMessage = _this$props.initialMessage,\n          handleReaction = _this$props.handleReaction,\n          actionsEnabled = _this$props.actionsEnabled,\n          messageListRect = _this$props.messageListRect,\n          channelConfig = _this$props.channelConfig,\n          threadList = _this$props.threadList,\n          handleOpenThread = _this$props.handleOpenThread,\n          Message = _this$props.Message,\n          onMentionsHoverMessage = _this$props.onMentionsHoverMessage,\n          onMentionsClickMessage = _this$props.onMentionsClickMessage,\n          unsafeHTML = _this$props.unsafeHTML,\n          handleRetry = _this$props.handleRetry,\n          handleAction = _this$props.handleAction,\n          getMessageActions = _this$props.getMessageActions,\n          isMyMessage = _this$props.isMyMessage,\n          handleFlag = _this$props.handleFlag,\n          handleMute = _this$props.handleMute,\n          handleEdit = _this$props.handleEdit,\n          handleDelete = _this$props.handleDelete,\n          t = _this$props.t,\n          tDateTimeParser = _this$props.tDateTimeParser;\n      var hasAttachment = Boolean(message.attachments && message.attachments.length);\n      var galleryImages = message.attachments.filter(function (item) {\n        return item.type === 'image';\n      });\n      var attachments = message.attachments;\n\n      if (galleryImages.length > 1) {\n        attachments = message.attachments.filter(function (item) {\n          return item.type !== 'image';\n        });\n      } else {\n        galleryImages = [];\n      }\n\n      if (message.type === 'message.read') {\n        return null;\n      }\n\n      if (message.type === 'message.date') {\n        return null;\n      }\n\n      if (message.deleted_at) {\n        return null;\n      }\n\n      if (editing) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-team str-chat__message-team--\".concat(groupStyles[0], \" str-chat__message-team--editing\"),\n          onMouseLeave: this.onMouseLeaveMessage\n        }, (groupStyles[0] === 'top' || groupStyles[0] === 'single') && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-team-meta\"\n        }, /*#__PURE__*/React__default.createElement(Avatar, {\n          image: message.user.image,\n          name: message.user.name || message.user.id,\n          size: 40\n        })), /*#__PURE__*/React__default.createElement(MessageInput, {\n          Input: EditMessageForm,\n          message: message,\n          clearEditingState: clearEditingState,\n          updateMessage: updateMessage\n        }));\n      }\n\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream str-chat__message-livestream--\".concat(groupStyles[0], \" str-chat__message-livestream--\").concat(message.type, \" str-chat__message-livestream--\").concat(message.status, \" \").concat(initialMessage ? 'str-chat__message-livestream--initial-message' : ''),\n        onMouseLeave: this.onMouseLeaveMessage\n      }, this.state.reactionSelectorOpen && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        reverse: false,\n        handleReaction: handleReaction,\n        actionsEnabled: actionsEnabled,\n        detailedView: true,\n        latest_reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        messageList: messageListRect,\n        ref: this.reactionSelectorRef\n      }), !initialMessage && message.type !== 'error' && message.type !== 'system' && message.type !== 'ephemeral' && message.status !== 'failed' && message.status !== 'sending' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream-actions\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__message-livestream-time\"\n      }, tDateTimeParser(message.created_at).format('h:mmA')), channelConfig && channelConfig.reactions && /*#__PURE__*/React__default.createElement(\"span\", {\n        onClick: this.onClickReactionsAction\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: reactionSvg\n        }\n      })), !threadList && channelConfig && channelConfig.replies && /*#__PURE__*/React__default.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: threadSvg\n        },\n        onClick: function onClick(e) {\n          return handleOpenThread(e, message);\n        }\n      }), getMessageActions().length > 0 && /*#__PURE__*/React__default.createElement(\"span\", {\n        onClick: this.onClickOptionsAction\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: optionsSvg\n        }\n      }), /*#__PURE__*/React__default.createElement(MessageActionsBox, {\n        getMessageActions: getMessageActions,\n        open: this.state.actionsBoxOpen,\n        Message: Message,\n        message: message,\n        messageListRect: messageListRect,\n        mine: isMyMessage(message),\n        handleFlag: handleFlag,\n        handleMute: handleMute,\n        handleEdit: handleEdit,\n        handleDelete: handleDelete\n      }))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream-left\"\n      }, /*#__PURE__*/React__default.createElement(Avatar, {\n        image: message.user.image,\n        name: message.user.name || message.user.id,\n        size: 30\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream-right\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream-content\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-livestream-author\"\n      }, /*#__PURE__*/React__default.createElement(\"strong\", null, message.user.name || message.user.id), message.type === 'error' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-error-header\"\n      }, t('Only visible to you'))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: isOnlyEmojis(message.text) ? 'str-chat__message-livestream-text--is-emoji' : '',\n        onMouseOver: onMentionsHoverMessage,\n        onClick: onMentionsClickMessage\n      }, message.type !== 'error' && message.status !== 'failed' && !unsafeHTML && renderText(message), message.type !== 'error' && message.status !== 'failed' && unsafeHTML && /*#__PURE__*/React__default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: message.html\n        }\n      }), message.type === 'error' && !message.command && /*#__PURE__*/React__default.createElement(\"p\", null, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\",\n        fill: \"#EA152F\",\n        fillRule: \"evenodd\"\n      })), message.text), message.type === 'error' && message.command && /*#__PURE__*/React__default.createElement(\"p\", null, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\",\n        fill: \"#EA152F\",\n        fillRule: \"evenodd\"\n      })), /*#__PURE__*/React__default.createElement(\"strong\", null, \"/\", message.command), \" is not a valid command\"), message.status === 'failed' && /*#__PURE__*/React__default.createElement(\"p\", {\n        onClick: handleRetry.bind(this, message)\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\",\n        fill: \"#EA152F\",\n        fillRule: \"evenodd\"\n      })), t('Message failed. Click to try again.'))), hasAttachment && attachments.map(function (attachment, index) {\n        return /*#__PURE__*/React__default.createElement(Attachment, {\n          key: \"\".concat(message.id, \"-\").concat(index),\n          attachment: attachment,\n          actionHandler: handleAction\n        });\n      }), galleryImages.length !== 0 && /*#__PURE__*/React__default.createElement(Gallery, {\n        images: galleryImages\n      }), /*#__PURE__*/React__default.createElement(SimpleReactionsList, {\n        reaction_counts: message.reaction_counts,\n        reactions: message.latest_reactions,\n        handleReaction: handleReaction\n      }), !initialMessage && /*#__PURE__*/React__default.createElement(MessageRepliesCountButton, {\n        onClick: handleOpenThread,\n        reply_count: message.reply_count\n      })))));\n    }\n  }]);\n\n  return MessageLivestream;\n}(React__default.PureComponent);\n\n_defineProperty(MessageLivestream, \"propTypes\", {\n  /** The [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n\n  /**\n   * The attachment UI component.\n   * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   *\n   * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n   *\n   * The higher order message component, most logic is delegated to this component\n   * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n   *\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /** If its parent message in thread. */\n  initialMessage: PropTypes.bool,\n\n  /** Channel config object */\n  channelConfig: PropTypes.object,\n\n  /** If component is in thread list */\n  threadList: PropTypes.bool,\n\n  /** Function to open thread on current messxage */\n  handleOpenThread: PropTypes.func,\n\n  /** If the message is in edit state */\n  editing: PropTypes.bool,\n\n  /** Function to exit edit state */\n  clearEditingState: PropTypes.func,\n\n  /** Returns true if message belongs to current user */\n  isMyMessage: PropTypes.func,\n\n  /**\n   * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n   * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n   * */\n  getMessageActions: PropTypes.func,\n\n  /**\n   * Function to publish updates on message to channel\n   *\n   * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n   * */\n  updateMessage: PropTypes.func,\n\n  /**\n   * Reattempt sending a message\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n   */\n  handleRetry: PropTypes.func,\n\n  /**\n   * Add or remove reaction on message\n   *\n   * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * @param event Dom event which triggered this function\n   */\n  handleReaction: PropTypes.func,\n\n  /** If actions such as edit, delete, flag, mute are enabled on message */\n  actionsEnabled: PropTypes.bool,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /**\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  handleAction: PropTypes.func,\n\n  /**\n   * The handler for hover event on @mention in message\n   *\n   * @param event Dom hover event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsHoverMessage: PropTypes.func,\n\n  /**\n   * The handler for click event on @mention in message\n   *\n   * @param event Dom click event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsClickMessage: PropTypes.func\n});\n\n_defineProperty(MessageLivestream, \"defaultProps\", {\n  Attachment\n});\n\nMessageLivestream = withTranslationContext(MessageLivestream);\n\nfunction _createSuper$U(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$U()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$U() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar reactionSvg$1 = '<svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\" fillRule=\"evenodd\"/></svg>';\nvar threadSvg$1 = '<svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\" fillRule=\"evenodd\" /></svg>';\nvar optionsSvg$1 = '<svg width=\"11\" height=\"3\" viewBox=\"0 0 11 3\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fillRule=\"nonzero\" /></svg>';\n/**\n * MessageTeam - Render component, should be used together with the Message component\n * Implements the look and feel for a team style collaboration environment\n *\n * @example ./docs/MessageTeam.md\n * @extends PureComponent\n */\n\nvar MessageTeam = /*#__PURE__*/function (_PureComponent) {\n  _inherits(MessageTeam, _PureComponent);\n\n  var _super = _createSuper$U(MessageTeam);\n\n  function MessageTeam() {\n    var _this;\n\n    _classCallCheck(this, MessageTeam);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      actionsBoxOpen: false,\n      reactionSelectorOpen: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"reactionSelectorRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"editMessageFormRef\", React__default.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickReactionsAction\", function () {\n      _this.setState({\n        reactionSelectorOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideReactions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickOptionsAction\", function () {\n      _this.setState({\n        actionsBoxOpen: true\n      }, function () {\n        return document.addEventListener('click', _this.hideOptions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideOptions\", function () {\n      _this.setState({\n        actionsBoxOpen: false\n      });\n\n      document.removeEventListener('click', _this.hideOptions, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideReactions\", function (e) {\n      if (!_this.reactionSelectorRef.current.reactionSelector.current.contains(e.target)) {\n        _this.setState({\n          reactionSelectorOpen: false\n        });\n\n        document.removeEventListener('click', _this.hideReactions, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeaveMessage\", function () {\n      _this.hideOptions();\n\n      _this.setState({\n        reactionSelectorOpen: false\n      }, function () {\n        return document.removeEventListener('click', _this.hideReactions, false);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatArray\", function (arr) {\n      var _this$props = _this.props,\n          t = _this$props.t,\n          client = _this$props.client;\n      var outStr = '';\n      var slicedArr = arr.filter(function (item) {\n        return item.id !== client.user.id;\n      }).map(function (item) {\n        return item.name || item.id;\n      }).slice(0, 5);\n      var restLength = arr.length - slicedArr.length;\n\n      if (slicedArr.length === 1) {\n        outStr = slicedArr[0] + ' ';\n      } else if (slicedArr.length === 2) {\n        //joins all with \"and\" but =no commas\n        //example: \"bob and sam\"\n        outStr = t('{{ firstUser }} and {{ secondUser }}', {\n          firstUser: slicedArr[0],\n          secondUser: slicedArr[1]\n        });\n      } else if (slicedArr.length > 2) {\n        //joins all with commas, but last one gets \", and\" (oxford comma!)\n        //example: \"bob, joe, sam and 4 more\"\n        outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n          commaSeparatedUsers: slicedArr.join(', '),\n          moreCount: restLength\n        });\n      }\n\n      return outStr;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderStatus\", function () {\n      var _this$props2 = _this.props,\n          readBy = _this$props2.readBy,\n          message = _this$props2.message,\n          threadList = _this$props2.threadList,\n          client = _this$props2.client,\n          lastReceivedId = _this$props2.lastReceivedId,\n          t = _this$props2.t;\n\n      if (!_this.isMine() || message.type === 'error') {\n        return null;\n      }\n\n      var justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n\n      if (message.status === 'sending') {\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-team-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, t('Sending...')), /*#__PURE__*/React__default.createElement(LoadingIndicator, {\n          isLoading: true\n        }));\n      } else if (readBy.length !== 0 && !threadList && !justReadByMe) {\n        var lastReadUser = readBy.filter(function (item) {\n          return item.id !== client.user.id;\n        })[0];\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-team-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, _this.formatArray(readBy)), /*#__PURE__*/React__default.createElement(Avatar, {\n          name: lastReadUser.name || lastReadUser.id,\n          image: lastReadUser.image,\n          size: 15\n        }), readBy.length - 1 > 1 && /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-team-status-number\"\n        }, readBy.length - 1));\n      } else if (message.status === 'received' && message.id === lastReceivedId && !threadList) {\n        return /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"str-chat__message-team-status\"\n        }, /*#__PURE__*/React__default.createElement(Tooltip, null, t('Delivered')), /*#__PURE__*/React__default.createElement(\"svg\", {\n          width: \"16\",\n          height: \"16\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/React__default.createElement(\"path\", {\n          d: \"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z\",\n          fill: \"#006CFF\",\n          fillRule: \"evenodd\"\n        })));\n      } else {\n        return null;\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(MessageTeam, [{\n    key: \"isMine\",\n    value: function isMine() {\n      return this.props.isMyMessage(this.props.message);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.hideOptions, false);\n      document.removeEventListener('click', this.hideReactions, false);\n    }\n  }, {\n    key: \"renderAttachments\",\n    value: function renderAttachments(attachments) {\n      var _this$props3 = this.props,\n          Attachment = _this$props3.Attachment,\n          message = _this$props3.message,\n          handleAction = _this$props3.handleAction;\n      return attachments.map(function (attachment, index) {\n        return /*#__PURE__*/React__default.createElement(Attachment, {\n          key: \"\".concat(message.id, \"-\").concat(index),\n          attachment: attachment,\n          actionHandler: handleAction\n        });\n      });\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          message = _this$props4.message,\n          groupStyles = _this$props4.groupStyles,\n          editing = _this$props4.editing,\n          clearEditingState = _this$props4.clearEditingState,\n          updateMessage = _this$props4.updateMessage,\n          threadList = _this$props4.threadList,\n          initialMessage = _this$props4.initialMessage,\n          handleReaction = _this$props4.handleReaction,\n          channelConfig = _this$props4.channelConfig,\n          handleOpenThread = _this$props4.handleOpenThread,\n          Message = _this$props4.Message,\n          messageListRect = _this$props4.messageListRect,\n          onMentionsHoverMessage = _this$props4.onMentionsHoverMessage,\n          onMentionsClickMessage = _this$props4.onMentionsClickMessage,\n          unsafeHTML = _this$props4.unsafeHTML,\n          handleRetry = _this$props4.handleRetry,\n          getMessageActions = _this$props4.getMessageActions,\n          isMyMessage = _this$props4.isMyMessage,\n          handleFlag = _this$props4.handleFlag,\n          handleMute = _this$props4.handleMute,\n          handleEdit = _this$props4.handleEdit,\n          handleDelete = _this$props4.handleDelete,\n          t = _this$props4.t,\n          tDateTimeParser = _this$props4.tDateTimeParser;\n\n      if (message.type === 'message.read') {\n        return null;\n      }\n\n      var hasAttachment = Boolean(message.attachments && message.attachments.length);\n\n      if (message.deleted_at) {\n        return null;\n      }\n\n      var galleryImages = message.attachments && message.attachments.filter(function (item) {\n        return item.type === 'image';\n      });\n      var attachments = message.attachments;\n\n      if (galleryImages && galleryImages.length > 1) {\n        attachments = message.attachments.filter(function (item) {\n          return item.type !== 'image';\n        });\n      } else {\n        galleryImages = [];\n      } // determine reaction selector alignment\n\n\n      var reactionDirection = 'left';\n\n      if (editing) {\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-team str-chat__message-team--\".concat(groupStyles[0], \" str-chat__message-team--editing\"),\n          onMouseLeave: this.onMouseLeaveMessage\n        }, (groupStyles[0] === 'top' || groupStyles[0] === 'single') && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"str-chat__message-team-meta\"\n        }, /*#__PURE__*/React__default.createElement(Avatar, {\n          image: message.user.image,\n          name: message.user.name || message.user.id,\n          size: 40\n        })), /*#__PURE__*/React__default.createElement(MessageInput, {\n          Input: EditMessageForm,\n          message: message,\n          clearEditingState: clearEditingState,\n          updateMessage: updateMessage\n        }));\n      }\n\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team str-chat__message-team--\".concat(groupStyles[0], \" str-chat__message-team--\").concat(message.type, \" \").concat(threadList ? 'thread-list' : '', \" str-chat__message-team--\").concat(message.status),\n        onMouseLeave: this.onMouseLeaveMessage\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-meta\"\n      }, groupStyles[0] === 'top' || groupStyles[0] === 'single' || initialMessage ? /*#__PURE__*/React__default.createElement(Avatar, {\n        image: message.user.image,\n        name: message.user.name || message.user.id,\n        size: 40\n      }) : /*#__PURE__*/React__default.createElement(\"div\", {\n        style: {\n          width: 40,\n          marginRight: 0\n        }\n      }), /*#__PURE__*/React__default.createElement(\"time\", {\n        dateTime: message.created_at,\n        title: message.created_at\n      }, Boolean(Date.parse(message.created_at)) && tDateTimeParser(message.created_at).format('h:mmA'))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-group\"\n      }, (groupStyles[0] === 'top' || groupStyles[0] === 'single' || initialMessage) && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-author\"\n      }, /*#__PURE__*/React__default.createElement(\"strong\", null, message.user.name || message.user.id), message.type === 'error' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-error-header\"\n      }, t('Only visible to you'))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-content str-chat__message-team-content--\".concat(groupStyles[0], \" str-chat__message-team-content--\").concat(message.text === '' ? 'image' : 'text')\n      }, !initialMessage && message.status !== 'sending' && message.status !== 'failed' && message.type !== 'system' && message.type !== 'ephemeral' && message.type !== 'error' && /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__message-team-actions\"\n      }, this.state.reactionSelectorOpen && /*#__PURE__*/React__default.createElement(ReactionSelector, {\n        handleReaction: handleReaction,\n        latest_reactions: message.latest_reactions,\n        reaction_counts: message.reaction_counts,\n        detailedView: true,\n        direction: reactionDirection,\n        ref: this.reactionSelectorRef\n      }), channelConfig && channelConfig.reactions && /*#__PURE__*/React__default.createElement(\"span\", {\n        title: \"Reactions\",\n        dangerouslySetInnerHTML: {\n          __html: reactionSvg$1\n        },\n        onClick: this.onClickReactionsAction\n      }), !threadList && channelConfig && channelConfig.replies && /*#__PURE__*/React__default.createElement(\"span\", {\n        title: \"Start a thread\",\n        dangerouslySetInnerHTML: {\n          __html: threadSvg$1\n        },\n        onClick: function onClick(e) {\n          return handleOpenThread(e, message);\n        }\n      }), getMessageActions().length > 0 && /*#__PURE__*/React__default.createElement(\"span\", {\n        onClick: this.onClickOptionsAction\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        title: \"Message actions\",\n        dangerouslySetInnerHTML: {\n          __html: optionsSvg$1\n        }\n      }), /*#__PURE__*/React__default.createElement(MessageActionsBox, {\n        getMessageActions: getMessageActions,\n        Message: Message,\n        open: this.state.actionsBoxOpen,\n        message: message,\n        messageListRect: messageListRect,\n        mine: isMyMessage(message),\n        handleFlag: handleFlag,\n        handleMute: handleMute,\n        handleEdit: handleEdit,\n        handleDelete: handleDelete\n      }))), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: isOnlyEmojis(message.text) ? 'str-chat__message-team-text--is-emoji' : '',\n        onMouseOver: onMentionsHoverMessage,\n        onClick: onMentionsClickMessage\n      }, unsafeHTML ? /*#__PURE__*/React__default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: message.html\n        }\n      }) : renderText(message)), galleryImages.length !== 0 && /*#__PURE__*/React__default.createElement(Gallery, {\n        images: galleryImages\n      }), message.text === '' && this.renderAttachments(attachments), message.latest_reactions && message.latest_reactions.length !== 0 && message.text !== '' && /*#__PURE__*/React__default.createElement(SimpleReactionsList, {\n        reaction_counts: message.reaction_counts,\n        handleReaction: handleReaction,\n        reactions: message.latest_reactions\n      }), message.status === 'failed' && /*#__PURE__*/React__default.createElement(\"button\", {\n        className: \"str-chat__message-team-failed\",\n        onClick: handleRetry.bind(this, message)\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"14\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\",\n        fill: \"#EA152F\",\n        fillRule: \"evenodd\"\n      })), t('Message failed. Click to try again.'))), this.renderStatus(), message.text !== '' && hasAttachment && this.renderAttachments(attachments), message.latest_reactions && message.latest_reactions.length !== 0 && message.text === '' && /*#__PURE__*/React__default.createElement(SimpleReactionsList, {\n        reaction_counts: message.reaction_counts,\n        handleReaction: handleReaction,\n        reactions: message.latest_reactions\n      }), !threadList && /*#__PURE__*/React__default.createElement(MessageRepliesCountButton, {\n        onClick: handleOpenThread,\n        reply_count: message.reply_count\n      }))));\n    }\n  }]);\n\n  return MessageTeam;\n}(PureComponent);\n\n_defineProperty(MessageTeam, \"propTypes\", {\n  /** The [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n\n  /**\n   * The attachment UI component.\n   * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n   * */\n  Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   *\n   * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n   *\n   * The higher order message component, most logic is delegated to this component\n   * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n   * */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.object]).isRequired,\n\n  /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n  unsafeHTML: PropTypes.bool,\n\n  /** Client object */\n  client: PropTypes.object,\n\n  /** If its parent message in thread. */\n  initialMessage: PropTypes.bool,\n\n  /** Channel config object */\n  channelConfig: PropTypes.object,\n\n  /** If component is in thread list */\n  threadList: PropTypes.bool,\n\n  /** Function to open thread on current messxage */\n  handleOpenThread: PropTypes.func,\n\n  /** If the message is in edit state */\n  editing: PropTypes.bool,\n\n  /** Function to exit edit state */\n  clearEditingState: PropTypes.func,\n\n  /** Returns true if message belongs to current user */\n  isMyMessage: PropTypes.func,\n\n  /**\n   * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n   * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n   * */\n  getMessageActions: PropTypes.func,\n\n  /**\n   * Function to publish updates on message to channel\n   *\n   * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n   * */\n  updateMessage: PropTypes.func,\n\n  /**\n   * Reattempt sending a message\n   * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n   */\n  handleRetry: PropTypes.func,\n\n  /**\n   * Add or remove reaction on message\n   *\n   * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n   * @param event Dom event which triggered this function\n   */\n  handleReaction: PropTypes.func,\n\n  /** DOMRect object for parent MessageList component */\n  messageListRect: PropTypes.object,\n\n  /**\n   * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n   *\n   * @param name {string} Name of action\n   * @param value {string} Value of action\n   * @param event Dom event that triggered this handler\n   */\n  handleAction: PropTypes.func,\n\n  /**\n   * The handler for hover event on @mention in message\n   *\n   * @param event Dom hover event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsHoverMessage: PropTypes.func,\n\n  /**\n   * The handler for click event on @mention in message\n   *\n   * @param event Dom click event which triggered handler.\n   * @param user Target user object\n   */\n  onMentionsClickMessage: PropTypes.func,\n\n  /** Position of message in group. Possible values: top, bottom, middle, single */\n  groupStyles: PropTypes.array\n});\n\n_defineProperty(MessageTeam, \"defaultProps\", {\n  Attachment,\n  groupStyles: ['single']\n});\n\nMessageTeam = withTranslationContext(MessageTeam);\n\nfunction ownKeys$9(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$9(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$9(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$9(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$V(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$V()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$V() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the standard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n * Underlying MessageList, MessageInput and Message components can be customized using props:\n * - additionalParentMessageProps\n * - additionalMessageListProps\n * - additionalMessageInputProps\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\n\n\nvar Thread$7 = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Thread, _React$PureComponent);\n\n  var _super = _createSuper$V(Thread);\n\n  function Thread() {\n    _classCallCheck(this, Thread);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Thread, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.thread) {\n        return null;\n      }\n\n      var parentID = this.props.thread.id;\n      var cid = this.props.channel.cid;\n      var key = \"thread-\".concat(parentID, \"-\").concat(cid); // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you switch thread the component is recreated\n\n      return /*#__PURE__*/React__default.createElement(ThreadInner, _extends({}, this.props, {\n        key: key\n      }));\n    }\n  }]);\n\n  return Thread;\n}(React__default.PureComponent);\n\n_defineProperty(Thread$7, \"propTypes\", {\n  /** Display the thread on 100% width of it's container. Useful for mobile style view */\n  fullWidth: PropTypes.bool,\n\n  /** Make input focus on mounting thread */\n  autoFocus: PropTypes.bool,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  channel: PropTypes.object.isRequired,\n\n  /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n  Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n   * The thread (the parent [message object](https://getstream.io/chat/docs/#message_format)) */\n  thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n\n  /**\n   * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n   * The array of immutable messages to render. By default they are provided by parent Channel component */\n  threadMessages: PropTypes.array.isRequired,\n\n  /**\n   * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n   *\n   * Function which provides next page of thread messages.\n   * loadMoreThread is called when infinite scroll wants to load more messages\n   * */\n  loadMoreThread: PropTypes.func.isRequired,\n\n  /**\n   * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n   * If there are more messages available, set to false when the end of pagination is reached.\n   * */\n  threadHasMore: PropTypes.bool,\n\n  /**\n   * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n   * If the thread is currently loading more messages. This is helpful to display a loading indicator on threadlist */\n  threadLoadingMore: PropTypes.bool,\n\n  /**\n   * Additional props for underlying Message component of parent message at the top.\n   * Available props - https://getstream.github.io/stream-chat-react/#message\n   * */\n  additionalParentMessageProps: PropTypes.object,\n\n  /**\n   * Additional props for underlying MessageList component.\n   * Available props - https://getstream.github.io/stream-chat-react/#messagelist\n   * */\n  additionalMessageListProps: PropTypes.object,\n\n  /**\n   * Additional props for underlying MessageInput component.\n   * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n   * */\n  additionalMessageInputProps: PropTypes.object,\n\n  /** Customized MessageInput component to used within Thread instead of default MessageInput \n      Useable as follows:\n      ```\n      <Thread MessageInput={(props) => <MessageInput parent={props.parent} Input={MessageInputSmall} /> }/>\n      ```\n  */\n  MessageInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n_defineProperty(Thread$7, \"defaultProps\", {\n  threadHasMore: true,\n  threadLoadingMore: true,\n  fullWidth: false,\n  autoFocus: true,\n  MessageInput\n});\n\nvar ThreadInner = /*#__PURE__*/function (_React$PureComponent2) {\n  _inherits(ThreadInner, _React$PureComponent2);\n\n  var _super2 = _createSuper$V(ThreadInner);\n\n  function ThreadInner(props) {\n    var _this;\n\n    _classCallCheck(this, ThreadInner);\n\n    _this = _super2.call(this, props);\n    _this.messageList = React__default.createRef();\n    return _this;\n  }\n\n  _createClass(ThreadInner, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var parentID;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                parentID = this.props.thread.id;\n\n                if (!(parentID && this.props.thread.reply_count)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.props.loadMoreThread();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      // Are we adding new items to the list?\n      // Capture the scroll position so we can adjust scroll later.\n      if (prevProps.threadMessages.length < this.props.threadMessages.length) {\n        var list = this.messageList.current;\n        return list.scrollHeight - list.scrollTop;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(prevProps, prevState, snapshot) {\n        var parentID, list, scrollDown;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                parentID = this.props.thread.id;\n\n                if (!(parentID && this.props.thread.reply_count > 0 && this.props.threadMessages.length === 0)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                _context2.next = 4;\n                return this.props.loadMoreThread();\n\n              case 4:\n                // If we have a snapshot value, we've just added new items.\n                // Adjust scroll so these new items don't push the old ones out of view.\n                // (snapshot here is the value returned from getSnapshotBeforeUpdate)\n                if (snapshot !== null) {\n                  list = this.messageList.current;\n\n                  scrollDown = function scrollDown() {\n                    list.scrollTop = list.scrollHeight - snapshot;\n                  };\n\n                  scrollDown(); // scroll down after images load again\n\n                  setTimeout(scrollDown, 100);\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidUpdate(_x, _x2, _x3) {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.props.thread) {\n        return null;\n      }\n\n      var t = this.props.t;\n      var read = {};\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__thread \".concat(this.props.fullWidth ? 'str-chat__thread--full' : '')\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__thread-header\"\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__thread-header-details\"\n      }, /*#__PURE__*/React__default.createElement(\"strong\", null, t('Thread')), /*#__PURE__*/React__default.createElement(\"small\", null, ' ', t('{{ replyCount }} replies', {\n        replyCount: this.props.thread.reply_count\n      }))), /*#__PURE__*/React__default.createElement(\"button\", {\n        onClick: function onClick(e) {\n          return _this2.props.closeThread(e);\n        },\n        className: \"str-chat__square-button\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"10\",\n        height: \"10\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z\",\n        fillRule: \"evenodd\"\n      })))), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__thread-list\",\n        ref: this.messageList\n      }, /*#__PURE__*/React__default.createElement(Message, _extends({\n        message: this.props.thread,\n        initialMessage: true,\n        threadList: true,\n        Message: this.props.Message // TODO: remove the following line in next release, since we already have additionalParentMessageProps now.\n\n      }, this.props, this.props.additionalParentMessageProps)), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__thread-start\"\n      }, t('Start of a new thread')), /*#__PURE__*/React__default.createElement(MessageList, _extends({\n        messages: this.props.threadMessages,\n        read: read,\n        threadList: true,\n        loadMore: this.props.loadMoreThread,\n        hasMore: this.props.threadHasMore,\n        loadingMore: this.props.threadLoadingMore,\n        Message: this.props.Message\n      }, this.props.additionalMessageListProps)), smartRender(this.props.MessageInput, _objectSpread$9({\n        MessageInputSmall: MessageInputSmallWithContext,\n        parent: this.props.thread,\n        focus: this.props.autoFocus\n      }, this.props.additionalMessageInputProps))));\n    }\n  }]);\n\n  return ThreadInner;\n}(React__default.PureComponent);\n\n_defineProperty(ThreadInner, \"propTypes\", {\n  /** Channel is passed via the Channel Context */\n  channel: PropTypes.object.isRequired,\n\n  /** the thread (just a message) that we're rendering */\n  thread: PropTypes.object.isRequired\n});\n\nThread$7 = withChannelContext(withTranslationContext(Thread$7));\n\nfunction _createSuper$W(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$W()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$W() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar TypingIndicator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(TypingIndicator, _React$PureComponent);\n\n  var _super = _createSuper$W(TypingIndicator);\n\n  function TypingIndicator() {\n    _classCallCheck(this, TypingIndicator);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(TypingIndicator, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this; // if (Object.keys(this.props.typing).length <= 0) {\n      //   return null;\n      // }\n\n\n      var typing = Object.values(this.props.typing);\n      var show;\n\n      if (typing.length === 0 || typing.length === 1 && typing[0].user.id === this.props.client.user.id) {\n        show = false;\n      } else {\n        show = true;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__typing-indicator \".concat(show ? 'str-chat__typing-indicator--typing' : '')\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__typing-indicator__avatars\"\n      }, typing.filter(function (_ref) {\n        var user = _ref.user;\n        return user.id !== _this.props.client.user.id;\n      }).map(function (_ref2) {\n        var user = _ref2.user;\n        return /*#__PURE__*/React__default.createElement(Avatar, {\n          image: user.image,\n          size: 32,\n          name: user.name || user.id,\n          key: user.id\n        });\n      })), /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__typing-indicator__dots\"\n      }, /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__typing-indicator__dot\"\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__typing-indicator__dot\"\n      }), /*#__PURE__*/React__default.createElement(\"span\", {\n        className: \"str-chat__typing-indicator__dot\"\n      })));\n    }\n  }]);\n\n  return TypingIndicator;\n}(React__default.PureComponent);\n\n_defineProperty(TypingIndicator, \"propTypes\", {\n  /** @see See [chat context](https://getstream.github.io/stream-chat-react/#chatcontext) doc */\n  client: PropTypes.object,\n\n  /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channelcontext) doc */\n  typing: PropTypes.object\n});\n\nfunction _createSuper$X(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct$X()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$X() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Window - A UI component for conditionally displaying thread or channel.\n *\n * @example ./docs/Window.md\n * @extends PureComponent\n */\n\n\nvar Window = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Window, _React$PureComponent);\n\n  var _super = _createSuper$X(Window);\n\n  function Window() {\n    _classCallCheck(this, Window);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Window, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          thread = _this$props.thread,\n          hideOnThread = _this$props.hideOnThread,\n          children = _this$props.children; // If thread is active and window should hide on thread. Return null\n\n      if (thread && hideOnThread) {\n        return null;\n      }\n\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"str-chat__main-panel\"\n      }, children);\n    }\n  }]);\n\n  return Window;\n}(React__default.PureComponent);\n\n_defineProperty(Window, \"propTypes\", {\n  /** show or hide the window when a thread is active */\n  hideOnThread: PropTypes.bool,\n\n  /** Flag if thread is open or not */\n  thread: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\n});\n\n_defineProperty(Window, \"defaultProps\", {\n  hideOnThread: false\n});\n\nWindow = withChannelContext(Window);\nexport { Attachment, AttachmentActions, Audio, Avatar, Card$1 as Card, Channel, ChannelContext, ChannelHeader, ChannelList, ChannelListMessenger, ChannelListTeam, ChannelPreview, ChannelPreviewCompact, ChannelPreviewCountOnly, ChannelPreviewLastMessage, ChannelPreviewMessenger, ChannelSearch, Chat, ChatAutoComplete, ChatContext, ChatDown, CommandItem, DateSeparator, EditMessageForm, EmoticonItem, EmptyStateIndicator, EventComponent, Gallery, Image, InfiniteScroll, InfiniteScrollPaginator, Item, KEY_CODES, List, LoadMoreButton, LoadMorePaginator, LoadingChannels, LoadingErrorIndicator, LoadingIndicator, MESSAGE_ACTIONS, Message, MessageActions, MessageActionsBox, MessageCommerce, MessageInput, MessageInputFlatWithContext as MessageInputFlat, MessageInputLargeWithContext as MessageInputLarge, MessageInputSmallWithContext as MessageInputSmall, MessageList, MessageLivestream, MessageNotification, MessageRepliesCountButton, MessageSimple, MessageTeam, Modal, ReactionSelector, ReactionsList, ReverseInfiniteScroll, SafeAnchor, SendButton, SimpleReactionsList, Streami18n, Thread$7 as Thread, Tooltip, TranslationContext, TypingIndicator, UserItem, Window, byDate, commonEmoji, defaultMinimalEmojis, defaultScrollToItem, emojiData, emojiSetDef, enTranslations, filterEmoji, formatArray, frTranslations, generateRandomId, hiTranslations, isOnlyEmojis, isPromise, itTranslations, Listeners as listener, nlTranslations, renderText, ruTranslations, smartRender, trTranslations, withChannelContext, withChatContext, withTranslationContext };","map":{"version":3,"sources":["../src/Streami18n.js","../src/components/SafeAnchor.js","../src/assets/Poweredby_100px-White_VertText.png","../src/context.js","../src/components/Card.js","../src/components/Image.js","../src/components/AttachmentActions.js","../src/components/Audio.js","../src/components/Attachment.js","../src/components/Avatar.js","../src/components/LoadingIndicator.js","../src/components/LoadingErrorIndicator.js","../src/utils.js","../src/components/MessageActionsBox.js","../src/components/ReactionsList.js","../src/components/Tooltip.js","../src/components/Gallery.js","../src/components/ReactionSelector.js","../src/components/MessageRepliesCountButton.js","../src/components/Modal.js","../src/components/AutoCompleteTextarea/listener.js","../src/components/AutoCompleteTextarea/Item.js","../src/components/AutoCompleteTextarea/List.js","../src/components/AutoCompleteTextarea/utils.js","../src/components/AutoCompleteTextarea/Textarea.js","../src/components/EmoticonItem.js","../src/components/UserItem.js","../src/components/CommandItem.js","../src/components/ChatAutoComplete.js","../src/components/MessageInputLarge.js","../src/components/SendButton.js","../src/components/MessageInput.js","../src/components/EditMessageForm.js","../src/components/MessageSimple.js","../src/components/Channel.js","../src/components/ChannelHeader.js","../src/components/ChannelPreviewLastMessage.js","../src/components/ChannelPreviewCountOnly.js","../src/components/ChannelPreview.js","../src/components/EmptyStateIndicator.js","../src/components/LoadingChannels.js","../src/components/LoadMoreButton.js","../src/components/LoadMorePaginator.js","../src/assets/str-chat__connection-error.svg","../src/components/ChatDown.js","../src/assets/str-chat__icon-chevron-down.svg","../src/components/ChannelListTeam.js","../src/components/ChannelList.js","../src/components/ChannelListMessenger.js","../src/components/ChannelPreviewCompact.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelSearch.js","../src/components/Chat.js","../src/components/DateSeparator.js","../src/components/EventComponent.js","../src/components/InfiniteScroll.js","../src/components/InfiniteScrollPaginator.js","../src/components/Message.js","../src/components/MessageActions.js","../src/components/MessageCommerce.js","../src/components/MessageInputFlat.js","../src/components/MessageInputSmall.js","../src/components/ReverseInfiniteScroll.js","../src/components/MessageNotification.js","../src/components/MessageList.js","../src/components/SimpleReactionsList.js","../src/components/MessageLivestream.js","../src/components/MessageTeam.js","../src/components/Thread.js","../src/components/TypingIndicator.js","../src/components/Window.js"],"names":["defaultNS","defaultLng","Dayjs","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","meridiemParse","meridiemHour","hour","meridiem","en_locale","weekdays","months","defaultStreami18nOptions","language","disableDateTimeTranslations","debug","logger","console","dayjsLocaleConfigForLanguage","DateTimeParser","Streami18n","i18n","en","enTranslations","nl","nlTranslations","ru","ruTranslations","tr","trTranslations","fr","frTranslations","hi","hiTranslations","it","itTranslations","options","finalOptions","Error","translationsForLanguage","nsSeparator","keySeparator","fallbackLng","lng","interpolation","escapeValue","parseMissingKeyHandler","resources","currentLanguage","t","tDateTimeParser","Object","availableLanguages","translation","name","key","SafeAnchor","React","href","sanitizeUrl","ChatContext","client","ContextAwareComponent","mergedProps","OriginalComponent","ChannelContext","TranslationContext","Card","PureComponent","title","PropTypes","title_link","og_scrape_url","image_url","thumb_url","text","string","url","trimmedUrl","type","image","withTranslationContext","Image","fallback","modalIsOpen","currentIndex","state","formattedArray","src","toggleModal","AttachmentActions","id","actions","actionHandler","isRequired","action","Audio","og","object","open","playing","progress","updateProgress","setInterval","window","position","duration","audioRef","React.createElement","width","Attachment","attachment","a","extra","results","prettybytes","attachmentRef","Avatar","shape","size","number","errored","loaded","prevProps","initials","height","flexBasis","lineHeight","fontSize","objectFit","onError","LoadingIndicator","color","stopColor","LoadingErrorIndicator","error","message","errorMessage","emojiSetDef","spriteUrl","sheetColumns","sheetRows","sheetSize","commonEmoji","emoticons","short_names","custom","defaultMinimalEmojis","colons","sheet_x","sheet_y","d","emojiData","isOnlyEmojis","noEmojis","emojiRegex","noSpace","isPromise","thing","byDate","b","formatArray","arr2","arr3","currentUserId","dict","outStr","renderText","mentioned_users","allowed","urls","anchorme","list","urlInfo","displayLink","truncate","length","omission","mkdown","newText","i","username","re","S4","Math","smartRender","ElementOrComponentOrLiteral","element","ComponentOrLiteral","MESSAGE_ACTIONS","edit","delete","flag","mute","filterEmoji","emoji","MessageActionsBox","Component","Message","mine","messageListRect","handleFlag","handleMute","handleEdit","handleDelete","getMessageActions","func","reverse","rect","ml","messageActions","actionsBoxRef","ReactionsList","reactions","reactionOptions","reaction_counts","reactionsByType","item","reactionsEmojis","cur","count","reactionList","Tooltip","Gallery","images","index","backgroundImage","imageCount","ReactionSelector","latest_reactions","handleReaction","detailedView","bool","showTooltip","users","arrowPosition","positionCalculated","target","e","positionCaculated","filtered","container","tooltip","reaction","latestUser","Boolean","hideTooltip","user","reactionSelector","visibility","left","opacity","MessageRepliesCountButton","labelSingle","labelPlural","reply_count","onClick","singleReplyText","pluralReplyText","replyCount","Modal","onClose","document","openClasses","handleClick","innerRef","KEY_CODES","ESC","UP","DOWN","ENTER","TAB","SPACE","Listener","code","keyCode","fn","Item","onSelectHandler","style","onClickHandler","selected","className","selectItem","List","selectedItem","Listeners","values","newValues","listener","textToReplace","onSelect","getTextToReplace","getSelectedItem","keyboard","oldPosition","newPosition","value","component","itemClassName","itemStyle","__html","itemHeight","parseInt","getComputedStyle","containerHight","itemOffsetTop","actualScrollTop","DEFAULT_CARET_POSITION","ReactTextareaAutocomplete","closeOnClickOutside","movePopupAsYouType","minChar","scrollToItem","maxRows","loadingComponent","trigger","top","currentTrigger","actualToken","data","dataLoading","selectionEnd","selectionStart","listenerIndex","nextProps","hasFocus","event","lastWordRegex","match","lastWord","spaces","newWord","textBeforeWord","textAfterCaret","bubbles","textareaValue","onChange","computeCaretPosition","startToken","token","Number","textToModify","startOfTokenPosition","newTokenString","newToken","newCaretPosition","modifiedText","triggerSettings","callback","output","String","caretPosition","dataProvider","providedData","Promise","Array","oldValue","oldTrigger","props","notSafe","onCaretPositionChange","textarea","tokenMatch","lastToken","newTop","newLeft","getCaretCoordinates","err","onBlur","el","defaultScrollToItem","Loader","listClassName","dropdownClassName","dropdownStyle","containerStyle","containerClassName","loaderStyle","loaderClassName","suggestionData","_dropdownScroll","triggerPropsCheck","triggers","triggerChar","settings","triggerSetting","afterWhitespace","allowWhitespace","listStyle","EmoticonItem","entity","native","char","UserItem","u","CommandItem","args","description","c","ChatAutoComplete","rows","grow","disabled","onPaste","handleSubmit","placeholder","onSelectItem","commands","onFocus","additionalTextareaProps","q","emojis","emojiIndex","matchingUsers","selectedCommands","nameA","nameB","found","MessageInputLarge","focus","imageOrder","imageUploads","removeImage","uploadImage","uploadNewFiles","numberOfUploads","fileOrder","fileUploads","removeFile","uploadFile","emojiPickerIsOpen","emojiPickerRef","onSelectEmoji","getUsers","getCommands","textareaRef","handleChange","openEmojiPicker","watcher_count","typing","multipleUploads","maxNumberOfFiles","acceptedFiles","SendButton","firstUser","secondUser","commaSeparatedUsers","lastUser","watcherCount","MessageInputLargeWithContext","sendMessage","Element","MessageInput","attachments","attach","generateRandomId","file","file_size","mention","Immutable","filePanelIsOpen","channel","parent","Input","doImageUploadRequest","doFileUploadRequest","prevText","prevState","textareaElement","textToInsert","newCursorPosition","members","watchers","member","userMap","logChatPromiseExecution","editing","trimmedMessage","isEmptyMessage","hasFiles","dupe","upload","asset_url","mime_type","updatedMessage","updateMessagePromise","uniq","sendMessagePromise","reader","img","response","alreadyRemoved","feedGroup","userId","items","dataTransferItemsHaveFiles","plainTextPromise","resolve","fileLikes","dataTransferItemsToFiles","s","handlers","panelRef","withChannelContext","EditMessageForm","clearEditingState","MessageSimple","unsafeHTML","initialMessage","channelConfig","threadList","handleOpenThread","isMyMessage","updateMessage","handleRetry","actionsEnabled","handleAction","onMentionsHoverMessage","onMentionsClickMessage","additionalMessageInputProps","isFocused","actionsBoxOpen","showDetailedReactions","slicedArr","restLength","arr","moreCount","readBy","lastReceivedId","justReadByMe","lastReadUser","_clickReactionList","when","messageClasses","hasAttachment","hasReactions","messageRef","reactionSelectorRef","html","Channel","watch","EmptyPlaceholder","onMentionsClick","onMentionsHover","doSendMessageRequest","doUpdateMessageRequest","cid","ChannelInner","loading","loadingMore","hasMore","messages","online","read","eventHistory","thread","threadMessages","threadLoadingMore","threadHasMore","debounce","leading","trailing","throttle","initialized","Visibility","parentID","oldMessages","oldestMessageID","limit","queryResponse","id_lt","extraState","threads","clientSideID","uuidv4","status","userID","created_at","parent_id","messageData","messageResponse","messagePreview","messageInput","userAutocomplete","threadState","mainChannelUpdated","unread","lastMessageId","oldestMessage","oldestID","perPage","tagName","textContent","userName","removeMessage","editMessage","retrySendMessage","loadMore","openThread","closeThread","loadMoreThread","_onMentionsHoverOrClick","core","withChatContext","ChannelHeader","live","openMobileNav","memberCount","member_count","ChannelPreviewLastMessage","activeChannel","setActiveChannel","active","latestMessage","latestMessageLength","unreadClass","activeClass","channelPreviewButton","ChannelPreviewCountOnly","ChannelPreview","lastMessage","lastRead","Preview","isActive","EmptyStateIndicator","listType","Indicator","LoadingChannels","LoadMoreButton","refreshing","children","LoadMorePaginator","loadNextPage","hasNextPage","ChatDown","ChannelListTeam","showSidebar","sidebarImage","chevrondown","ChannelList","Paginator","onMessageNew","onAddedToChannel","onRemovedFromChannel","onChannelUpdated","onChannelTruncated","onChannelDeleted","filters","sort","customAciveChannel","setActiveChannelOnMount","lockChannelOrder","channels","loadingChannels","offset","connectionRecoveredCount","channelUpdateCount","info","deepequal","newOptions","channelPromise","channelQueryResponse","customActiveChannel","newChannels","uniqBy","channelIndex","ChannelListMessenger","ChannelPreviewCompact","ChannelPreviewMessenger","ChannelSearch","Chat","theme","navOpen","i18nInstance","streami18n","setTimeout","closeMobileNav","DateSeparator","date","formatDate","Date","EventComponent","sentence","InfiniteScroll","initialLoad","isReverse","loader","pageStart","isLoading","threshold","useCapture","useWindow","ref","scrollEl","parentNode","doc","scrollTop","renderProps","childrenArray","InfiniteScrollPaginator","groupStyles","getFlagMessageSuccessNotification","getFlagMessageErrorNotification","getMuteUserSuccessNotification","getMuteUserErrorNotification","addNotification","setEditingState","shouldUpdate","returnValue","successMessage","userExistingReaction","currentUser","originalMessage","reactionChangePromise","messageID","reactionType","formData","messageActionsProps","mutes","messageActionsAfterPermission","config","MessageActions","onClickReact","actionBox","reactionBox","MessageCommerce","array","MessageInputFlat","MessageInputFlatWithContext","MessageInputSmall","openFilePanel","MessageInputSmallWithContext","ReverseInfiniteScroll","listenToScroll","reverseOffset","standardOffset","MessageNotification","showNotification","MessageList","newMessagesNotification","notifications","TypingIndicator","dateSeparator","noGroupByUser","messageLimit","MessageSystem","HeaderComponent","clearTimeout","offsetTop","offsetBottom","snapshot","userScrolledUp","currentLastMessage","previousLastMessage","hasNewMessage","isOwner","scrollToBottom","scrollDown","isElement","isNumber","containerEl","newMessages","messageDate","prevMessageDate","eventsNextToMessage","messageTime","nextMessageTime","headerPosition","readData","readState","userLastReadMsgId","msg","l","m","messageGroupStyles","previousMessage","nextMessage","isTopMessage","isBottomMessage","nextIndex","newNotifications","ct","notification","allMessages","elements","messageList","bottomRef","Center","Notification","SimpleReactionsList","reactionSelectorTooltip","reactionSvg","threadSvg","optionsSvg","MessageLivestream","reactionSelectorOpen","galleryImages","onMouseLeaveMessage","onClickReactionsAction","onClickOptionsAction","MessageTeam","reactionDirection","marginRight","Thread","fullWidth","autoFocus","additionalParentMessageProps","additionalMessageListProps","ThreadInner","show","Window","hideOnThread"],"mappings":"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","sourcesContent":["import i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport {\n  enTranslations,\n  nlTranslations,\n  ruTranslations,\n  trTranslations,\n  frTranslations,\n  hiTranslations,\n  itTranslations,\n} from './i18n';\n\nconst defaultNS = 'translation';\nconst defaultLng = 'en';\n\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\n// These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\nimport 'dayjs/locale/en';\n\nDayjs.extend(updateLocale);\n\nDayjs.updateLocale('nl', {\n  calendar: {\n    sameDay: '[vandaag om] LT',\n    nextDay: '[morgen om] LT',\n    nextWeek: 'dddd [om] LT',\n    lastDay: '[gisteren om] LT',\n    lastWeek: '[afgelopen] dddd [om] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('it', {\n  calendar: {\n    sameDay: '[Oggi alle] LT',\n    nextDay: '[Domani alle] LT',\n    nextWeek: 'dddd [alle] LT',\n    lastDay: '[Ieri alle] LT',\n    lastWeek: '[lo scorso] dddd [alle] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('hi', {\n  calendar: {\n    sameDay: '[‡§Ü‡§ú] LT',\n    nextDay: '[‡§ï‡§≤] LT',\n    nextWeek: 'dddd, LT',\n    lastDay: '[‡§ï‡§≤] LT',\n    lastWeek: '[‡§™‡§ø‡§õ‡§≤‡•á] dddd, LT',\n    sameElse: 'L',\n  },\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n  meridiemParse: /‡§∞‡§æ‡§§|‡§∏‡•Å‡§¨‡§π|‡§¶‡•ã‡§™‡§π‡§∞|‡§∂‡§æ‡§Æ/,\n  meridiemHour(hour, meridiem) {\n    if (hour === 12) {\n      hour = 0;\n    }\n    if (meridiem === '‡§∞‡§æ‡§§') {\n      return hour < 4 ? hour : hour + 12;\n    } else if (meridiem === '‡§∏‡•Å‡§¨‡§π') {\n      return hour;\n    } else if (meridiem === '‡§¶‡•ã‡§™‡§π‡§∞') {\n      return hour >= 10 ? hour : hour + 12;\n    } else if (meridiem === '‡§∂‡§æ‡§Æ') {\n      return hour + 12;\n    }\n  },\n  meridiem(hour) {\n    if (hour < 4) {\n      return '‡§∞‡§æ‡§§';\n    } else if (hour < 10) {\n      return '‡§∏‡•Å‡§¨‡§π';\n    } else if (hour < 17) {\n      return '‡§¶‡•ã‡§™‡§π‡§∞';\n    } else if (hour < 20) {\n      return '‡§∂‡§æ‡§Æ';\n    } else {\n      return '‡§∞‡§æ‡§§';\n    }\n  },\n});\nDayjs.updateLocale('fr', {\n  calendar: {\n    sameDay: '[Aujourd‚Äôhui √†] LT',\n    nextDay: '[Demain √†] LT',\n    nextWeek: 'dddd [√†] LT',\n    lastDay: '[Hier √†] LT',\n    lastWeek: 'dddd [dernier √†] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('tr', {\n  calendar: {\n    sameDay: '[bug√ºn saat] LT',\n    nextDay: '[yarƒ±n saat] LT',\n    nextWeek: '[gelecek] dddd [saat] LT',\n    lastDay: '[d√ºn] LT',\n    lastWeek: '[ge√ßen] dddd [saat] LT',\n    sameElse: 'L',\n  },\n});\nDayjs.updateLocale('ru', {\n  calendar: {\n    sameDay: '[–°–µ–≥–æ–¥–Ω—è, –≤] LT',\n    nextDay: '[–ó–∞–≤—Ç—Ä–∞, –≤] LT',\n    lastDay: '[–í—á–µ—Ä–∞, –≤] LT',\n  },\n});\n\nconst en_locale = {\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\n    '_',\n  ),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n    '_',\n  ),\n};\n\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related translations.\n * Instance of this class should be provided to Chat component to handle translations.\n * Stream provides following list of in-built translations:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': '‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä ‡§®‡§æ‡§π‡•Ä  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} ‡§Ü‡§£‡§ø {{ secondUser }} ‡§ü‡•Ä‡§™‡•Ä ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á‡§§ ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime translations\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': '‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä ‡§®‡§æ‡§π‡•Ä  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} ‡§Ü‡§£‡§ø {{ secondUser }} ‡§ü‡•Ä‡§™‡•Ä ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á‡§§ ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream compoments, you can set `disableDateTimeTranslations` to true.\n *\n */\nconst defaultStreami18nOptions = {\n  language: 'en',\n  disableDateTimeTranslations: false,\n  debug: false,\n  logger: (msg) => console.warn(msg),\n  dayjsLocaleConfigForLanguage: null,\n  DateTimeParser: Dayjs,\n};\nexport class Streami18n {\n  i18nInstance = i18n.createInstance();\n  Dayjs = null;\n  setLanguageCallback = () => null;\n  initialized = false;\n\n  t = null;\n  tDateTimeParser = null;\n  translations = {\n    en: { [defaultNS]: enTranslations },\n    nl: { [defaultNS]: nlTranslations },\n    ru: { [defaultNS]: ruTranslations },\n    tr: { [defaultNS]: trTranslations },\n    fr: { [defaultNS]: frTranslations },\n    hi: { [defaultNS]: hiTranslations },\n    it: { [defaultNS]: itTranslations },\n  };\n  /**\n   * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n   * when user calls registerTranslation() function. So intead we will store the locale configs\n   * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n   * with moment, when setLanguage is called.\n   * */\n  dayjsLocales = {};\n  /**\n   * Contructor accepts following options:\n   *  - language (String) default: 'en'\n   *    Language code e.g., en, tr\n   *\n   *  - translationsForLanguage (object)\n   *    Translations object. Please check src/i18n/en.json for example.\n   *\n   *  - disableDateTimeTranslations (boolean) default: false\n   *    Disable translations for datetimes\n   *\n   *  - debug (boolean) default: false\n   *    Enable debug mode in internal i18n class\n   *\n   *  - logger (function) default: () => {}\n   *    Logger function to log warnings/errors from this class\n   *\n   *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n   *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n   *    corresponding to language (param)\n   *\n   *  - DateTimeParser (function) Moment or Dayjs instance/function.\n   *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n   *\n   * @param {*} options\n   */\n  constructor(options = {}) {\n    const finalOptions = {\n      ...defaultStreami18nOptions,\n      ...options,\n    };\n    // Prepare the i18next configuration.\n    this.logger = finalOptions.logger;\n\n    this.currentLanguage = finalOptions.language;\n    this.DateTimeParser = finalOptions.DateTimeParser;\n\n    try {\n      // This is a shallow check to see if given parser is instance of Dayjs.\n      // For some reason Dayjs.isDayjs(this.DateTimeParser()) doesn't work.\n      if (this.DateTimeParser && this.DateTimeParser.extend) {\n        this.DateTimeParser.extend(LocalizedFormat);\n        this.DateTimeParser.extend(calendar);\n        this.DateTimeParser.extend(localeData);\n        this.DateTimeParser.extend(relativeTime);\n      }\n    } catch (error) {\n      throw Error(\n        `Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins`,\n        error,\n      );\n    }\n\n    this.isCustomDateTimeParser = !!options.DateTimeParser;\n    const translationsForLanguage = finalOptions.translationsForLanguage;\n\n    if (translationsForLanguage) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: translationsForLanguage,\n      };\n    }\n\n    // If translations don't exist for given language, then set it as empty object.\n    if (!this.translations[this.currentLanguage]) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: {},\n      };\n    }\n\n    this.i18nextConfig = {\n      nsSeparator: false,\n      keySeparator: false,\n      fallbackLng: false,\n      debug: finalOptions.debug,\n      lng: this.currentLanguage,\n      interpolation: { escapeValue: false },\n\n      parseMissingKeyHandler: (key) => {\n        this.logger(`Streami18n: Missing translation for key: ${key}`);\n\n        return key;\n      },\n    };\n\n    this.validateCurrentLanguage(this.currentLanguage);\n\n    const dayjsLocaleConfigForLanguage =\n      finalOptions.dayjsLocaleConfigForLanguage;\n\n    if (dayjsLocaleConfigForLanguage) {\n      this.addOrUpdateLocale(this.currentLanguage, {\n        ...dayjsLocaleConfigForLanguage,\n      });\n    } else if (!this.localeExists(this.currentLanguage)) {\n      this.logger(\n        `Streami18n: Streami18n(...) - Locale config for ${this.currentLanguage} does not exist in momentjs.` +\n          `Please import the locale file using \"import 'moment/locale/${this.currentLanguage}';\" in your app or ` +\n          `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`,\n      );\n    }\n\n    this.tDateTimeParser = (timestamp) => {\n      if (\n        finalOptions.disableDateTimeTranslations ||\n        !this.localeExists(this.currentLanguage)\n      ) {\n        return this.DateTimeParser(timestamp).locale(defaultLng);\n      }\n      return this.DateTimeParser(timestamp).locale(this.currentLanguage);\n    };\n  }\n\n  /**\n   * Initializes the i18next instance with configuration (which enables natural language as default keys)\n   */\n  async init() {\n    this.validateCurrentLanguage();\n    try {\n      this.t = await this.i18nInstance.init({\n        ...this.i18nextConfig,\n        resources: this.translations,\n        lng: this.currentLanguage,\n      });\n      this.initialized = true;\n\n      return {\n        t: this.t,\n        tDateTimeParser: this.tDateTimeParser,\n      };\n    } catch (e) {\n      this.logger(`Something went wrong with init:`, e);\n    }\n  }\n\n  localeExists = (language) => {\n    if (this.isCustomDateTimeParser) return true;\n\n    return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n  };\n\n  validateCurrentLanguage = () => {\n    const availableLanguages = Object.keys(this.translations);\n    if (availableLanguages.indexOf(this.currentLanguage) === -1) {\n      this.logger(\n        `Streami18n: '${this.currentLanguage}' language is not registered.` +\n          ` Please make sure to call streami18n.registerTranslation('${this.currentLanguage}', {...}) or ` +\n          `use one the built-in supported languages - ${this.getAvailableLanguages()}`,\n      );\n\n      this.currentLanguage = defaultLng;\n    }\n  };\n\n  /** Returns an instance of i18next used within this class instance */\n  geti18Instance = () => this.i18nInstance;\n\n  /** Returns list of available languages. */\n  getAvailableLanguages = () => Object.keys(this.translations);\n\n  /** Returns all the translation dictionary for all inbuilt-languages */\n  getTranslations = () => this.translations;\n\n  /**\n   * Returns current version translator function.\n   */\n  async getTranslators() {\n    if (!this.initialized) {\n      if (this.dayjsLocales[this.currentLanguage]) {\n        this.addOrUpdateLocale(\n          this.currentLanguage,\n          this.dayjsLocales[this.currentLanguage],\n        );\n      }\n      return await this.init();\n    } else {\n      return {\n        t: this.t,\n        tDateTimeParser: this.tDateTimeParser,\n      };\n    }\n  }\n\n  /**\n   * Register translation\n   *\n   * @param {*} language\n   * @param {*} translation\n   * @param {*} customDayjsLocale\n   */\n  registerTranslation(language, translation, customDayjsLocale) {\n    if (!translation) {\n      this.logger(\n        `Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation`,\n      );\n      return;\n    }\n\n    if (!this.translations[language]) {\n      this.translations[language] = { [defaultNS]: translation };\n    } else {\n      this.translations[language][defaultNS] = translation;\n    }\n\n    if (customDayjsLocale) {\n      this.dayjsLocales[language] = { ...customDayjsLocale };\n    } else if (!this.localeExists(language)) {\n      this.logger(\n        `Streami18n: registerTranslation(language, translation, customDayjsLocale) - ` +\n          `Locale config for ${language} does not exist in Dayjs.` +\n          `Please import the locale file using \"import 'dayjs/locale/${language}';\" in your app or ` +\n          `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`,\n      );\n    }\n\n    if (this.initialized) {\n      this.i18nInstance.addResources(language, defaultNS, translation);\n    }\n  }\n\n  addOrUpdateLocale(key, config) {\n    if (this.localeExists(key)) {\n      Dayjs.updateLocale(key, { ...config });\n    } else {\n      // Merging the custom locale config with en config, so missing keys can default to english.\n      Dayjs.locale({ name: key, ...{ ...en_locale, ...config } }, null, true);\n    }\n  }\n\n  /**\n   * Changes the language.\n   * @param {*} language\n   */\n  async setLanguage(language) {\n    this.currentLanguage = language;\n\n    if (!this.initialized) return;\n\n    try {\n      const t = await this.i18nInstance.changeLanguage(language);\n      if (this.dayjsLocales[language]) {\n        this.addOrUpdateLocale(\n          this.currentLanguage,\n          this.dayjsLocales[this.currentLanguage],\n        );\n      }\n\n      this.setLanguageCallback(t);\n      return t;\n    } catch (e) {\n      this.logger(`Failed to set language:`, e);\n    }\n  }\n\n  /**\n   *\n   * @param {*} callback\n   */\n  registerSetLanguageCallback(callback) {\n    this.setLanguageCallback = callback;\n  }\n}\n","// @ts-check\nimport React from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\n\n/**\n * SafeAnchor - In all ways similar to a regular anchor tag.\n * The difference is that it sanitizes the href value and prevents XSS\n * @augments {React.PureComponent<React.DetailedHTMLProps<React.AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>>}\n */\nexport class SafeAnchor extends React.PureComponent {\n  render() {\n    if (!this.props.href) return;\n    const href = sanitizeUrl(this.props.href);\n    return (\n      <a {...this.props} href={href}>\n        {this.props.children}\n      </a>\n    );\n  }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAkCAYAAAB/up84AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABVhJREFUeNrsW6GS20AMdToGBgEGAQYBBgEBBQYFgQcP5hMO9jP6CYWFBwsPBgYUGBQEFAQUGAQYBBgYGHjmutt5O6NupbXXcZJrx5rJXGyv11o96Ukr52avr6/BJG9HZmMBMpvNYnxt1JzNZNoRAYFxM2Z8rT6FuueMcaH6s1KfhBn3U42r1Jg1rrfq+Bt5xgf1Z64+uQFQndNzLc1Ydfwg6F2p6wd1PVXfU+b6Gc9vHGuh8+jrsXVN61Sq64XggNw95tlH9XmP6y3W2OI+qvN3db6mN7/zBFAb8L2aNMJxRsDQC6jIuEyN039LnAvV8QJKRRijZUHmT8iiLpEFDHKJaB1TGN732WuAokEIDQCwhwGjsMEIMNgp6qY9JlsTgyXquCFG1d54IsbOsKAVPLDBcQJjUxB0RJwAltGntNQ46GhzqPnb0y0954RG/1iLQ7SRCkR+guiPtW6GFRg5gAlCrFvbJEZ0ngDAUn0/Y77fDCJFXuiB/AmGDC3PLg0YWLRW5CcJWWPglNxDKS6C59AcZBs/sYxbOQBqHHkuZYCsGCds4SQJDDx3RK3RjUb9EfMUcLQ57BHS64MAIYtYkvEt+d4wCzqr++ipkoTtkihOI2chREfA5KiC0GOAaMig05zoWJPjgMk39jxcPphDR0mSDrtq438g51iq8omQlEnYJfHoiAFxYQGko6bCPSmZ5wS+TRx0Zc5R4CtmHbEVJT+0p1uOYdNE1SMfOKNO0zXWEmItptApsfYa1LV0UZUPIHSCmlRYJhfokNWhX5IcsmIWbEAMCQWerWirhZK57MghNQyzgke3QuQWPUv4EAac9wCuJjmkNmvUNEwiobX+DgdEWoQGgNDPGtTWWhRRWONX5JlnePCZhP1JUCOzPN1O0C2MohP7xuiko8Qy9INUDBg2YPJMlzP8pRv0qYeUdu+Cy+RAKIYmtVqojM5kkS0DwkXlLuY0ICzgAEOlAd8fPe+rYJdppz61TiZ5G4AgcScWz05RcUtAkOwyJMtI4FzNt3suCWKfwLUhdqRC0yA/enB1CZ4vBZ2fhIptJ4x/5PYVavyzQ39N0V8ddnsQ+m3sfX02hjo3bIVJ7d5PhqojZxYdC3NEdv9oQMQWFFjHHqpLEsc9BZyF23c9cG0ZOJjUIN15V1mY8OOAhW0E77yWaP2eoO9VBFG/d6yX6/xuHT2z3AsQ5ImnjrZBF6XcUiKAEl0RlJzZ7ZtnbxmqSgRqfxmyD9k6wNDGzuExecB3Z1/ukBOjQH73MZbspChFp9nQ/EYY9+LaaIYOqlo7JjwISX+LcBwbjAOz2ZKS7BpOcq0o0R2HvZAbHpHPJGc+dm00paQuedmOA4O0WD5fyQ4V08Ip4ATxhYl8CCh76/0QLVyehlBVFyCpYJTcKmPjHoY8XNE2VQ8dbIkdr4Z95npBwcNVahKzNEMBSYSyz46iLm8sLunreG5O+xYTsaMUHYu6bMn79sRCT2+8l6SMV2cCT5e3UspBXbbd9n3nDIN/Q1KP3JDfWLcd8kZwCVX12hjeOlmOIMe+L6FGjJLC4QS5rz6hg/tThjZiU0Pr/g7D65/uCUafKgaUJu0lHjvox/XsjXA+GAOQUogIXV8/v7GoKOGJfYuHxvHjt7t3rEMHD2+E5PoR+5GCLCS+8g6Z2xgGt6anuwGC99MSKAl6RrfUs/ofje+b1PcjlJBlMMk4gKBUe77AqKVP/T1Jj30IQPmCTdkm6NeKb5BkJzCGdCA8XuFGZIOWCBEh/mwGiZ/rFZXk3xHEdkjHb6MknVOhypJe+Sac03XlL4fe3r81mH518q9GyCS3kV8CDADlsrVaJhTLAgAAAABJRU5ErkJggg==\"","import React from 'react';\nimport Dayjs from 'dayjs';\n\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChatContext.Consumer>\n        {(context) => {\n          const mergedProps = { ...context, ...props };\n          return <OriginalComponent {...mergedProps} />;\n        }}\n      </ChatContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChannelContext.Consumer>\n        {(channelContext) => (\n          <OriginalComponent {...channelContext} {...props} />\n        )}\n      </ChannelContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const TranslationContext = React.createContext({\n  t: (msg) => msg,\n  tDateTimeParser: (input) => Dayjs(input),\n});\n\nexport function withTranslationContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <TranslationContext.Consumer>\n        {(translationContext) => (\n          <OriginalComponent {...translationContext} {...props} />\n        )}\n      </TranslationContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n","// @ts-check\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { SafeAnchor } from './SafeAnchor';\n// @ts-ignore\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { withTranslationContext } from '../context';\n\n/**\n * Card - Simple Card Layout\n *\n * @example ./docs/Card.md\n * @type Card { import(\"../../types/index.d.ts\").CardProps }\n */\nclass Card extends React.PureComponent {\n  static propTypes = {\n    /** Title returned by the OG scraper */\n    title: PropTypes.string,\n    /** Link returned by the OG scraper */\n    title_link: PropTypes.string,\n    /** The scraped url, used as a fallback if the OG-data doesn't include a link */\n    og_scrape_url: PropTypes.string,\n    /** The url of the full sized image */\n    image_url: PropTypes.string,\n    /** The url for thumbnail sized image*/\n    thumb_url: PropTypes.string,\n    /** Description returned by the OG scraper */\n    text: PropTypes.string,\n  };\n\n  /** @type {(url: string) => any} Typescript syntax */\n  trimUrl = (url) => {\n    let trimmedUrl;\n    if (url !== undefined && url !== null) {\n      trimmedUrl = url\n        .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n        .split('/')[0];\n    }\n    return trimmedUrl;\n  };\n\n  render() {\n    const {\n      title,\n      title_link,\n      text,\n      type,\n      image_url,\n      thumb_url,\n      og_scrape_url,\n      t,\n    } = this.props;\n    const image = thumb_url || image_url;\n\n    if (!title && !title_link && !image) {\n      return (\n        <div\n          className={`str-chat__message-attachment-card str-chat__message-attachment-card--${type}`}\n        >\n          <div className=\"str-chat__message-attachment-card--content\">\n            <div className=\"str-chat__message-attachment-card--text\">\n              {t('this content could not be displayed')}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (!title_link && !og_scrape_url) {\n      return null;\n    }\n\n    return (\n      <div\n        className={`str-chat__message-attachment-card str-chat__message-attachment-card--${type}`}\n      >\n        {image && (\n          <div className=\"str-chat__message-attachment-card--header\">\n            <img src={image} alt={image} />\n          </div>\n        )}\n        <div className=\"str-chat__message-attachment-card--content\">\n          <div className=\"str-chat__message-attachment-card--flex\">\n            {title && (\n              <div className=\"str-chat__message-attachment-card--title\">\n                {title}\n              </div>\n            )}\n            {text && (\n              <div className=\"str-chat__message-attachment-card--text\">\n                {text}\n              </div>\n            )}\n            {(title_link || og_scrape_url) && (\n              <SafeAnchor\n                href={title_link || og_scrape_url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"str-chat__message-attachment-card--url\"\n              >\n                {this.trimUrl(title_link || og_scrape_url)}\n              </SafeAnchor>\n            )}\n          </div>\n          {type === 'giphy' && (\n            <img\n              className=\"str-chat__message-attachment-card__giphy-logo\"\n              src={giphyLogo}\n              alt=\"giphy logo\"\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslationContext(Card);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Carousel, { Modal, ModalGateway } from 'react-images';\n\n/**\n * Image - Small wrapper around an image tag, supports thumbnails\n *\n * @example ./docs/Image.md\n * @extends PureComponent\n */\nexport class Image extends React.PureComponent {\n  static propTypes = {\n    /** The full size image url */\n    image_url: PropTypes.string,\n    /** The thumb url */\n    thumb_url: PropTypes.string,\n    /** The text fallback for the image */\n    fallback: PropTypes.string,\n  };\n  state = {\n    modalIsOpen: false,\n    currentIndex: 0,\n  };\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      modalIsOpen: !state.modalIsOpen,\n    }));\n  };\n\n  render() {\n    const { image_url, thumb_url, fallback } = this.props;\n    const formattedArray = [{ src: image_url || thumb_url }];\n    return (\n      <React.Fragment>\n        <img\n          className=\"str-chat__message-attachment--img\"\n          onClick={this.toggleModal}\n          src={thumb_url || image_url}\n          alt={fallback}\n        />\n        <ModalGateway>\n          {this.state.modalIsOpen ? (\n            <Modal onClose={this.toggleModal}>\n              <Carousel views={formattedArray} />\n            </Modal>\n          ) : null}\n        </ModalGateway>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * AttachmentActions - The actions you can take on an attachment\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport class AttachmentActions extends React.PureComponent {\n  static propTypes = {\n    /** Unique id for action button key. Key is generated by concatenating this id with action value - {`${id}-${action.value}`} */\n    id: PropTypes.string.isRequired,\n    /** The text for the form input */\n    text: PropTypes.string,\n    /** A list of actions */\n    actions: PropTypes.array.isRequired,\n    /**\n     *\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    actionHandler: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { text, id, actions, actionHandler } = this.props;\n\n    return (\n      <div className=\"str-chat__message-attachment-actions\">\n        <form className=\"str-chat__message-attachment-actions-form\">\n          <span key={0}>{text}</span>\n          {actions.map((action) => (\n            <button\n              className={`str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--${action.style}`}\n              key={`${id}-${action.value}`}\n              data-value={action.value}\n              onClick={actionHandler.bind(this, action.name, action.value)}\n            >\n              {action.text}\n            </button>\n          ))}\n        </form>\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Audio extends React.Component {\n  static propTypes = {\n    /** Attachment object of audio type */\n    og: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      playing: false,\n      progress: 0,\n      updateProgress: null,\n    };\n    this.audioRef = React.createRef();\n  }\n\n  playAudio = () => {\n    if (this.audioRef.current !== null) {\n      this.audioRef.current.pause();\n      this.updateProgress();\n      this.setState({\n        playing: true,\n        updateProgress: setInterval(this.updateProgress, 500),\n      });\n      //$FlowFixMe\n      this.audioRef.current.play();\n    }\n  };\n\n  pauseAudio = () => {\n    if (this.audioRef.current !== null) {\n      this.audioRef.current.pause();\n    }\n    this.setState({ playing: false });\n    window.clearInterval(this.state.updateProgress);\n  };\n\n  updateProgress = () => {\n    if (this.audioRef.current !== null) {\n      const position = this.audioRef.current.currentTime;\n      const duration = this.audioRef.current.duration;\n      const progress = (100 / duration) * position;\n      this.setState({\n        progress,\n      });\n      if (position === duration) {\n        this.pauseAudio();\n      }\n    }\n  };\n\n  componentWillUnmount() {\n    window.clearInterval(this.state.updateProgress);\n  }\n\n  render() {\n    const { og } = this.props;\n    const audio = og;\n    const url = og.asset_url;\n    const image = og.image_url;\n    return (\n      <div className=\"str-chat__audio\">\n        <div className=\"str-chat__audio__wrapper\">\n          <audio ref={this.audioRef}>\n            <source src={url} type=\"audio/mp3\" />\n          </audio>\n          <div className=\"str-chat__audio__image\">\n            <div className=\"str-chat__audio__image--overlay\">\n              {!this.state.playing ? (\n                <div\n                  onClick={() => this.playAudio()}\n                  className=\"str-chat__audio__image--button\"\n                >\n                  <svg\n                    width=\"40\"\n                    height=\"40\"\n                    viewBox=\"0 0 64 64\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z\"\n                      fillRule=\"nonzero\"\n                    />\n                  </svg>\n                </div>\n              ) : (\n                <div\n                  onClick={() => this.pauseAudio()}\n                  className=\"str-chat__audio__image--button\"\n                >\n                  <svg\n                    width=\"40\"\n                    height=\"40\"\n                    viewBox=\"0 0 64 64\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z\"\n                      fillRule=\"nonzero\"\n                    />\n                  </svg>\n                </div>\n              )}\n            </div>\n            <img src={image} alt={`${og.description}`} />\n          </div>\n          <div className=\"str-chat__audio__content\">\n            <span className=\"str-chat__audio__content--title\">\n              <strong>{og.title}</strong>\n            </span>\n            <span className=\"str-chat__audio__content--subtitle\">\n              {og.text}\n            </span>\n            <div className=\"str-chat__audio__content--progress\">\n              <div style={{ width: `${this.state.progress}%` }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport ReactPlayer from 'react-player';\nimport Card from './Card';\nimport { Image } from './Image';\nimport { AttachmentActions } from './AttachmentActions';\nimport { FileIcon } from 'react-file-utils';\nimport prettybytes from 'pretty-bytes';\nimport PropTypes from 'prop-types';\nimport { SafeAnchor } from './SafeAnchor';\n\nimport { Audio } from './Audio';\n/**\n * Attachment - The message attachment\n *\n * @example ./docs/Attachment.md\n * @extends PureComponent\n */\nexport class Attachment extends PureComponent {\n  attachmentRef = React.createRef();\n  static propTypes = {\n    /**\n     * The attachment to render\n     * @see See [Attachment structure](https://getstream.io/chat/docs/#message_format)\n     *\n     *  */\n    attachment: PropTypes.object.isRequired,\n    /**\n     *\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    actionHandler: PropTypes.func.isRequired,\n  };\n\n  attachmentType(a) {\n    let type, extra;\n    if (a.actions && a.actions.length > 0) {\n      extra = 'actions';\n    }\n    if (a.type === 'giphy' || a.type === 'imgur') {\n      type = 'card';\n    } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n      type = 'card';\n    } else if (a.type === 'image') {\n      type = 'image';\n    } else if (a.type === 'file') {\n      type = 'file';\n    } else if (a.type === 'audio') {\n      type = 'audio';\n    } else if (a.type === 'video') {\n      type = 'media';\n    } else {\n      type = 'card';\n      extra = 'no-image';\n    }\n    return { type, extra };\n  }\n\n  renderAttachmentActions = (a) => (\n    <AttachmentActions\n      key={'key-actions-' + a.id}\n      {...a}\n      actionHandler={this.props.actionHandler}\n    />\n  );\n\n  renderAttachment = (a) => (\n    <div className=\"str-chat__attachment\" key={`key-image-${a.id}`}>\n      <Card {...a} key={`key-card-${a.id}`} />\n      {this.renderAttachmentActions(a)}\n    </div>\n  );\n\n  render() {\n    const { attachment: a } = this.props;\n    if (!a) {\n      return null;\n    }\n\n    const { type, extra } = this.attachmentType(a);\n    if (type === 'card' && !a.title_link && !a.og_scrape_url) {\n      return null;\n    }\n    const results = [];\n    if (type === 'image') {\n      if (a.actions && a.actions.length) {\n        results.push(\n          <div className=\"str-chat__attachment\" key={`key-image-${a.id}`}>\n            <Image {...a} />\n            {this.renderAttachmentActions(a)}\n          </div>,\n        );\n      } else {\n        results.push(<Image {...a} key={`key-image-${a.id}`} />);\n      }\n    } else if (type === 'file') {\n      a.asset_url &&\n        results.push(\n          <div\n            className=\"str-chat__message-attachment-file--item\"\n            key={`key-file-${a.id}`}\n          >\n            <FileIcon\n              mimeType={a.mime_type}\n              filename={a.title}\n              big={true}\n              size={30}\n            />\n            <div className=\"str-chat__message-attachment-file--item-text\">\n              <SafeAnchor href={a.asset_url} target=\"_blank\" download>\n                {a.title}\n              </SafeAnchor>\n              {a.file_size && <span>{prettybytes(a.file_size)}</span>}\n            </div>\n          </div>,\n        );\n    } else if (type === 'audio') {\n      results.push(\n        <div className=\"str-chat__attachment\" key={`key-video-${a.id}`}>\n          <Audio og={a} />\n        </div>,\n      );\n    } else if (type === 'media') {\n      if (a.actions && a.actions.length) {\n        results.push(\n          <div className=\"str-chat__attachment\" key={`key-video-${a.id}`}>\n            <div className=\"str-chat__player-wrapper\">\n              <ReactPlayer\n                className=\"react-player\"\n                url={a.asset_url}\n                width=\"100%\"\n                height=\"100%\"\n                controls\n              />\n            </div>\n            {this.renderAttachmentActions(a)}\n          </div>,\n        );\n      } else {\n        results.push(\n          <div className=\"str-chat__player-wrapper\" key={`key-video-${a.id}`}>\n            <ReactPlayer\n              className=\"react-player\"\n              url={a.asset_url}\n              width=\"100%\"\n              height=\"100%\"\n              controls\n            />\n          </div>,\n        );\n      }\n    } else {\n      if (a.actions && a.actions.length) {\n        results.push(this.renderAttachment(a));\n      } else {\n        results.push(<Card {...a} key={`key-card-${a.id}`} />);\n      }\n    }\n\n    if (results.length === 0) return null;\n\n    return (\n      <div\n        className={`str-chat__message-attachment str-chat__message-attachment--${type} str-chat__message-attachment--${a.type} str-chat__message-attachment--${type}--${extra}`}\n        ref={this.attachmentRef}\n      >\n        {results}\n      </div>\n    );\n  }\n}\n\nAttachment.propTypes = {};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Avatar - A round avatar image with fallback to username's first letter\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport class Avatar extends React.PureComponent {\n  static propTypes = {\n    /** image url */\n    image: PropTypes.string,\n    /** name of the picture, used for title tag fallback */\n    name: PropTypes.string,\n    /** shape of the avatar, circle, rounded or square */\n    shape: PropTypes.oneOf(['circle', 'rounded', 'square']),\n    /** size in pixels */\n    size: PropTypes.number,\n  };\n\n  static defaultProps = {\n    size: 32,\n    shape: 'circle',\n  };\n\n  state = {\n    errored: false,\n    loaded: false,\n  };\n\n  getInitials = (name) =>\n    name\n      ? name\n          .split(' ')\n          .slice(0, 1)\n          .map((name) => name.charAt(0))\n      : null;\n\n  onLoad = () => {\n    this.setState({ loaded: true });\n  };\n\n  onError = () => {\n    this.setState({ errored: true });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.image !== this.props.image) {\n      this.setState({ loaded: false, errored: false });\n    }\n  }\n\n  render() {\n    const { size, name, shape, image } = this.props;\n    const initials = this.getInitials(name);\n    return (\n      <div\n        className={`str-chat__avatar str-chat__avatar--${shape}`}\n        title={name}\n        style={{\n          width: size,\n          height: size,\n          flexBasis: size,\n          lineHeight: size + 'px',\n          fontSize: size / 2,\n        }}\n      >\n        {image && !this.state.errored ? (\n          <img\n            src={image}\n            alt={initials}\n            className={\n              'str-chat__avatar-image' +\n              (this.state.loaded ? ' str-chat__avatar-image--loaded' : '')\n            }\n            style={{\n              width: size,\n              height: size,\n              flexBasis: size,\n              objectFit: 'cover',\n            }}\n            onLoad={this.onLoad}\n            onError={this.onError}\n          />\n        ) : (\n          <div className=\"str-chat__avatar-fallback\">{initials}</div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport svg from '../assets/str-chat__loading-indicator.svg';\n\n/**\n * LoadingIndicator - Just a simple loading spinner..\n *\n * @example ./docs/LoadingIndicator.md\n * @extends PureComponent\n */\nexport class LoadingIndicator extends React.PureComponent {\n  static propTypes = {\n    /** The size of the loading icon */\n    size: PropTypes.number,\n    /** Set the color of the LoadingIndicator */\n    color: PropTypes.string,\n  };\n  static defaultProps = {\n    size: 15,\n    color: '#006CFF',\n  };\n\n  stopRef = React.createRef();\n\n  render() {\n    const { size, color } = this.props;\n    return (\n      <div\n        className={'str-chat__loading-indicator ' + color}\n        style={{ width: size, height: size }}\n      >\n        <svg\n          width={size}\n          height={size}\n          viewBox={`0 0 30 30`}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <defs>\n            <linearGradient x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"a\">\n              <stop stopColor=\"#FFF\" stopOpacity=\"0\" offset=\"0%\" />\n              <stop\n                ref={this.stopRef}\n                offset=\"100%\"\n                stopColor={color}\n                stopOpacity=\"1\"\n                style={{ stopColor: color }}\n              />\n            </linearGradient>\n          </defs>\n          <path\n            d=\"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z\"\n            fill=\"url(#a)\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\n/**\n * LoadingErrorIndicator - UI component for error indicator in Channel.\n *\n * @example ./docs/LoadingErrorIndicator.md\n * @extends PureComponent\n */\nclass LoadingErrorIndicator extends React.PureComponent {\n  static propTypes = {\n    /** Error object */\n    error: PropTypes.oneOfType([\n      PropTypes.shape({\n        message: PropTypes.string,\n      }),\n      PropTypes.bool,\n    ]),\n  };\n  static defaultProps = {\n    error: false,\n  };\n\n  render() {\n    if (!this.props.error) return null;\n\n    const { t } = this.props;\n    return (\n      <div>\n        {t('Error: {{ errorMessage }}', {\n          errorMessage: this.props.error.message,\n        })}\n      </div>\n    );\n  }\n}\n\nLoadingErrorIndicator = withTranslationContext(LoadingErrorIndicator);\nexport { LoadingErrorIndicator };\n","import anchorme from 'anchorme';\nimport emojiRegex from 'emoji-regex';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport truncate from 'lodash/truncate';\nimport data from 'emoji-mart/data/all.json';\nimport React from 'react';\n\nexport const emojiSetDef = {\n  spriteUrl: 'https://getstream.imgix.net/images/emoji-sprite.png',\n  size: 20,\n  sheetColumns: 2,\n  sheetRows: 3,\n  sheetSize: 64,\n};\n\nexport const commonEmoji = {\n  emoticons: [],\n  short_names: [],\n  custom: true,\n};\n\nexport const defaultMinimalEmojis = [\n  {\n    id: 'like',\n    name: 'like',\n    colons: ':+1:',\n    sheet_x: 0,\n    sheet_y: 0,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n  {\n    id: 'love',\n    name: 'love',\n    colons: ':heart:',\n    sheet_x: 1,\n    sheet_y: 2,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n  {\n    id: 'haha',\n    name: 'haha',\n    colons: ':joy:',\n    sheet_x: 1,\n    sheet_y: 0,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n  {\n    id: 'wow',\n    name: 'wow',\n    colons: ':astonished:',\n    sheet_x: 0,\n    sheet_y: 2,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n  {\n    id: 'sad',\n    name: 'sad',\n    colons: ':pensive:',\n    sheet_x: 0,\n    sheet_y: 1,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n  {\n    id: 'angry',\n    name: 'angry',\n    colons: ':angry:',\n    sheet_x: 1,\n    sheet_y: 1,\n    ...commonEmoji,\n    ...emojiSetDef,\n  },\n];\n\nconst d = Object.assign({}, data);\nd.emojis = {};\n\n// use this only for small lists like in ReactionSelector\nexport const emojiData = d;\n\nexport const isOnlyEmojis = (text) => {\n  if (!text) return false;\n\n  const noEmojis = text.replace(emojiRegex(), '');\n  const noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n  return !noSpace;\n};\n\nexport const isPromise = (thing) => thing && typeof thing.then === 'function';\n\nexport const byDate = (a, b) => a.created_at - b.created_at;\n\n// https://stackoverflow.com/a/29234240/7625485\n/**\n * @deprecated This function is deprecated and will be removed in future major release.\n * @param {*} dict\n * @param {*} currentUserId\n */\nexport const formatArray = (dict, currentUserId) => {\n  const arr2 = Object.keys(dict);\n  const arr3 = [];\n  arr2.forEach((item, i) => {\n    if (currentUserId === dict[arr2[i]].user.id) {\n      return;\n    }\n\n    arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n  });\n  let outStr = '';\n  if (arr3.length === 1) {\n    outStr = arr3[0] + ' is typing...';\n    dict;\n  } else if (arr3.length === 2) {\n    //joins all with \"and\" but =no commas\n    //example: \"bob and sam\"\n    outStr = arr3.join(' and ') + ' are typing...';\n  } else if (arr3.length > 2) {\n    //joins all with commas, but last one gets \", and\" (oxford comma!)\n    //example: \"bob, joe, and sam\"\n    outStr =\n      arr3.slice(0, -1).join(', ') +\n      ', and ' +\n      arr3.slice(-1) +\n      ' are typing...';\n  }\n\n  return outStr;\n};\n\nexport const renderText = (message) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users } = message;\n\n  if (!text) {\n    return;\n  }\n\n  const allowed = [\n    'html',\n    'root',\n    'text',\n    'break',\n    'paragraph',\n    'emphasis',\n    'strong',\n    'link',\n    'list',\n    'listItem',\n    'code',\n    'inlineCode',\n    'blockquote',\n    'delete',\n  ];\n\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users && mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  return (\n    <ReactMarkdown\n      allowedTypes={allowed}\n      source={newText}\n      linkTarget=\"_blank\"\n      plugins={[]}\n      escapeHtml={true}\n      skipHtml={false}\n      unwrapDisallowed={true}\n    />\n  );\n};\n\n// https://stackoverflow.com/a/6860916/2570866\nexport function generateRandomId() {\n  // prettier-ignore\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nexport const smartRender = (ElementOrComponentOrLiteral, props, fallback) => {\n  if (ElementOrComponentOrLiteral === undefined) {\n    ElementOrComponentOrLiteral = fallback;\n  }\n  if (React.isValidElement(ElementOrComponentOrLiteral)) {\n    // Flow cast through any, to make flow believe it's a React.Element\n    const element = ElementOrComponentOrLiteral; // eslint-disable-line\n    return element;\n  }\n\n  // Flow cast through any to remove React.Element after previous check\n  const ComponentOrLiteral = ElementOrComponentOrLiteral;\n\n  if (\n    typeof ComponentOrLiteral === 'string' ||\n    typeof ComponentOrLiteral === 'number' ||\n    typeof ComponentOrLiteral === 'boolean' ||\n    ComponentOrLiteral == null\n  ) {\n    return ComponentOrLiteral;\n  }\n  return <ComponentOrLiteral {...props} />;\n};\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  flag: 'flag',\n  mute: 'mute',\n};\n\nexport const filterEmoji = (emoji) => {\n  if (\n    emoji.name === 'White Smiling Face' ||\n    emoji.name === 'White Frowning Face'\n  ) {\n    return false;\n  }\n  return true;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MESSAGE_ACTIONS } from '../utils';\nimport { withTranslationContext } from '../context';\n\n/**\n * MessageActionsBox - A component for taking action on a message\n *\n * @example ./docs/MessageActionsBox.md\n * @extends PureComponent\n */\nclass MessageActionsBox extends React.Component {\n  static propTypes = {\n    /** If the message actions box should be open or not */\n    open: PropTypes.bool.isRequired,\n    /**\n     * @deprecated\n     *\n     *  The message component, most logic is delegated to this component and MessageActionsBox uses the following functions explicitly:\n     *  `handleFlag`, `handleMute`, `handleEdit`, `handleDelete`, `canDeleteMessage`, `canEditMessage`, `isMyMessage`, `isAdmin`\n     */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** If message belongs to current user. */\n    mine: PropTypes.bool,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /**\n     * Handler for flaging a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleFlag: PropTypes.func,\n    /**\n     * Handler for muting a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleMute: PropTypes.func,\n    /**\n     * Handler for editing a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleEdit: PropTypes.func,\n    /**\n     * Handler for deleting a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleDelete: PropTypes.func,\n    /**\n     * Returns array of avalable message actions for current message.\n     * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n     */\n    getMessageActions: PropTypes.func,\n  };\n\n  static defaultProps = {\n    open: false,\n  };\n\n  actionsBoxRef = React.createRef();\n\n  state = {\n    reverse: false,\n    rect: null,\n  };\n\n  componentDidMount() {}\n\n  async componentDidUpdate(prevProps) {\n    if (!prevProps.open && this.props.open) {\n      if (this.state.rect === null) {\n        await this.setState({\n          rect: this.actionsBoxRef.current.getBoundingClientRect(),\n        });\n      }\n      const ml = this.props.messageListRect;\n\n      if (this.props.mine) {\n        this.setState({\n          reverse: this.state.rect.left < ml.left ? true : false,\n        });\n      } else if (!this.props.mine) {\n        this.setState({\n          reverse: this.state.rect.right + 5 > ml.right ? true : false,\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      handleFlag,\n      handleMute,\n      handleEdit,\n      handleDelete,\n      getMessageActions,\n      t,\n    } = this.props;\n    const messageActions = getMessageActions();\n\n    return (\n      <div\n        className={`str-chat__message-actions-box\n          ${this.props.open ? 'str-chat__message-actions-box--open' : ''}\n          ${this.props.mine ? 'str-chat__message-actions-box--mine' : ''}\n          ${this.state.reverse ? 'str-chat__message-actions-box--reverse' : ''}\n        `}\n        ref={this.actionsBoxRef}\n      >\n        <ul className=\"str-chat__message-actions-list\">\n          {messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && (\n            <button onClick={handleFlag}>\n              <li className=\"str-chat__message-actions-list-item\">\n                {t('Flag')}\n              </li>\n            </button>\n          )}\n          {messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && (\n            <button onClick={handleMute}>\n              <li className=\"str-chat__message-actions-list-item\">\n                {t('Mute')}\n              </li>\n            </button>\n          )}\n          {messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && (\n            <button onClick={handleEdit}>\n              <li className=\"str-chat__message-actions-list-item\">\n                {t('Edit Message')}\n              </li>\n            </button>\n          )}\n          {messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && (\n            <button onClick={handleDelete}>\n              <li className=\"str-chat__message-actions-list-item\">\n                {t('Delete')}\n              </li>\n            </button>\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nMessageActionsBox = withTranslationContext(MessageActionsBox);\nexport { MessageActionsBox };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { NimbleEmoji } from 'emoji-mart';\n\nimport { defaultMinimalEmojis, emojiSetDef, emojiData } from '../utils';\n\nexport class ReactionsList extends React.Component {\n  static propTypes = {\n    /** List of reactions */\n    reactions: PropTypes.array,\n    /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n    reactionOptions: PropTypes.array,\n    /** If true, reaction list will be shown at trailing end of message bubble. */\n    reverse: PropTypes.bool,\n    /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n    reaction_counts: PropTypes.object,\n  };\n\n  static defaultProps = {\n    reactionOptions: defaultMinimalEmojis,\n    emojiSetDef,\n    reverse: false,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  _renderReactions = (reactions) => {\n    const reactionsByType = {};\n    reactions.map((item) => {\n      if (reactions[item.type] === undefined) {\n        return (reactionsByType[item.type] = [item]);\n      } else {\n        return (reactionsByType[item.type] = [\n          ...reactionsByType[item.type],\n          item,\n        ]);\n      }\n    });\n\n    const reactionsEmojis = this.props.reactionOptions.reduce(\n      (acc, cur) => ({ ...acc, [cur.id]: cur }),\n      {},\n    );\n\n    return Object.keys(reactionsByType).map((type) =>\n      reactionsEmojis[type] ? (\n        <li key={reactionsEmojis[type].id}>\n          <NimbleEmoji\n            emoji={reactionsEmojis[type]}\n            {...emojiSetDef}\n            size={16}\n            data={emojiData}\n          />{' '}\n          &nbsp;\n        </li>\n      ) : null,\n    );\n  };\n\n  _getReactionCount = () => {\n    const reaction_counts = this.props.reaction_counts;\n    let count = null;\n    if (\n      reaction_counts !== null &&\n      reaction_counts !== undefined &&\n      Object.keys(reaction_counts).length > 0\n    ) {\n      count = 0;\n      Object.keys(reaction_counts).map(\n        (key) => (count += reaction_counts[key]),\n      );\n    }\n    return count;\n  };\n\n  render() {\n    return (\n      <div\n        className={`str-chat__reaction-list ${\n          this.props.reverse ? 'str-chat__reaction-list--reverse' : ''\n        }`}\n        onClick={this.props.onClick}\n        ref={this.reactionList}\n      >\n        <ul>\n          {this._renderReactions(this.props.reactions)}\n          <li>\n            <span className=\"str-chat__reaction-list--counter\">\n              {this._getReactionCount()}\n            </span>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport class Tooltip extends React.PureComponent {\n  render() {\n    return <div className=\"str-chat__tooltip\">{this.props.children}</div>;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\nimport { withTranslationContext } from '../context';\n\n/**\n * Gallery - displays up to 6 images in a simple responsive grid with a lightbox to view the images.\n * @example ./docs/Gallery.md\n * @extends PureComponent\n */\nclass Gallery extends React.PureComponent {\n  static propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        /** Url of the image */\n        image_url: PropTypes.string,\n        /** Url of thumbnail of image */\n        thumb_url: PropTypes.string,\n      }),\n    ),\n  };\n\n  state = {\n    modalIsOpen: false,\n    currentIndex: 0,\n  };\n\n  toggleModal = (index) => {\n    this.setState((state) => ({\n      modalIsOpen: !state.modalIsOpen,\n      currentIndex: index,\n    }));\n  };\n\n  render() {\n    const { images, t } = this.props;\n    const formattedArray = images.map((image) => ({\n      src: image.image_url || image.thumb_url,\n    }));\n    return (\n      <div className=\"str-chat__gallery\">\n        {images.slice(0, 3).map((image, i) => (\n          <div\n            className=\"str-chat__gallery-image\"\n            key={`gallery-image-${i}`}\n            onClick={() => this.toggleModal(i)}\n          >\n            <img src={image.image_url || image.thumb_url} />\n          </div>\n        ))}\n        {images.length > 3 && (\n          <div\n            className=\"str-chat__gallery-placeholder\"\n            style={{\n              backgroundImage: `url(${images[3].image_url})`,\n            }}\n            onClick={() => this.toggleModal(3)}\n          >\n            <p>\n              {t('{{ imageCount }} more', {\n                imageCount: images.length - 3,\n              })}\n            </p>\n          </div>\n        )}\n        {/* <Lightbox\n          images={formattedArray}\n          isOpen={this.state.lightboxIsOpen}\n          onClickPrev={this.gotoPrevLightboxImage}\n          onClickNext={this.gotoNextLightboxImage}\n          onClose={this.closeLightbox}\n          backdropClosesModal\n          currentImage={this.state.imageIndex}\n        /> */}\n        <ModalGateway>\n          {this.state.modalIsOpen ? (\n            <Modal onClose={this.toggleModal} closeOnBackdropClick={true}>\n              <Carousel\n                views={formattedArray}\n                currentIndex={this.state.currentIndex}\n              />\n            </Modal>\n          ) : null}\n        </ModalGateway>\n      </div>\n    );\n  }\n}\n\nGallery = withTranslationContext(Gallery);\n\nexport { Gallery };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { NimbleEmoji } from 'emoji-mart';\n\nimport { Avatar } from './Avatar';\n\nimport { defaultMinimalEmojis, emojiSetDef, emojiData } from '../utils';\n\n/**\n * ReactionSelector - A component for selecting a reaction. Examples are love, wow, like etc.\n *\n * @example ./docs/ReactionSelector.md\n * @extends PureComponent\n */\nexport class ReactionSelector extends PureComponent {\n  static propTypes = {\n    /**\n     * Array of latest reactions.\n     * Reaction object has following structure:\n     *\n     * ```json\n     * {\n     *  \"type\": \"love\",\n     *  \"user_id\": \"demo_user_id\",\n     *  \"user\": {\n     *    ...userObject\n     *  },\n     *  \"created_at\": \"datetime\";\n     * }\n     * ```\n     * */\n    latest_reactions: PropTypes.array,\n    /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n    reaction_counts: PropTypes.object,\n    /**\n     * Handler to set/unset reaction on message.\n     *\n     * @param type e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * */\n    handleReaction: PropTypes.func.isRequired,\n    /** Enable the avatar display */\n    detailedView: PropTypes.bool,\n    /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n    reactionOptions: PropTypes.array,\n    /** If true, reaction list will be shown at trailing end of message bubble. */\n    reverse: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    detailedView: true,\n    reactionOptions: defaultMinimalEmojis,\n    reverse: false,\n    emojiSetDef,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showTooltip: false,\n      users: [],\n      position: 0,\n      arrowPosition: 0,\n      positionCalculated: false,\n    };\n    this.reactionSelector = React.createRef();\n    this.reactionSelectorInner = React.createRef();\n    this.reactionSelectorTooltip = React.createRef();\n  }\n\n  showTooltip = async (e, users) => {\n    const target = e.target.getBoundingClientRect();\n    await this.setState(\n      () => ({\n        showTooltip: true,\n        users,\n      }),\n      async () => {\n        await this.setTooltipPosition(target);\n        await this.setArrowPosition(target);\n      },\n    );\n  };\n\n  hideTooltip = () => {\n    this.setState(() => ({\n      showTooltip: false,\n      users: [],\n      arrowPosition: 0,\n      position: 0,\n      positionCaculated: false,\n    }));\n  };\n\n  getUsersPerReaction = (reactions, type) =>\n    reactions && reactions.filter((item) => item.type === type);\n\n  getLatestUser = (reactions, type) => {\n    const filtered = this.getUsersPerReaction(reactions, type);\n    if (filtered && filtered[0] && filtered[0].user) {\n      return filtered[0].user;\n    } else {\n      return 'NotFound';\n    }\n  };\n\n  getUserNames = (reactions, type) => {\n    const filtered = this.getUsersPerReaction(reactions, type);\n    return filtered && filtered.map((item) => item.user || 'NotFound');\n  };\n\n  getContainerDimensions = () =>\n    this.reactionSelector.current.getBoundingClientRect();\n  getToolTipDimensions = () =>\n    this.reactionSelectorTooltip.current.getBoundingClientRect();\n\n  setTooltipPosition = async (target) => {\n    const container = await this.getContainerDimensions();\n    const tooltip = await this.getToolTipDimensions();\n    let position;\n\n    if (tooltip.width === container.width || tooltip.x < container.x) {\n      position = 0;\n    } else {\n      position =\n        target.left + target.width / 2 - container.left - tooltip.width / 2;\n    }\n\n    await this.setState(() => ({\n      position,\n    }));\n  };\n\n  setArrowPosition = async (target) => {\n    const tooltip = this.reactionSelectorTooltip.current.getBoundingClientRect();\n    const position = target.x - tooltip.x + target.width / 2;\n\n    await this.setState(() => ({\n      arrowPosition: position,\n      positionCaculated: true,\n    }));\n  };\n\n  renderReactionItems = () => {\n    const { reaction_counts, latest_reactions } = this.props;\n    return this.props.reactionOptions.map((reaction) => {\n      const users = this.getUserNames(latest_reactions, reaction.id);\n      const latestUser = this.getLatestUser(latest_reactions, reaction.id);\n\n      const count = reaction_counts && reaction_counts[reaction.id];\n\n      return (\n        <li\n          key={`item-${reaction.id}`}\n          className=\"str-chat__message-reactions-list-item\"\n          data-text={reaction.id}\n          onClick={this.props.handleReaction.bind(this, reaction.id)}\n        >\n          {Boolean(count) && this.props.detailedView && (\n            <React.Fragment>\n              <div\n                className=\"latest-user\"\n                onMouseEnter={(e) => this.showTooltip(e, users)}\n                onMouseLeave={this.hideTooltip}\n              >\n                {latestUser !== 'NotFound' ? (\n                  <Avatar\n                    image={latestUser.image}\n                    alt={latestUser.id}\n                    size={20}\n                    name={latestUser.id}\n                  />\n                ) : (\n                  <div className=\"latest-user-not-found\" />\n                )}\n              </div>\n            </React.Fragment>\n          )}\n          <NimbleEmoji emoji={reaction} {...emojiSetDef} data={emojiData} />\n\n          {Boolean(count) && this.props.detailedView && (\n            <span className=\"str-chat__message-reactions-list-item__count\">\n              {count || ''}\n            </span>\n          )}\n        </li>\n      );\n    });\n  };\n\n  renderUsers = (users) =>\n    users.map((user, i) => {\n      let text = user.name || user.id;\n      if (i + 1 < users.length) {\n        text += ', ';\n      }\n      return (\n        <span className=\"latest-user-username\" key={`key-${i}-${user}`}>\n          {text}\n        </span>\n      );\n    });\n\n  render() {\n    return (\n      <div\n        className={`str-chat__reaction-selector ${\n          this.props.reverse ? 'str-chat__reaction-selector--reverse' : ''\n        }`}\n        ref={this.reactionSelector}\n      >\n        {this.props.detailedView && (\n          <div\n            className=\"str-chat__reaction-selector-tooltip\"\n            ref={this.reactionSelectorTooltip}\n            style={{\n              visibility: this.state.showTooltip ? 'visible' : 'hidden',\n              left: this.state.position,\n              opacity:\n                this.state.showTooltip && this.state.positionCaculated\n                  ? 1\n                  : 0.01,\n            }}\n          >\n            <div className=\"arrow\" style={{ left: this.state.arrowPosition }} />\n            {this.renderUsers(this.state.users)}\n          </div>\n        )}\n\n        <ul className=\"str-chat__message-reactions-list\">\n          {this.renderReactionItems()}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nclass MessageRepliesCountButton extends React.PureComponent {\n  static propTypes = {\n    /** Label for number of replies, when count is 1 */\n    labelSingle: PropTypes.string,\n    /** Label for number of replies, when count is more than 1 */\n    labelPlural: PropTypes.string,\n    /** Number of replies */\n    reply_count: PropTypes.number,\n    /**\n     * click handler for button\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    onClick: PropTypes.func,\n  };\n  static defaultProps = {\n    reply_count: 0,\n  };\n\n  render() {\n    const { reply_count, labelSingle, labelPlural, t } = this.props;\n    let singleReplyText;\n    let pluralReplyText;\n\n    if (reply_count === 1) {\n      if (labelSingle) {\n        singleReplyText = `1 ${labelSingle}`;\n      } else {\n        singleReplyText = t('1 reply');\n      }\n    }\n\n    if (reply_count > 1) {\n      if (labelPlural) {\n        pluralReplyText = `${reply_count} ${labelPlural}`;\n      } else {\n        pluralReplyText = t('{{ replyCount }} replies', {\n          replyCount: reply_count,\n        });\n      }\n    }\n\n    if (reply_count && reply_count !== 0) {\n      return (\n        <button\n          className=\"str-chat__message-replies-count-button\"\n          onClick={this.props.onClick}\n        >\n          <svg width=\"18\" height=\"15\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M.56 10.946H.06l-.002-.498L.025.92a.5.5 0 1 1 1-.004l.032 9.029H9.06v-4l9 4.5-9 4.5v-4H.56z\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n          {reply_count === 1 ? singleReplyText : pluralReplyText}\n        </button>\n      );\n    }\n    return null;\n  }\n}\n\nMessageRepliesCountButton = withTranslationContext(MessageRepliesCountButton);\nexport { MessageRepliesCountButton };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Modal extends React.PureComponent {\n  innerRef = React.createRef();\n  static propTypes = {\n    /** Callback handler for closing of modal. */\n    onClose: PropTypes.func,\n    /** If true, modal is opened or visible. */\n    open: PropTypes.bool,\n  };\n  componentDidMount() {\n    document.addEventListener('keyPress', this.handleEscKey, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keyPress', this.handleEscKey, false);\n  }\n\n  handleEscKey(e) {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n      document.removeEventListener('keyPress', this.handleEscKey, false);\n    }\n  }\n\n  handleClick = (e) => {\n    if (!this.innerRef.current.contains(e.target)) {\n      this.props.onClose();\n      document.removeEventListener('keyPress', this.handleEscKey, false);\n    }\n  };\n\n  render() {\n    const openClasses = this.props.open\n      ? 'str-chat__modal--open'\n      : 'str-chat__modal--closed';\n    return (\n      <div\n        className={`str-chat__modal ${openClasses}`}\n        onClick={this.handleClick}\n      >\n        <div className=\"str-chat__modal__close-button\">\n          Close\n          <svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n        <div className=\"str-chat__modal__inner\" ref={this.innerRef}>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","export const KEY_CODES = {\n  ESC: 27,\n  UP: 38,\n  DOWN: 40,\n  ENTER: 13,\n  TAB: 9,\n  SPACE: 32,\n};\n\n// This is self-made key shortcuts manager, used for caching key strokes\nclass Listener {\n  constructor() {\n    this.index = 0;\n    this.listeners = {};\n    this.refCount = 0;\n\n    this.f = (e) => {\n      const code = e.keyCode || e.which;\n      Object.values(this.listeners).forEach(({ keyCode, fn }) => {\n        if (keyCode.includes(code)) fn(e);\n      });\n    };\n  }\n\n  startListen = () => {\n    if (!this.refCount) {\n      // prevent multiple listeners in case of multiple TextareaAutocomplete components on page\n      document.addEventListener('keydown', this.f);\n    }\n    this.refCount++;\n  };\n\n  stopListen = () => {\n    this.refCount--;\n    if (!this.refCount) {\n      // prevent disable listening in case of multiple TextareaAutocomplete components on page\n      document.removeEventListener('keydown', this.f);\n    }\n  };\n\n  add = (keyCodes, fn) => {\n    let keyCode = keyCodes;\n\n    if (typeof keyCode !== 'object') keyCode = [keyCode];\n\n    this.listeners[this.index] = {\n      keyCode,\n      fn,\n    };\n\n    this.index += 1;\n\n    return this.index;\n  };\n\n  remove = (id) => {\n    delete this.listeners[id];\n  };\n\n  removeAll = () => {\n    this.listeners = {};\n    this.index = 0;\n  };\n}\n\nexport default new Listener();\n","//\n\nimport React from 'react';\n\nexport class Item extends React.Component {\n  selectItem = () => {\n    const { item, onSelectHandler } = this.props;\n    onSelectHandler(item);\n  };\n\n  render() {\n    const {\n      component: Component,\n      style,\n      onClickHandler,\n      item,\n      selected,\n      className,\n      innerRef,\n    } = this.props;\n\n    return (\n      <li className={`rta__item ${className || ''}`} style={style}>\n        <div\n          className={`rta__entity ${\n            selected === true ? 'rta__entity--selected' : ''\n          }`}\n          role=\"button\"\n          tabIndex={0}\n          onClick={onClickHandler}\n          onFocus={this.selectItem}\n          onMouseEnter={this.selectItem}\n          /* $FlowFixMe */\n          ref={innerRef}\n        >\n          <Component selected={selected} entity={item} />\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default Item;\n","//\n\nimport React from 'react';\n\nimport Listeners, { KEY_CODES } from './listener';\nimport Item from './Item';\n\nexport class List extends React.Component {\n  state = {\n    selectedItem: null,\n  };\n\n  cachedValues = null;\n\n  componentDidMount() {\n    this.listeners.push(\n      Listeners.add([KEY_CODES.DOWN, KEY_CODES.UP], this.scroll),\n      Listeners.add([KEY_CODES.ENTER, KEY_CODES.TAB], this.onPressEnter),\n    );\n\n    const { values } = this.props;\n    if (values && values[0]) this.selectItem(values[0]);\n  }\n\n  UNSAFE_componentWillReceiveProps({ values }) {\n    const newValues = values.map((val) => this.getId(val)).join('');\n\n    if (this.cachedValues !== newValues && values && values[0]) {\n      this.selectItem(values[0]);\n      this.cachedValues = newValues;\n    }\n  }\n\n  componentWillUnmount() {\n    let listener;\n    while (this.listeners.length) {\n      listener = this.listeners.pop();\n      Listeners.remove(listener);\n    }\n  }\n\n  onPressEnter = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    const { values } = this.props;\n\n    this.modifyText(values[this.getPositionInList()]);\n  };\n\n  getPositionInList = () => {\n    const { values } = this.props;\n    const { selectedItem } = this.state;\n\n    if (!selectedItem) return 0;\n\n    return values.findIndex((a) => this.getId(a) === this.getId(selectedItem));\n  };\n\n  getId = (item) => {\n    const textToReplace = this.props.getTextToReplace(item);\n    if (textToReplace.key) {\n      return textToReplace.key;\n    }\n\n    if (typeof item === 'string' || !item.key) {\n      return textToReplace.text;\n    }\n\n    return item.key;\n  };\n\n  listeners = [];\n\n  itemsRef = {};\n\n  modifyText = (value) => {\n    if (!value) return;\n\n    const { onSelect, getTextToReplace, getSelectedItem } = this.props;\n\n    onSelect(getTextToReplace(value));\n    if (getSelectedItem) {\n      getSelectedItem(value);\n    }\n  };\n\n  selectItem = (item, keyboard = false) => {\n    this.setState({ selectedItem: item }, () => {\n      if (keyboard) {\n        this.props.dropdownScroll(this.itemsRef[this.getId(item)]);\n      }\n    });\n  };\n\n  scroll = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    const { values } = this.props;\n\n    const code = e.keyCode || e.which;\n\n    const oldPosition = this.getPositionInList();\n    let newPosition;\n    switch (code) {\n      case KEY_CODES.DOWN:\n        newPosition = oldPosition + 1;\n        break;\n      case KEY_CODES.UP:\n        newPosition = oldPosition - 1;\n        break;\n      default:\n        newPosition = oldPosition;\n        break;\n    }\n\n    newPosition =\n      ((newPosition % values.length) + values.length) % values.length; // eslint-disable-line\n    this.selectItem(\n      values[newPosition],\n      [KEY_CODES.DOWN, KEY_CODES.UP].includes(code),\n    );\n  };\n\n  isSelected = (item) => {\n    const { selectedItem } = this.state;\n    if (!selectedItem) return false;\n\n    return this.getId(selectedItem) === this.getId(item);\n  };\n\n  renderHeader = (value) => {\n    if (value[0] === '/') {\n      return `Commands matching <strong>${value.replace('/', '')}</strong>`;\n    }\n\n    if (value[0] === ':') {\n      return `Emoji matching <strong>${value.replace(':', '')}</strong>`;\n    }\n\n    if (value[0] === '@') {\n      return `Searching for people`;\n    }\n  };\n\n  render() {\n    const {\n      values,\n      component,\n      style,\n      itemClassName,\n      className,\n      itemStyle,\n    } = this.props;\n\n    return (\n      <ul className={`rta__list ${className || ''}`} style={style}>\n        <li\n          className=\"rta__list-header\"\n          dangerouslySetInnerHTML={{\n            __html: this.renderHeader(this.props.value),\n          }}\n        />\n        {values.map((item) => (\n          <Item\n            key={this.getId(item)}\n            innerRef={(ref) => {\n              this.itemsRef[this.getId(item)] = ref;\n            }}\n            selected={this.isSelected(item)}\n            item={item}\n            className={itemClassName}\n            style={itemStyle}\n            onClickHandler={this.onPressEnter}\n            onSelectHandler={this.selectItem}\n            component={component}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default List;\n","//\n\nexport function defaultScrollToItem(container, item) {\n  const itemHeight = parseInt(\n    getComputedStyle(item).getPropertyValue('height'),\n    10,\n  );\n\n  const containerHight =\n    parseInt(getComputedStyle(container).getPropertyValue('height'), 10) -\n    itemHeight;\n\n  const itemOffsetTop = item.offsetTop;\n  const actualScrollTop = container.scrollTop;\n\n  if (\n    itemOffsetTop < actualScrollTop + containerHight &&\n    actualScrollTop < itemOffsetTop\n  ) {\n    return;\n  }\n\n  // eslint-disable-next-line\n  container.scrollTop = itemOffsetTop;\n}\n","//\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getCaretCoordinates from 'textarea-caret';\nimport CustomEvent from 'custom-event';\n\nimport Listeners, { KEY_CODES } from './listener';\nimport List from './List';\n\nimport { defaultScrollToItem } from './utils';\n\nimport Textarea from 'react-textarea-autosize';\n\nconst DEFAULT_CARET_POSITION = 'next';\n\nconst errorMessage = (message) =>\n  console.error(\n    `RTA: dataProvider fails: ${message}\n    \\nCheck the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`,\n  );\n\nclass ReactTextareaAutocomplete extends React.Component {\n  static defaultProps = {\n    closeOnClickOutside: true,\n    movePopupAsYouType: false,\n    value: '',\n    minChar: 1,\n    scrollToItem: true,\n    maxRows: 10,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { loadingComponent, trigger, value } = this.props;\n\n    // TODO: it would be better to have the parent control state...\n    // if (value) this.state.value = value;\n\n    this._createRegExp();\n\n    if (!loadingComponent) {\n      throw new Error('RTA: loadingComponent is not defined');\n    }\n\n    if (!trigger) {\n      throw new Error('RTA: trigger is not defined');\n    }\n    this.state = {\n      top: null,\n      left: null,\n      currentTrigger: null,\n      actualToken: '',\n      data: null,\n      value: value || '',\n      dataLoading: false,\n      selectionEnd: 0,\n      selectionStart: 0,\n      component: null,\n      listenerIndex: 0,\n    };\n  }\n\n  componentDidMount() {\n    Listeners.add(KEY_CODES.ESC, () => this._closeAutocomplete());\n    Listeners.add(KEY_CODES.SPACE, () => this._onSpace());\n    const listenerIndex = Listeners.add(KEY_CODES.ENTER, (e) =>\n      this._onEnter(e),\n    );\n    this.setState({\n      listenerIndex,\n    });\n    Listeners.startListen();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this._update(nextProps);\n  }\n\n  componentWillUnmount() {\n    Listeners.stopListen();\n    Listeners.remove(this.state.listenerIndex);\n  }\n\n  getSelectionPosition = () => {\n    if (!this.textareaRef) return null;\n\n    return {\n      selectionStart: this.textareaRef.selectionStart,\n      selectionEnd: this.textareaRef.selectionEnd,\n    };\n  };\n\n  getSelectedText = () => {\n    if (!this.textareaRef) return null;\n    const { selectionStart, selectionEnd } = this.textareaRef;\n\n    if (selectionStart === selectionEnd) return null;\n\n    return this.state.value.substr(\n      selectionStart,\n      selectionEnd - selectionStart,\n    );\n  };\n\n  setCaretPosition = (position = 0) => {\n    if (!this.textareaRef) return;\n\n    this.textareaRef.focus();\n    this.textareaRef.setSelectionRange(position, position);\n  };\n\n  getCaretPosition = () => {\n    if (!this.textareaRef) {\n      return 0;\n    }\n\n    return this.textareaRef.selectionEnd;\n  };\n\n  // handle the on-enter behaviour\n  _onEnter = (event) => {\n    const trigger = this.state.currentTrigger;\n    if (!this.textareaRef) {\n      return;\n    }\n\n    const hasFocus = this.textareaRef.matches(':focus');\n\n    // don't submit if the element has focus or the shift key is pressed\n    if (!hasFocus || event.shiftKey === true) {\n      return;\n    }\n    if (!trigger) {\n      // trigger a submit\n      this._replaceWord();\n      if (this.textareaRef) {\n        this.textareaRef.selectionEnd = 0;\n      }\n      this.props.handleSubmit(event);\n    }\n  };\n\n  // handle the on-space behaviour\n  _onSpace = () => {\n    if (!this.props.replaceWord) {\n      return;\n    }\n\n    if (!this.textareaRef) {\n      return;\n    }\n    const hasFocus = this.textareaRef.matches(':focus');\n\n    // don't change characters if the element doesn't have focus\n    if (!hasFocus) {\n      return;\n    }\n    this._replaceWord();\n  };\n\n  _replaceWord = () => {\n    const lastWordRegex = /([^\\s]+)(\\s*)$/;\n    const { value } = this.state;\n    const match = lastWordRegex.exec(value.slice(0, this.getCaretPosition()));\n    const lastWord = match && match[1];\n    if (!lastWord) {\n      return;\n    }\n    const spaces = match[2];\n\n    const newWord = this.props.replaceWord(lastWord);\n    if (newWord == null) {\n      return;\n    }\n    const textBeforeWord = value.slice(\n      0,\n      this.getCaretPosition() - match[0].length,\n    );\n    const textAfterCaret = value.slice(this.getCaretPosition(), -1);\n    const newText = textBeforeWord + newWord + spaces + textAfterCaret;\n    this.setState(\n      {\n        value: newText,\n      },\n      () => {\n        // fire onChange event after successful selection\n        const e = new CustomEvent('change', { bubbles: true });\n        this.textareaRef.dispatchEvent(e);\n        if (this.props.onChange) this.props.onChange(e);\n      },\n    );\n  };\n\n  _onSelect = (newToken) => {\n    const { selectionEnd, currentTrigger, value: textareaValue } = this.state;\n    const { onChange, trigger } = this.props;\n\n    if (!currentTrigger) return;\n\n    const computeCaretPosition = (position, token, startToken) => {\n      switch (position) {\n        case 'start':\n          return startToken;\n        case 'next':\n        case 'end':\n          return startToken + token.length;\n        default:\n          if (!Number.isInteger(position)) {\n            throw new Error(\n              'RTA: caretPosition should be \"start\", \"next\", \"end\" or number.',\n            );\n          }\n\n          return position;\n      }\n    };\n\n    const textToModify = textareaValue.slice(0, selectionEnd);\n\n    const startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(\n        `\\\\${currentTrigger}${`[^\\\\${currentTrigger}${\n          trigger[currentTrigger].allowWhitespace ? '' : '\\\\s'\n        }]`}*$`,\n      ),\n    );\n\n    // we add space after emoji is selected if a caret position is next\n    const newTokenString =\n      newToken.caretPosition === 'next' ? `${newToken.text} ` : newToken.text;\n\n    const newCaretPosition = computeCaretPosition(\n      newToken.caretPosition,\n      newTokenString,\n      startOfTokenPosition,\n    );\n\n    const modifiedText =\n      textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n    // set the new textarea value and after that set the caret back to its position\n    this.setState(\n      {\n        value: textareaValue.replace(textToModify, modifiedText),\n        dataLoading: false,\n      },\n      () => {\n        // fire onChange event after successful selection\n        const e = new CustomEvent('change', { bubbles: true });\n        this.textareaRef.dispatchEvent(e);\n        if (onChange) onChange(e);\n\n        this.setCaretPosition(newCaretPosition);\n      },\n    );\n    this._closeAutocomplete();\n  };\n\n  _getItemOnSelect = () => {\n    const { currentTrigger } = this.state;\n    const triggerSettings = this._getCurrentTriggerSettings();\n\n    if (!currentTrigger || !triggerSettings) return null;\n\n    const { callback } = triggerSettings;\n\n    if (!callback) return null;\n\n    return (item) => {\n      if (typeof callback !== 'function') {\n        throw new Error(\n          'Output functor is not defined! You have to define \"output\" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type',\n        );\n      }\n      if (callback) {\n        return callback(item, currentTrigger);\n      }\n      return null;\n    };\n  };\n\n  _getTextToReplace = () => {\n    const { currentTrigger, actualToken } = this.state;\n    const triggerSettings = this._getCurrentTriggerSettings();\n\n    if (!currentTrigger || !triggerSettings) return null;\n\n    const { output } = triggerSettings;\n\n    return (item) => {\n      if (\n        typeof item === 'object' &&\n        (!output || typeof output !== 'function')\n      ) {\n        throw new Error(\n          'Output functor is not defined! If you are using items as object you have to define \"output\" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type',\n        );\n      }\n\n      if (output) {\n        const textToReplace = output(item, currentTrigger);\n\n        if (!textToReplace || typeof textToReplace === 'number') {\n          throw new Error(\n            `Output functor should return string or object in shape {text: string, caretPosition: string | number}.\\nGot \"${String(\n              textToReplace,\n            )}\". Check the implementation for trigger \"${currentTrigger}\" and its token \"${actualToken}\"\\n\\nSee https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more informations.\\n`,\n          );\n        }\n\n        if (typeof textToReplace === 'string') {\n          return {\n            text: textToReplace,\n            caretPosition: DEFAULT_CARET_POSITION,\n          };\n        }\n\n        if (!textToReplace.text) {\n          throw new Error(\n            `Output \"text\" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger \"${currentTrigger}\" and its token \"${actualToken}\"\\n`,\n          );\n        }\n\n        if (!textToReplace.caretPosition) {\n          throw new Error(\n            `Output \"caretPosition\" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger \"${currentTrigger}\" and its token \"${actualToken}\"\\n`,\n          );\n        }\n\n        return textToReplace;\n      }\n\n      if (typeof item !== 'string') {\n        throw new Error('Output item should be string\\n');\n      }\n\n      return {\n        text: `${currentTrigger}${item}${currentTrigger}`,\n        caretPosition: DEFAULT_CARET_POSITION,\n      };\n    };\n  };\n\n  _getCurrentTriggerSettings = () => {\n    const { currentTrigger } = this.state;\n\n    if (!currentTrigger) return null;\n\n    return this.props.trigger[currentTrigger];\n  };\n\n  _getValuesFromProvider = () => {\n    const { currentTrigger, actualToken } = this.state;\n    const triggerSettings = this._getCurrentTriggerSettings();\n\n    if (!currentTrigger || !triggerSettings) {\n      return;\n    }\n\n    const { dataProvider, component } = triggerSettings;\n\n    if (typeof dataProvider !== 'function') {\n      throw new Error('Trigger provider has to be a function!');\n    }\n\n    this.setState({\n      dataLoading: true,\n    });\n\n    // Modified: send the full text to support / style commands\n    let providedData = dataProvider(actualToken, this.state.value);\n\n    if (!(providedData instanceof Promise)) {\n      providedData = Promise.resolve(providedData);\n    }\n\n    providedData\n      .then((data) => {\n        if (!Array.isArray(data)) {\n          throw new Error('Trigger provider has to provide an array!');\n        }\n\n        if (typeof component !== 'function') {\n          throw new Error('Component should be defined!');\n        }\n\n        // throw away if we resolved old trigger\n        if (currentTrigger !== this.state.currentTrigger) return;\n\n        // if we haven't resolved any data let's close the autocomplete\n        if (!data.length) {\n          this._closeAutocomplete();\n          return;\n        }\n\n        this.setState({\n          dataLoading: false,\n          data,\n          component,\n        });\n      })\n      .catch((e) => errorMessage(e.message));\n  };\n\n  _getSuggestions = () => {\n    const { currentTrigger, data } = this.state;\n\n    if (!currentTrigger || !data || (data && !data.length)) return null;\n\n    return data;\n  };\n\n  _createRegExp = () => {\n    const { trigger } = this.props;\n\n    // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n    // https://stackoverflow.com/a/8057827/2719917\n    this.tokenRegExp = new RegExp(\n      `([${Object.keys(trigger).join('')}])(?:(?!\\\\1)[^\\\\s])*$`,\n    );\n  };\n\n  // TODO: This is an anti pattern in react, should come up with a better way\n  _update({ value, trigger }) {\n    const { value: oldValue } = this.state;\n    const { trigger: oldTrigger } = this.props;\n\n    if (value !== oldValue || !oldValue) this.setState({ value });\n    /**\n     * check if trigger chars are changed, if so, change the regexp accordingly\n     */\n    if (Object.keys(trigger).join('') !== Object.keys(oldTrigger).join('')) {\n      this._createRegExp();\n    }\n  }\n\n  /**\n   * Close autocomplete, also clean up trigger (to avoid slow promises)\n   */\n  _closeAutocomplete = () => {\n    this.setState({\n      data: null,\n      dataLoading: false,\n      currentTrigger: null,\n      top: null,\n      left: null,\n    });\n  };\n\n  _cleanUpProps = () => {\n    const props = { ...this.props };\n    const notSafe = [\n      'loadingComponent',\n      'containerStyle',\n      'minChar',\n      'scrollToItem',\n      'ref',\n      'innerRef',\n      'onChange',\n      'onCaretPositionChange',\n      'className',\n      'value',\n      'trigger',\n      'listStyle',\n      'itemStyle',\n      'containerStyle',\n      'loaderStyle',\n      'className',\n      'containerClassName',\n      'listClassName',\n      'itemClassName',\n      'loaderClassName',\n      'closeOnClickOutside',\n      'dropdownStyle',\n      'dropdownClassName',\n      'movePopupAsYouType',\n      'handleSubmit',\n      'replaceWord',\n      'grow',\n      'additionalTextareaProps',\n    ];\n\n    // eslint-disable-next-line\n    for (const prop in props) {\n      if (notSafe.includes(prop)) delete props[prop];\n    }\n\n    return props;\n  };\n\n  _changeHandler = (e) => {\n    const {\n      trigger,\n      onChange,\n      minChar,\n      onCaretPositionChange,\n      movePopupAsYouType,\n    } = this.props;\n    const { top, left } = this.state;\n\n    const textarea = e.target;\n    const { selectionEnd, selectionStart } = textarea;\n    const value = textarea.value;\n\n    if (onChange) {\n      e.persist();\n      onChange(e);\n    }\n\n    if (onCaretPositionChange) {\n      const caretPosition = this.getCaretPosition();\n      onCaretPositionChange(caretPosition);\n    }\n\n    this.setState({\n      value,\n    });\n\n    let tokenMatch = this.tokenRegExp.exec(value.slice(0, selectionEnd));\n    let lastToken = tokenMatch && tokenMatch[0];\n\n    let currentTrigger =\n      (lastToken && Object.keys(trigger).find((a) => a === lastToken[0])) ||\n      null;\n\n    /*\n     if we lost the trigger token or there is no following character we want to close\n     the autocomplete\n    */\n    if (\n      (!lastToken || lastToken.length <= minChar) &&\n      // check if our current trigger disallows whitespace\n      ((this.state.currentTrigger &&\n        !trigger[this.state.currentTrigger].allowWhitespace) ||\n        !this.state.currentTrigger)\n    ) {\n      this._closeAutocomplete();\n      return;\n    }\n\n    /**\n     * This code has to be sync that is the reason why we obtain the currentTrigger\n     * from currentTrigger not this.state.currentTrigger\n     *\n     * Check if the currently typed token has to be afterWhitespace, or not.\n     */\n    if (\n      currentTrigger &&\n      value[tokenMatch.index - 1] &&\n      trigger[currentTrigger].afterWhitespace &&\n      !value[tokenMatch.index - 1].match(/\\s/)\n    ) {\n      this._closeAutocomplete();\n      return;\n    }\n\n    /**\n      If our current trigger allows whitespace\n      get the correct token for DataProvider, so we need to construct new RegExp\n     */\n    if (\n      this.state.currentTrigger &&\n      trigger[this.state.currentTrigger].allowWhitespace\n    ) {\n      tokenMatch = new RegExp(\n        `\\\\${this.state.currentTrigger}[^${this.state.currentTrigger}]*$`,\n      ).exec(value.slice(0, selectionEnd));\n      lastToken = tokenMatch && tokenMatch[0];\n\n      if (!lastToken) {\n        this._closeAutocomplete();\n        return;\n      }\n\n      currentTrigger =\n        Object.keys(trigger).find((a) => a === lastToken[0]) || null;\n    }\n\n    const actualToken = lastToken.slice(1);\n\n    // if trigger is not configured step out from the function, otherwise proceed\n    if (!currentTrigger) {\n      return;\n    }\n\n    if (\n      movePopupAsYouType ||\n      (top === null && left === null) ||\n      // if we have single char - trigger it means we want to re-position the autocomplete\n      lastToken.length === 1\n    ) {\n      const { top: newTop, left: newLeft } = getCaretCoordinates(\n        textarea,\n        selectionEnd,\n      );\n\n      this.setState({\n        // make position relative to textarea\n        top: newTop - this.textareaRef.scrollTop || 0,\n        left: newLeft,\n      });\n    }\n\n    this.setState(\n      {\n        selectionEnd,\n        selectionStart,\n        currentTrigger,\n        actualToken,\n      },\n      () => {\n        try {\n          this._getValuesFromProvider();\n        } catch (err) {\n          errorMessage(err.message);\n        }\n      },\n    );\n  };\n\n  _selectHandler = (e) => {\n    const { onCaretPositionChange, onSelect } = this.props;\n\n    if (onCaretPositionChange) {\n      const caretPosition = this.getCaretPosition();\n      onCaretPositionChange(caretPosition);\n    }\n\n    if (onSelect) {\n      e.persist();\n      onSelect(e);\n    }\n  };\n\n  _onClickAndBlurHandler = (e) => {\n    const { closeOnClickOutside, onBlur } = this.props;\n\n    // If this is a click: e.target is the textarea, and e.relatedTarget is the thing\n    // that was actually clicked. If we clicked inside the autoselect dropdown, then\n    // that's not a blur, from the autoselect's point of view, so then do nothing.\n    const el = e.relatedTarget;\n    if (\n      this.dropdownRef &&\n      el instanceof Node &&\n      this.dropdownRef.contains(el)\n    ) {\n      return;\n    }\n\n    if (closeOnClickOutside) {\n      this._closeAutocomplete();\n    }\n\n    if (onBlur) {\n      e.persist();\n      onBlur(e);\n    }\n  };\n\n  _onScrollHandler = () => {\n    this._closeAutocomplete();\n  };\n\n  _dropdownScroll = (item) => {\n    const { scrollToItem } = this.props;\n\n    if (!scrollToItem) return;\n\n    if (scrollToItem === true) {\n      defaultScrollToItem(this.dropdownRef, item);\n      return;\n    }\n\n    if (typeof scrollToItem !== 'function' || scrollToItem.length !== 2) {\n      throw new Error(\n        '`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.',\n      );\n    }\n\n    scrollToItem(this.dropdownRef, item);\n  };\n\n  render() {\n    const {\n      loadingComponent: Loader,\n      style,\n      className,\n      itemStyle,\n      listClassName,\n      itemClassName,\n      dropdownClassName,\n      dropdownStyle,\n      containerStyle,\n      containerClassName,\n      loaderStyle,\n      loaderClassName,\n    } = this.props;\n    const { dataLoading, currentTrigger, component, value } = this.state;\n\n    const suggestionData = this._getSuggestions();\n    const textToReplace = this._getTextToReplace();\n    const selectedItem = this._getItemOnSelect();\n\n    let maxRows = this.props.maxRows;\n    if (!this.props.grow) {\n      maxRows = 1;\n    }\n\n    return (\n      <div\n        className={`rta ${\n          dataLoading === true ? 'rta--loading' : ''\n        } ${containerClassName || ''}`}\n        style={containerStyle}\n      >\n        {(dataLoading || suggestionData) && currentTrigger && (\n          <div\n            ref={(ref) => {\n              // $FlowFixMe\n              this.dropdownRef = ref;\n            }}\n            style={{ ...dropdownStyle }}\n            className={`rta__autocomplete ${dropdownClassName || ''}`}\n          >\n            {suggestionData && component && textToReplace && (\n              <List\n                value={value}\n                values={suggestionData}\n                component={component}\n                className={listClassName}\n                itemClassName={itemClassName}\n                itemStyle={itemStyle}\n                getTextToReplace={textToReplace}\n                getSelectedItem={selectedItem}\n                onSelect={this._onSelect}\n                dropdownScroll={this._dropdownScroll}\n              />\n            )}\n            {dataLoading && (\n              <div\n                className={`rta__loader ${\n                  suggestionData !== null\n                    ? 'rta__loader--suggestion-data'\n                    : 'rta__loader--empty-suggestion-data'\n                } ${loaderClassName || ''}`}\n                style={loaderStyle}\n              >\n                <Loader data={suggestionData} />\n              </div>\n            )}\n          </div>\n        )}\n\n        <Textarea\n          {...this._cleanUpProps()}\n          inputRef={(ref) => {\n            this.props.innerRef && this.props.innerRef(ref);\n            this.textareaRef = ref;\n          }}\n          maxRows={maxRows}\n          className={`rta__textarea ${className || ''}`}\n          onChange={this._changeHandler}\n          onSelect={this._selectHandler}\n          onScroll={this._onScrollHandler}\n          onClick={\n            // The textarea itself is outside the autoselect dropdown.\n            this._onClickAndBlurHandler\n          }\n          onBlur={this._onClickAndBlurHandler}\n          onFocus={this.props.onFocus}\n          value={value}\n          style={style}\n          {...this.props.additionalTextareaProps}\n        />\n      </div>\n    );\n  }\n}\n\nconst triggerPropsCheck = ({ trigger }) => {\n  if (!trigger) return Error('Invalid prop trigger. Prop missing.');\n\n  const triggers = Object.entries(trigger);\n\n  for (let i = 0; i < triggers.length; i += 1) {\n    const [triggerChar, settings] = triggers[i];\n\n    if (typeof triggerChar !== 'string' || triggerChar.length !== 1) {\n      return Error(\n        'Invalid prop trigger. Keys of the object has to be string / one character.',\n      );\n    }\n\n    // $FlowFixMe\n    const triggerSetting = settings;\n\n    const {\n      component,\n      dataProvider,\n      output,\n      callback,\n      afterWhitespace,\n      allowWhitespace,\n    } = triggerSetting;\n\n    if (!component || typeof component !== 'function') {\n      return Error('Invalid prop trigger: component should be defined.');\n    }\n\n    if (!dataProvider || typeof dataProvider !== 'function') {\n      return Error('Invalid prop trigger: dataProvider should be defined.');\n    }\n\n    if (output && typeof output !== 'function') {\n      return Error('Invalid prop trigger: output should be a function.');\n    }\n\n    if (callback && typeof callback !== 'function') {\n      return Error('Invalid prop trigger: callback should be a function.');\n    }\n\n    if (afterWhitespace && allowWhitespace) {\n      return Error(\n        'Invalid prop trigger: afterWhitespace and allowWhitespace can be used together',\n      );\n    }\n  }\n\n  return null;\n};\n\nReactTextareaAutocomplete.propTypes = {\n  loadingComponent: PropTypes.func.isRequired,\n  minChar: PropTypes.number,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onBlur: PropTypes.func,\n  onCaretPositionChange: PropTypes.func,\n  className: PropTypes.string,\n  containerStyle: PropTypes.object,\n  containerClassName: PropTypes.string,\n  closeOnClickOutside: PropTypes.bool,\n  style: PropTypes.object,\n  listStyle: PropTypes.object,\n  itemStyle: PropTypes.object,\n  loaderStyle: PropTypes.object,\n  dropdownStyle: PropTypes.object,\n  listClassName: PropTypes.string,\n  itemClassName: PropTypes.string,\n  loaderClassName: PropTypes.string,\n  dropdownClassName: PropTypes.string,\n  value: PropTypes.string,\n  trigger: triggerPropsCheck, //eslint-disable-line\n};\n\nexport default ReactTextareaAutocomplete;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class EmoticonItem extends PureComponent {\n  static propTypes = {\n    entity: PropTypes.shape({\n      /** Name for emoticon */\n      name: PropTypes.string,\n      /** Native value or actual emoticon */\n      native: PropTypes.string,\n      /** Representative character for emoticon */\n      char: PropTypes.string,\n    }),\n  };\n\n  render() {\n    return (\n      <div className=\"str-chat__emoji-item\">\n        <span className=\"str-chat__emoji-item--entity\">\n          {this.props.entity.native}\n        </span>\n        <span className=\"str-chat__emoji-item--name\">\n          {this.props.entity.name}\n        </span>\n        <span className=\"str-chat__emoji-item--char\">\n          {this.props.entity.char}\n        </span>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\nexport class UserItem extends PureComponent {\n  static propTypes = {\n    entity: PropTypes.shape({\n      /** Name of the user */\n      name: PropTypes.string,\n      /** Id of the user */\n      id: PropTypes.string,\n      /** Image of the user */\n      image: PropTypes.string,\n    }),\n  };\n  render() {\n    const u = this.props.entity;\n    return (\n      <div className=\"str-chat__user-item\">\n        <Avatar size={20} image={u.image} />\n        <div>\n          <strong>{u.name}</strong> {!u.name ? u.id : ''}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class CommandItem extends PureComponent {\n  static propTypes = {\n    entity: PropTypes.shape({\n      /** Name of the command */\n      name: PropTypes.string,\n      /** Arguments of command */\n      args: PropTypes.string,\n      /** Description of command */\n      description: PropTypes.string,\n    }),\n  };\n\n  render() {\n    const c = this.props.entity;\n\n    return (\n      <div className=\"str-chat__slash-command\">\n        <span className=\"str-chat__slash-command-header\">\n          <strong>{c.name}</strong> {c.args}\n        </span>\n        <br />\n        <span className=\"str-chat__slash-command-description\">\n          {c.description}\n        </span>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport AutoCompleteTextarea from './AutoCompleteTextarea';\nimport { LoadingIndicator } from './LoadingIndicator';\n\n// import '@webscopeio/react-textarea-autocomplete/style.css';\nimport { emojiIndex } from 'emoji-mart';\n\nimport { EmoticonItem } from './EmoticonItem';\nimport { UserItem } from './UserItem';\nimport { CommandItem } from './CommandItem';\n/**\n * Textarea component with included autocomplete options. You can set your own commands and\n * @example ./docs/ChatAutoComplete.md\n */\nexport class ChatAutoComplete extends PureComponent {\n  static propTypes = {\n    /** The number of rows you want the textarea to have */\n    rows: PropTypes.number,\n    /** Grow the number of rows of the textarea while you're typing */\n    grow: PropTypes.bool,\n    /** Maximum number of rows */\n    maxRows: PropTypes.number,\n    /** Make the textarea disabled */\n    disabled: PropTypes.bool,\n    /** The value of the textarea */\n    value: PropTypes.string,\n    /** Function to run on pasting within the textarea */\n    onPaste: PropTypes.func,\n    /** Function that runs on submit */\n    handleSubmit: PropTypes.func,\n    /** Function that runs on change */\n    onChange: PropTypes.func,\n    /** Placeholder for the textare */\n    placeholder: PropTypes.string,\n    /** What loading component to use for the auto complete when loading results. */\n    LoadingIndicator: PropTypes.node,\n    /** Minimum number of Character */\n    minChar: PropTypes.number,\n    /** Array of [user object](https://getstream.io/chat/docs/#chat-doc-set-user). Used for mentions suggestions */\n    users: PropTypes.array,\n    /**\n     * Handler for selecting item from suggestions list\n     *\n     * @param item Selected item object.\n     *  */\n    onSelectItem: PropTypes.func,\n    /** Array of [commands](https://getstream.io/chat/docs/#channel_commands) */\n    commands: PropTypes.array,\n    /** Listener for onfocus event on textarea */\n    onFocus: PropTypes.object,\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    rows: 3,\n  };\n\n  getTriggers() {\n    return {\n      ':': {\n        dataProvider: (q) => {\n          if (q.length === 0 || q.charAt(0).match(/[^a-zA-Z0-9+-]/)) {\n            return [];\n          }\n          const emojis = emojiIndex.search(q) || [];\n          return emojis.slice(0, 10);\n        },\n        component: EmoticonItem,\n        output: (entity) => ({\n          key: entity.id,\n          text: `${entity.native}`,\n          caretPosition: 'next',\n        }),\n      },\n      '@': {\n        dataProvider: (q) => {\n          const matchingUsers = this.props.users.filter((user) => {\n            if (\n              user.name !== undefined &&\n              user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1\n            ) {\n              return true;\n            } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n              return true;\n            } else {\n              return false;\n            }\n          });\n          return matchingUsers.slice(0, 10);\n        },\n        component: UserItem,\n        output: (entity) => ({\n          key: entity.id,\n          text: `@${entity.name || entity.id}`,\n          caretPosition: 'next',\n        }),\n        callback: (item) => this.props.onSelectItem(item),\n      },\n      '/': {\n        dataProvider: (q, text) => {\n          if (text.indexOf('/') !== 0) {\n            return [];\n          }\n          const selectedCommands = this.props.commands.filter(\n            (c) => c.name.indexOf(q) !== -1,\n          );\n\n          // sort alphabetically unless the you're matching the first char\n          selectedCommands.sort((a, b) => {\n            let nameA = a.name.toLowerCase();\n            let nameB = b.name.toLowerCase();\n            if (nameA.indexOf(q) === 0) {\n              nameA = `0${nameA}`;\n            }\n            if (nameB.indexOf(q) === 0) {\n              nameB = `0${nameB}`;\n            }\n            if (nameA < nameB) {\n              return -1;\n            }\n            if (nameA > nameB) {\n              return 1;\n            }\n\n            return 0;\n          });\n\n          return selectedCommands.slice(0, 10);\n        },\n        component: CommandItem,\n        output: (entity) => ({\n          key: entity.id,\n          text: `/${entity.name}`,\n          caretPosition: 'next',\n        }),\n      },\n    };\n  }\n\n  emojiReplace(word) {\n    const found = emojiIndex.search(word) || [];\n    for (const emoji of found.slice(0, 10)) {\n      if (emoji.emoticons.includes(word)) {\n        return emoji.native;\n      }\n    }\n  }\n\n  render() {\n    const { innerRef } = this.props;\n    return (\n      <AutoCompleteTextarea\n        loadingComponent={LoadingIndicator}\n        trigger={this.getTriggers()}\n        replaceWord={this.emojiReplace}\n        minChar={0}\n        maxRows={this.props.maxRows}\n        innerRef={\n          innerRef &&\n          ((ref) => {\n            innerRef.current = ref;\n          })\n        }\n        onFocus={this.props.onFocus}\n        rows={this.props.rows}\n        className=\"str-chat__textarea__textarea\"\n        containerClassName=\"str-chat__textarea\"\n        dropdownClassName=\"str-chat__emojisearch\"\n        listClassName=\"str-chat__emojisearch__list\"\n        itemClassName=\"str-chat__emojisearch__item\"\n        placeholder={this.props.placeholder}\n        onChange={this.props.onChange}\n        handleSubmit={this.props.handleSubmit}\n        onPaste={this.props.onPaste}\n        value={this.props.value}\n        grow={this.props.grow}\n        disabled={this.props.disabled}\n        additionalTextareaProps={this.props.additionalTextareaProps}\n      />\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatAutoComplete } from './ChatAutoComplete';\nimport { withTranslationContext } from '../context';\nimport { filterEmoji } from '../utils';\nimport {\n  ImageDropzone,\n  ImagePreviewer,\n  FilePreviewer,\n  FileUploadButton,\n} from 'react-file-utils';\n\nimport { Picker } from 'emoji-mart';\n\n/**\n * MessageInputLarge - Large Message Input to be used for the MessageInput.\n * @example ./docs/MessageInputLarge.md\n */\nclass MessageInputLarge extends PureComponent {\n  static propTypes = {\n    /** Set focus to the text input if this is enabled */\n    focus: PropTypes.bool.isRequired,\n    /** Grow the textarea while you're typing */\n    grow: PropTypes.bool.isRequired,\n    /** Specify the max amount of rows the textarea is able to grow */\n    maxRows: PropTypes.number.isRequired,\n    /** Make the textarea disabled */\n    disabled: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadNewFiles: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    numberOfUploads: PropTypes.number,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerIsOpen: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectEmoji: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getUsers: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getCommands: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    textareaRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleSubmit: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleChange: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectItem: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    text: PropTypes.string,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onPaste: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    openEmojiPicker: PropTypes.func,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    watcher_count: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    typing: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    multipleUploads: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    maxNumberOfFiles: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    acceptedFiles: PropTypes.object,\n    /**\n     * Custom UI component for send button.\n     *\n     * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n     * */\n    SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  renderUploads = () => (\n    <>\n      {this.props.imageOrder.length > 0 && (\n        <ImagePreviewer\n          imageUploads={this.props.imageOrder.map(\n            (id) => this.props.imageUploads[id],\n          )}\n          handleRemove={this.props.removeImage}\n          handleRetry={this.props.uploadImage}\n          handleFiles={this.props.uploadNewFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n        />\n      )}\n      {this.props.fileOrder.length > 0 && (\n        <FilePreviewer\n          uploads={this.props.fileOrder.map((id) => this.props.fileUploads[id])}\n          handleRemove={this.props.removeFile}\n          handleRetry={this.props.uploadFile}\n          handleFiles={this.props.uploadNewFiles}\n        />\n      )}\n    </>\n  );\n\n  renderEmojiPicker = () => {\n    if (this.props.emojiPickerIsOpen) {\n      return (\n        <div\n          className=\"str-chat__input--emojipicker\"\n          ref={this.props.emojiPickerRef}\n        >\n          <Picker\n            native\n            emoji=\"point_up\"\n            title=\"Pick your emoji‚Ä¶\"\n            onSelect={this.props.onSelectEmoji}\n            color=\"#006CFF\"\n            showPreview={false}\n            useButton={true}\n            emojisToShowFilter={filterEmoji}\n          />\n        </div>\n      );\n    }\n  };\n\n  constructTypingString = (dict) => {\n    const { t } = this.props;\n    const arr2 = Object.keys(dict);\n    const arr3 = [];\n    arr2.forEach((item, i) => {\n      if (this.props.client.user.id === dict[arr2[i]].user.id) {\n        return;\n      }\n      arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n    });\n    let outStr = '';\n    if (arr3.length === 1) {\n      outStr = t('{{ user }} is typing...', { user: arr3[0] });\n      dict;\n    } else if (arr3.length === 2) {\n      //joins all with \"and\" but =no commas\n      //example: \"bob and sam\"\n      outStr = t('{{ firstUser }} and {{ secondUser }} are typing...', {\n        firstUser: arr3[0],\n        secondUser: arr3[1],\n      });\n    } else if (arr3.length > 2) {\n      //joins all with commas, but last one gets \", and\" (oxford comma!)\n      //example: \"bob, joe, and sam\"\n      outStr = t('{{ commaSeparatedUsers }} and {{ lastUser }} are typing...', {\n        commaSeparatedUsers: arr3.slice(0, -1).join(', '),\n        lastUser: arr3.slice(-1),\n      });\n    }\n\n    return outStr;\n  };\n\n  render() {\n    const { t } = this.props;\n    const SendButton = this.props.SendButton;\n    return (\n      <div className=\"str-chat__input-large\">\n        <ImageDropzone\n          accept={this.props.acceptedFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n          handleFiles={this.props.uploadNewFiles}\n        >\n          <div className=\"str-chat__input\">\n            {this.renderUploads()}\n            {this.renderEmojiPicker()}\n            <div className=\"str-chat__input--textarea-wrapper\">\n              <ChatAutoComplete\n                users={this.props.getUsers()}\n                commands={this.props.getCommands()}\n                innerRef={this.props.textareaRef}\n                handleSubmit={(e) => this.props.handleSubmit(e)}\n                onChange={this.props.handleChange}\n                onSelectItem={this.props.onSelectItem}\n                value={this.props.text}\n                rows={1}\n                maxRows={this.props.maxRows}\n                placeholder={t('Type your message')}\n                onPaste={this.props.onPaste}\n                grow={this.props.grow}\n                disabled={this.props.disabled}\n                additionalTextareaProps={this.props.additionalTextareaProps}\n              />\n\n              <span\n                className=\"str-chat__input-emojiselect\"\n                onClick={this.props.openEmojiPicker}\n              >\n                <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n                    fillRule=\"evenodd\"\n                  />\n                </svg>\n              </span>\n\n              <FileUploadButton\n                multiple={this.props.multipleUploads}\n                disabled={\n                  this.props.numberOfUploads >= this.props.maxNumberOfFiles\n                    ? true\n                    : false\n                }\n                accepts={this.props.acceptedFiles}\n                handleFiles={this.props.uploadNewFiles}\n              >\n                <span className=\"str-chat__input-fileupload\">\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\"\n                      fillRule=\"nonzero\"\n                    />\n                  </svg>\n                </span>\n              </FileUploadButton>\n              {SendButton && (\n                <SendButton sendMessage={this.props.handleSubmit} />\n              )}\n            </div>\n          </div>\n          <div>\n            <div className=\"str-chat__input-footer\">\n              <span\n                className={`str-chat__input-footer--count ${\n                  !this.props.watcher_count\n                    ? 'str-chat__input-footer--count--hidden'\n                    : ''\n                }`}\n              >\n                {t('{{ watcherCount }} online', {\n                  watcherCount: this.props.watcher_count,\n                })}\n              </span>\n              <span className=\"str-chat__input-footer--typing\">\n                {this.constructTypingString(this.props.typing)}\n              </span>\n            </div>\n          </div>\n        </ImageDropzone>\n      </div>\n    );\n  }\n}\n\nconst MessageInputLargeWithContext = withTranslationContext(MessageInputLarge);\n\nexport { MessageInputLargeWithContext as MessageInputLarge };\n","import React from 'react';\nexport const SendButton = ({ sendMessage }) => (\n  <button className=\"str-chat__send-button\" onClick={sendMessage}>\n    <svg\n      width=\"18\"\n      height=\"17\"\n      viewBox=\"0 0 18 17\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z\"\n        fillRule=\"evenodd\"\n        fill=\"#006cff\"\n      />\n    </svg>\n  </button>\n);\n","import React, { PureComponent } from 'react';\nimport { withChannelContext } from '../context';\nimport PropTypes from 'prop-types';\nimport { MessageInputLarge } from './MessageInputLarge';\nimport { SendButton } from './SendButton';\nimport Immutable from 'seamless-immutable';\nimport { generateRandomId } from '../utils';\nimport uniq from 'lodash/uniq';\nimport {\n  dataTransferItemsHaveFiles,\n  dataTransferItemsToFiles,\n} from 'react-file-utils';\nimport { logChatPromiseExecution } from 'stream-chat';\n\n// polyfill for IE11 to make MessageInput functional\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n/**\n * MessageInput - Input a new message, support for all the rich features such as image uploads, @mentions, emoticons etc.\n * @example ./docs/MessageInput.md\n * @extends PureComponent\n */\nclass MessageInput extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    const imageOrder = [];\n    const imageUploads = {};\n    const fileOrder = [];\n    const fileUploads = {};\n    const attachments = [];\n    const mentioned_users = [];\n    let text = '';\n    if (props.message) {\n      text = props.message.text;\n      for (const attach of props.message.attachments) {\n        if (attach.type === 'image') {\n          const id = generateRandomId();\n          imageOrder.push(id);\n          imageUploads[id] = {\n            id,\n            url: attach.image_url,\n            state: 'finished',\n            file: { name: attach.fallback },\n          };\n        } else if (attach.type === 'file') {\n          const id = generateRandomId();\n          fileOrder.push(id);\n          fileUploads[id] = {\n            id,\n            url: attach.asset_url,\n            state: 'finished',\n            file: {\n              name: attach.title,\n              type: attach.mime_type,\n              size: attach.file_size,\n            },\n          };\n        } else {\n          attachments.push(attach);\n        }\n      }\n      for (const mention of props.message.mentioned_users) {\n        mentioned_users.push(mention.id);\n      }\n    }\n\n    this.state = {\n      text,\n      attachments,\n      imageOrder,\n      imageUploads: Immutable(imageUploads),\n      fileOrder,\n      fileUploads: Immutable(fileUploads),\n      emojiPickerIsOpen: false,\n      filePanelIsOpen: false,\n      mentioned_users,\n      numberOfUploads: 0,\n    };\n\n    this.textareaRef = React.createRef();\n    this.emojiPickerRef = React.createRef();\n    this.panelRef = React.createRef();\n  }\n\n  static propTypes = {\n    /** Set focus to the text input if this is enabled */\n    focus: PropTypes.bool.isRequired,\n    /** Disable input */\n    disabled: PropTypes.bool.isRequired,\n    /** Grow the textarea while you're typing */\n    grow: PropTypes.bool.isRequired,\n    /** Set the maximum number of rows */\n    maxRows: PropTypes.number.isRequired,\n    /** Via Context: the channel that we're sending the message to */\n    channel: PropTypes.object.isRequired,\n    /** Via Context: the users currently typing, passed from the Channel component */\n    typing: PropTypes.object.isRequired,\n\n    // /** Set textarea to be disabled */\n    // disabled: PropTypes.bool,\n\n    /** The parent message object when replying on a thread */\n    parent: PropTypes.object,\n\n    /**\n     * The component handling how the input is rendered\n     *\n     * Available built-in components (also accepts the same props as):\n     *\n     * 1. [MessageInputSmall](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputSmall.js)\n     * 2. [MessageInputLarge](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputLarge.js) (default)\n     * 3. [MessageInputFlat](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageInputFlat.js)\n     *\n     * */\n    Input: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n    /** Override image upload request */\n    doImageUploadRequest: PropTypes.func,\n\n    /** Override file upload request */\n    doFileUploadRequest: PropTypes.func,\n    /**\n     * Custom UI component for send button.\n     *\n     * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n     * */\n    SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     * e.g.\n     * <MessageInput\n     *  additionalTextareaProps={{\n     *    maxLength: 10,\n     *  }}\n     * />\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    focus: false,\n    disabled: false,\n    grow: true,\n    maxRows: 10,\n    Input: MessageInputLarge,\n    SendButton,\n    additionalTextareaProps: {},\n  };\n\n  componentDidMount() {\n    if (this.props.focus) {\n      this.textareaRef.current.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.closeEmojiPicker, false);\n    document.removeEventListener('click', this.hideFilePanel, false);\n  }\n\n  openEmojiPicker = () => {\n    if (!this.state.showEmojiPicker) {\n      this.setState(\n        () => ({\n          emojiPickerIsOpen: true,\n        }),\n        () => {\n          document.addEventListener('click', this.closeEmojiPicker, false);\n        },\n      );\n    }\n  };\n\n  closeEmojiPicker = (e) => {\n    if (\n      this.emojiPickerRef.current &&\n      !this.emojiPickerRef.current.contains(e.target)\n    ) {\n      this.setState(\n        {\n          emojiPickerIsOpen: false,\n        },\n        () => {\n          document.removeEventListener('click', this.closeEmojiPicker, false);\n        },\n      );\n    }\n  };\n\n  onSelectEmoji = (emoji) => this.insertText(emoji.native);\n\n  insertText = async (textToInsert) => {\n    let newCursorPosition;\n\n    await this.setState((prevState) => {\n      const prevText = prevState.text;\n      const textareaElement = this.textareaRef.current;\n\n      if (!textareaElement) {\n        return { text: prevText + textToInsert };\n      }\n      // Insert emoji at previous cursor position\n      const { selectionStart, selectionEnd } = textareaElement;\n      newCursorPosition = selectionStart + textToInsert.length;\n      return {\n        text:\n          prevText.slice(0, selectionStart) +\n          textToInsert +\n          prevText.slice(selectionEnd),\n      };\n    });\n\n    const textareaElement = this.textareaRef.current;\n    if (!textareaElement || newCursorPosition == null) {\n      return;\n    }\n    // Update cursorPosition\n    textareaElement.selectionStart = newCursorPosition;\n    textareaElement.selectionEnd = newCursorPosition;\n  };\n\n  getCommands = () => this.props.channel.getConfig().commands;\n\n  getUsers = () => {\n    const users = [];\n\n    const members = this.props.channel.state.members;\n    const watchers = this.props.channel.state.watchers;\n\n    if (members && Object.values(members).length) {\n      Object.values(members).forEach((member) => users.push(member.user));\n    }\n\n    if (watchers && Object.values(watchers).length) {\n      users.push(...Object.values(watchers));\n    }\n\n    // make sure we don't list users twice\n    const userMap = {};\n    for (const user of users) {\n      if (user !== undefined && !userMap[user.id]) {\n        userMap[user.id] = user;\n      }\n    }\n    return Object.values(userMap);\n  };\n\n  handleChange = (event) => {\n    event.preventDefault();\n    if (!event || !event.target) {\n      return '';\n    }\n\n    const text = event.target.value;\n    this.setState({ text });\n    if (text) {\n      logChatPromiseExecution(\n        this.props.channel.keystroke(),\n        'start typing event',\n      );\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const editing = !!this.props.message;\n    const trimmedMessage = this.state.text.trim();\n    const isEmptyMessage =\n      trimmedMessage === '' ||\n      trimmedMessage === '>' ||\n      trimmedMessage === '``````' ||\n      trimmedMessage === '``' ||\n      trimmedMessage === '**' ||\n      trimmedMessage === '____' ||\n      trimmedMessage === '__' ||\n      trimmedMessage === '****';\n    const hasFiles =\n      this.state.imageOrder.length > 0 || this.state.fileOrder.length > 0;\n    if (isEmptyMessage && !hasFiles) {\n      return;\n    }\n    const text = this.state.text;\n    // the channel component handles the actual sending of the message\n    const attachments = [...this.state.attachments];\n\n    for (const id of this.state.imageOrder) {\n      const image = this.state.imageUploads[id];\n      if (!image || image.state === 'failed') {\n        continue;\n      }\n      if (image.state === 'uploading') {\n        // TODO: show error to user that they should wait until image is uploaded\n        return;\n      }\n      const dupe = attachments.filter(\n        (attach) => image.url === attach.image_url,\n      );\n      if (dupe.length >= 1) continue;\n      attachments.push({\n        type: 'image',\n        image_url: image.url,\n        fallback: image.file.name,\n      });\n    }\n    for (const id of this.state.fileOrder) {\n      const upload = this.state.fileUploads[id];\n      if (!upload || upload.state === 'failed') {\n        continue;\n      }\n      if (upload.state === 'uploading') {\n        // TODO: show error to user that they should wait until image is uploaded\n        return;\n      }\n      const dupe = attachments.filter(\n        (attach) => upload.asset_url === attach.url,\n      );\n      if (dupe.length >= 1) continue;\n      attachments.push({\n        type: 'file',\n        asset_url: upload.url,\n        title: upload.file.name,\n        mime_type: upload.file.type,\n        file_size: upload.file.size,\n      });\n    }\n\n    if (editing) {\n      const { id } = this.props.message;\n      const updatedMessage = { id };\n      updatedMessage.text = text;\n      updatedMessage.attachments = attachments;\n      updatedMessage.mentioned_users = this.state.mentioned_users;\n      // TODO: Remove this line and show an error when submit fails\n      this.props.clearEditingState();\n\n      const updateMessagePromise = this.props\n        .editMessage(updatedMessage)\n        .then(this.props.clearEditingState);\n\n      logChatPromiseExecution(updateMessagePromise, 'update message');\n    } else if (\n      this.props.overrideSubmitHandler &&\n      typeof this.props.overrideSubmitHandler === 'function'\n    ) {\n      this.props.overrideSubmitHandler(\n        {\n          text,\n          attachments,\n          mentioned_users: uniq(this.state.mentioned_users),\n          parent: this.props.parent,\n        },\n        this.props.channel.cid,\n      );\n      this.setState({\n        text: '',\n        mentioned_users: [],\n        imageUploads: Immutable({}),\n        imageOrder: [],\n        fileUploads: Immutable({}),\n        fileOrder: [],\n      });\n    } else {\n      const sendMessagePromise = this.props.sendMessage({\n        text,\n        attachments,\n        mentioned_users: uniq(this.state.mentioned_users),\n        parent: this.props.parent,\n      });\n      logChatPromiseExecution(sendMessagePromise, 'send message');\n      this.setState({\n        text: '',\n        mentioned_users: [],\n        imageUploads: Immutable({}),\n        imageOrder: [],\n        fileUploads: Immutable({}),\n        fileOrder: [],\n      });\n    }\n\n    logChatPromiseExecution(this.props.channel.stopTyping(), 'stop typing');\n  };\n\n  _uploadNewFiles = (files) => {\n    for (const file of files) {\n      if (file.type.startsWith('image/')) {\n        this._uploadNewImage(file);\n      } else if (file instanceof File && !this.props.noFiles) {\n        this._uploadNewFile(file);\n      } else {\n        return;\n      }\n    }\n  };\n\n  _uploadNewImage = async (file) => {\n    const id = generateRandomId();\n\n    await this.setState((prevState) => ({\n      numberOfUploads: prevState.numberOfUploads + 1,\n      imageOrder: prevState.imageOrder.concat(id),\n      imageUploads: prevState.imageUploads.setIn([id], {\n        id,\n        file,\n        state: 'uploading',\n      }),\n    }));\n    if (FileReader) {\n      // TODO: Possibly use URL.createObjectURL instead. However, then we need\n      // to release the previews when not used anymore though.\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads.setIn(\n            [id, 'previewUri'],\n            event.target.result,\n          ),\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n    return this._uploadImage(id);\n  };\n\n  _uploadNewFile = async (file) => {\n    const id = generateRandomId();\n\n    await this.setState((prevState) => ({\n      numberOfUploads: prevState.numberOfUploads + 1,\n      fileOrder: prevState.fileOrder.concat(id),\n      fileUploads: prevState.fileUploads.setIn([id], {\n        id,\n        file,\n        state: 'uploading',\n      }),\n    }));\n\n    return this._uploadFile(id);\n  };\n\n  _uploadImage = async (id) => {\n    const img = this.state.imageUploads[id];\n    if (!img) {\n      return;\n    }\n    const { file } = img;\n\n    await this.setState((prevState) => ({\n      imageUploads: prevState.imageUploads.setIn([id, 'state'], 'uploading'),\n    }));\n\n    let response = {};\n    response = {};\n    try {\n      if (this.props.doImageUploadRequest) {\n        response = await this.props.doImageUploadRequest(\n          file,\n          this.props.channel,\n        );\n      } else {\n        response = await this.props.channel.sendImage(file);\n      }\n    } catch (e) {\n      console.warn(e);\n      let alreadyRemoved = false;\n      await this.setState((prevState) => {\n        const image = prevState.imageUploads[id];\n        if (!image) {\n          alreadyRemoved = true;\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n          };\n        }\n        return {\n          imageUploads: prevState.imageUploads.setIn([id, 'state'], 'failed'),\n          numberOfUploads: prevState.numberOfUploads - 1,\n        };\n      });\n\n      if (!alreadyRemoved) {\n        this.props.errorHandler(e, 'upload-image', {\n          feedGroup: this.props.feedGroup,\n          userId: this.props.userId,\n        });\n      }\n      return;\n    }\n    this.setState((prevState) => ({\n      imageUploads: prevState.imageUploads\n        .setIn([id, 'state'], 'finished')\n        .setIn([id, 'url'], response.file),\n    }));\n  };\n\n  _uploadFile = async (id) => {\n    const upload = this.state.fileUploads[id];\n    if (!upload) {\n      return;\n    }\n    const { file } = upload;\n    await this.setState((prevState) => ({\n      imageUploads: prevState.imageUploads.setIn([id, 'state'], 'uploading'),\n    }));\n\n    let response = {};\n    response = {};\n\n    try {\n      if (this.props.doFileUploadRequest) {\n        response = await this.props.doFileUploadRequest(\n          file,\n          this.props.channel,\n        );\n      } else {\n        response = await this.props.channel.sendFile(file);\n      }\n    } catch (e) {\n      console.warn(e);\n      let alreadyRemoved = false;\n      await this.setState((prevState) => {\n        const image = prevState.imageUploads[id];\n        if (!image) {\n          alreadyRemoved = true;\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n          };\n        }\n        return {\n          numberOfUploads: prevState.numberOfUploads - 1,\n          fileUploads: prevState.fileUploads.setIn([id, 'state'], 'failed'),\n        };\n      });\n      if (!alreadyRemoved) {\n        this.props.errorHandler(e, 'upload-file', {\n          feedGroup: this.props.feedGroup,\n          userId: this.props.userId,\n        });\n      }\n    }\n    this.setState((prevState) => ({\n      fileUploads: prevState.fileUploads\n        .setIn([id, 'state'], 'finished')\n        .setIn([id, 'url'], response.file),\n    }));\n  };\n\n  _removeImage = (id) => {\n    // TODO: cancel upload if still uploading\n    this.setState((prevState) => {\n      const img = prevState.imageUploads[id];\n      if (!img) {\n        return {};\n      }\n      return {\n        numberOfUploads: prevState.numberOfUploads - 1,\n        imageUploads: prevState.imageUploads.set(id, undefined), // remove\n        imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n      };\n    });\n  };\n\n  _removeFile = (id) => {\n    // TODO: cancel upload if still uploading\n    this.setState((prevState) => {\n      const upload = prevState.fileUploads[id];\n      if (!upload) {\n        return {};\n      }\n      return {\n        numberOfUploads: prevState.numberOfUploads - 1,\n        fileUploads: prevState.fileUploads.set(id, undefined), // remove\n        fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n      };\n    });\n  };\n\n  _onPaste = async (event) => {\n    // TODO: Move this handler to package with ImageDropzone\n    const { items } = event.clipboardData;\n    if (!dataTransferItemsHaveFiles(items)) {\n      return;\n    }\n\n    event.preventDefault();\n    // Get a promise for the plain text in case no files are\n    // found. This needs to be done here because chrome cleans\n    // up the DataTransferItems after resolving of a promise.\n    let plainTextPromise;\n    for (const item of items) {\n      if (item.kind === 'string' && item.type === 'text/plain') {\n        plainTextPromise = new Promise((resolve) => {\n          item.getAsString((s) => {\n            resolve(s);\n          });\n        });\n        break;\n      }\n    }\n\n    const fileLikes = await dataTransferItemsToFiles(items);\n    if (fileLikes.length) {\n      this._uploadNewFiles(fileLikes);\n      return;\n    }\n    // fallback to regular text paste\n    if (plainTextPromise) {\n      const s = await plainTextPromise;\n      this.insertText(s);\n    }\n  };\n\n  _onSelectItem = (item) => {\n    this.setState((prevState) => ({\n      mentioned_users: [...prevState.mentioned_users, item.id],\n    }));\n  };\n\n  render() {\n    const { Input } = this.props;\n    const handlers = {\n      uploadNewFiles: this._uploadNewFiles,\n      removeImage: this._removeImage,\n      uploadImage: this._uploadImage,\n      removeFile: this._removeFile,\n      uploadFile: this._uploadFile,\n      emojiPickerRef: this.emojiPickerRef,\n      panelRef: this.panelRef,\n      textareaRef: this.textareaRef,\n      onSelectEmoji: this.onSelectEmoji,\n      getUsers: this.getUsers,\n      getCommands: this.getCommands,\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      onPaste: this._onPaste,\n      onSelectItem: this._onSelectItem,\n      openEmojiPicker: this.openEmojiPicker,\n    };\n    return <Input {...this.props} {...this.state} {...handlers} />;\n  }\n}\n\nMessageInput = withChannelContext(MessageInput);\nexport { MessageInput };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ChatAutoComplete } from './ChatAutoComplete';\nimport { Picker } from 'emoji-mart';\nimport {\n  ImageDropzone,\n  ImagePreviewer,\n  FilePreviewer,\n  FileUploadButton,\n} from 'react-file-utils';\nimport { withTranslationContext } from '../context';\nimport { filterEmoji } from '../utils';\n\n/**\n * @example ./docs/EditMessageForm.md\n */\nclass EditMessageForm extends React.Component {\n  static propTypes = {\n    /** Set focus to the text input if this is enabled */\n    focus: PropTypes.bool,\n    /** Grow the textarea while you're typing */\n    grow: PropTypes.bool,\n    /** Specify the max amount of rows the textarea is able to grow */\n    maxRows: PropTypes.number.isRequired,\n    /** Disable the textarea */\n    disabled: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadNewFiles: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    numberOfUploads: PropTypes.number,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerIsOpen: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectEmoji: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getUsers: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getCommands: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    textareaRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleSubmit: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleChange: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectItem: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    text: PropTypes.string,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onPaste: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    openEmojiPicker: PropTypes.func,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    watcher_count: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    typing: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    multipleUploads: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    maxNumberOfFiles: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    acceptedFiles: PropTypes.object,\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    grow: true,\n    focus: false,\n    disabled: false,\n  };\n\n  renderUploads = () => (\n    <>\n      {this.props.imageOrder.length > 0 && (\n        <ImagePreviewer\n          imageUploads={this.props.imageOrder.map(\n            (id) => this.props.imageUploads[id],\n          )}\n          handleRemove={this.props.removeImage}\n          handleRetry={this.props.uploadImage}\n          handleFiles={this.props.uploadNewFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n        />\n      )}\n      {this.props.fileOrder.length > 0 && (\n        <FilePreviewer\n          uploads={this.props.fileOrder.map((id) => this.props.fileUploads[id])}\n          handleRemove={this.props.removeFile}\n          handleRetry={this.props.uploadFile}\n          handleFiles={this.props.uploadNewFiles}\n        />\n      )}\n    </>\n  );\n\n  renderEmojiPicker = () => {\n    const { t } = this.props;\n    if (this.props.emojiPickerIsOpen) {\n      return (\n        <div\n          className=\"str-chat__small-message-input-emojipicker\"\n          ref={this.props.emojiPickerRef}\n        >\n          <Picker\n            native\n            emoji=\"point_up\"\n            title={t('Pick your emoji')}\n            onSelect={this.props.onSelectEmoji}\n            color=\"#006CFF\"\n            showPreview={false}\n            emojisToShowFilter={filterEmoji}\n          />\n        </div>\n      );\n    }\n  };\n\n  render() {\n    const { t } = this.props;\n    return (\n      <div className=\"str-chat__edit-message-form\">\n        <ImageDropzone\n          accept={this.props.acceptedFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n          handleFiles={this.props.uploadNewFiles}\n        >\n          <form onSubmit={this.props.handleSubmit}>\n            {this.renderEmojiPicker()}\n            {this.renderUploads()}\n            {this.props.emojiPickerIsOpen && (\n              <div\n                className=\"str-chat__input--emojipicker\"\n                ref={this.props.emojiPickerRef}\n              >\n                <Picker\n                  native\n                  emoji=\"point_up\"\n                  title={t('Pick your emoji')}\n                  onSelect={this.props.onSelectEmoji}\n                  color=\"#006CFF\"\n                  emojisToShowFilter={filterEmoji}\n                />\n              </div>\n            )}\n            <ChatAutoComplete\n              users={this.props.getUsers()}\n              commands={this.props.getCommands()}\n              innerRef={this.props.textareaRef}\n              handleSubmit={this.props.handleSubmit}\n              onChange={this.props.handleChange}\n              onSelectItem={this.props.onSelectItem}\n              value={this.props.text}\n              rows={1}\n              maxRows={this.props.maxRows}\n              onPaste={this.props.onPaste}\n              grow={this.props.grow}\n              additionalTextareaProps={this.props.additionalTextareaProps}\n            />\n            <div className=\"str-chat__message-team-form-footer\">\n              <div className=\"str-chat__edit-message-form-options\">\n                <span\n                  className=\"str-chat__input-emojiselect\"\n                  onClick={this.props.openEmojiPicker}\n                >\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n                      fillRule=\"evenodd\"\n                    />\n                  </svg>\n                </span>\n                <FileUploadButton\n                  multiple={this.props.multipleUploads}\n                  disabled={\n                    this.props.numberOfUploads >= this.props.maxNumberOfFiles\n                      ? true\n                      : false\n                  }\n                  accepts={this.props.acceptedFiles}\n                  handleFiles={this.props.uploadNewFiles}\n                >\n                  <span className=\"str-chat__input-fileupload\">\n                    <svg\n                      width=\"14\"\n                      height=\"14\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\"\n                        fillRule=\"nonzero\"\n                      />\n                    </svg>\n                  </span>\n                </FileUploadButton>\n              </div>\n              <div>\n                <button onClick={this.props.clearEditingState}>\n                  {t('Cancel')}\n                </button>\n                <button type=\"submit\">{t('Send')}</button>\n              </div>\n            </div>\n          </form>\n        </ImageDropzone>\n      </div>\n    );\n  }\n}\n\nEditMessageForm = withTranslationContext(EditMessageForm);\nexport { EditMessageForm };\n","import React, { PureComponent } from 'react';\nimport { Attachment } from './Attachment';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { ReactionsList } from './ReactionsList';\nimport { Avatar } from './Avatar';\nimport { Tooltip } from './Tooltip';\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { Gallery } from './Gallery';\nimport { ReactionSelector } from './ReactionSelector';\nimport { MessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { Modal } from './Modal';\nimport { MessageInput } from './MessageInput';\nimport { EditMessageForm } from './EditMessageForm';\n\nimport PropTypes from 'prop-types';\n\nimport { isOnlyEmojis, renderText } from '../utils';\nimport { withTranslationContext } from '../context';\n\n/**\n * MessageSimple - Render component, should be used together with the Message component\n *\n * @example ./docs/MessageSimple.md\n * @extends PureComponent\n */\nclass MessageSimple extends PureComponent {\n  static propTypes = {\n    /** The [message object](https://getstream.io/chat/docs/#message_format) */\n    message: PropTypes.object,\n    /**\n     * The attachment UI component.\n     * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n     *\n     * The higher order message component, most logic is delegated to this component\n     * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n     *\n     * */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /** Client object */\n    client: PropTypes.object,\n    /** If its parent message in thread. */\n    initialMessage: PropTypes.bool,\n    /** Channel config object */\n    channelConfig: PropTypes.object,\n    /** If component is in thread list */\n    threadList: PropTypes.bool,\n    /** Function to open thread on current messxage */\n    handleOpenThread: PropTypes.func,\n    /** If the message is in edit state */\n    editing: PropTypes.bool,\n    /** Function to exit edit state */\n    clearEditingState: PropTypes.func,\n    /** Returns true if message belongs to current user */\n    isMyMessage: PropTypes.func,\n    /**\n     * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n     * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n     * */\n    getMessageActions: PropTypes.func,\n    /**\n     * Function to publish updates on message to channel\n     *\n     * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n     * */\n    updateMessage: PropTypes.func,\n    /**\n     * Reattempt sending a message\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n     */\n    handleRetry: PropTypes.func,\n    /**\n     * Add or remove reaction on message\n     *\n     * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * @param event Dom event which triggered this function\n     */\n    handleReaction: PropTypes.func,\n    /** If actions such as edit, delete, flag, mute are enabled on message */\n    actionsEnabled: PropTypes.bool,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /**\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    handleAction: PropTypes.func,\n    /**\n     * The handler for hover event on @mention in message\n     *\n     * @param event Dom hover event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsHoverMessage: PropTypes.func,\n    /**\n     * The handler for click event on @mention in message\n     *\n     * @param event Dom click event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsClickMessage: PropTypes.func,\n    /**\n     * Additional props for underlying MessageInput component.\n     * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n     * */\n    additionalMessageInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    Attachment,\n  };\n\n  state = {\n    isFocused: false,\n    actionsBoxOpen: false,\n    showDetailedReactions: false,\n  };\n\n  messageActionsRef = React.createRef();\n  reactionSelectorRef = React.createRef();\n\n  _onClickOptionsAction = () => {\n    this.setState(\n      {\n        actionsBoxOpen: true,\n      },\n      () => document.addEventListener('click', this.hideOptions, false),\n    );\n  };\n\n  _hideOptions = () => {\n    this.setState({\n      actionsBoxOpen: false,\n    });\n    document.removeEventListener('click', this.hideOptions, false);\n  };\n\n  _clickReactionList = () => {\n    this.setState(\n      () => ({\n        showDetailedReactions: true,\n      }),\n      () => {\n        document.addEventListener('click', this._closeDetailedReactions);\n        document.addEventListener('touchend', this._closeDetailedReactions);\n      },\n    );\n  };\n\n  _closeDetailedReactions = (e) => {\n    if (\n      !this.reactionSelectorRef.current.reactionSelector.current.contains(\n        e.target,\n      )\n    ) {\n      this.setState(\n        () => ({\n          showDetailedReactions: false,\n        }),\n        () => {\n          document.removeEventListener('click', this._closeDetailedReactions);\n          document.removeEventListener(\n            'touchend',\n            this._closeDetailedReactions,\n          );\n        },\n      );\n    } else {\n      return {};\n    }\n  };\n\n  componentWillUnmount() {\n    if (!this.props.message.deleted_at) {\n      document.removeEventListener('click', this._closeDetailedReactions);\n      document.removeEventListener('touchend', this._closeDetailedReactions);\n    }\n  }\n\n  isMine() {\n    return this.props.isMyMessage(this.props.message);\n  }\n\n  formatArray = (arr) => {\n    const { t } = this.props;\n    let outStr = '';\n    const slicedArr = arr\n      .filter((item) => item.id !== this.props.client.user.id)\n      .map((item) => item.name || item.id)\n      .slice(0, 5);\n    const restLength = arr.length - slicedArr.length;\n\n    if (slicedArr.length === 1) {\n      outStr = slicedArr[0] + ' ';\n    } else if (slicedArr.length === 2) {\n      //joins all with \"and\" but =no commas\n      //example: \"bob and sam\"\n      outStr = t('{{ firstUser }} and {{ secondUser }}', {\n        firstUser: slicedArr[0],\n        secondUser: slicedArr[1],\n      });\n    } else if (slicedArr.length > 2) {\n      //joins all with commas, but last one gets \", and\" (oxford comma!)\n      //example: \"bob, joe, sam and 4 more\"\n      outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n        commaSeparatedUsers: slicedArr.join(', '),\n        moreCount: restLength,\n      });\n    }\n\n    return outStr;\n  };\n\n  renderStatus = () => {\n    const {\n      readBy,\n      client,\n      message,\n      threadList,\n      lastReceivedId,\n      t,\n    } = this.props;\n    if (!this.isMine() || message.type === 'error') {\n      return null;\n    }\n    const justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n    if (message.status === 'sending') {\n      return (\n        <span className=\"str-chat__message-simple-status\">\n          <Tooltip>{t('Sending...')}</Tooltip>\n          <LoadingIndicator />\n        </span>\n      );\n    } else if (readBy.length !== 0 && !threadList && !justReadByMe) {\n      const lastReadUser = readBy.filter(\n        (item) => item.id !== client.user.id,\n      )[0];\n      return (\n        <span className=\"str-chat__message-simple-status\">\n          <Tooltip>{this.formatArray(readBy)}</Tooltip>\n          <Avatar\n            name={lastReadUser.name || lastReadUser.id}\n            image={lastReadUser.image}\n            size={15}\n          />\n          {readBy.length > 2 && (\n            <span className=\"str-chat__message-simple-status-number\">\n              {readBy.length - 1}\n            </span>\n          )}\n        </span>\n      );\n    } else if (\n      message.status === 'received' &&\n      message.id === lastReceivedId &&\n      !threadList\n    ) {\n      return (\n        <span className=\"str-chat__message-simple-status\">\n          <Tooltip>{t('Delivered')}</Tooltip>\n          <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z\"\n              fill=\"#006CFF\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </span>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  renderMessageActions = () => {\n    const {\n      Message,\n      getMessageActions,\n      messageListRect,\n      handleFlag,\n      handleMute,\n      handleEdit,\n      handleDelete,\n    } = this.props;\n    const messageActions = getMessageActions();\n\n    if (messageActions.length === 0) {\n      return;\n    }\n\n    return (\n      <div\n        onClick={this._onClickOptionsAction}\n        className=\"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--options\"\n      >\n        <MessageActionsBox\n          Message={Message}\n          getMessageActions={getMessageActions}\n          open={this.state.actionsBoxOpen}\n          messageListRect={messageListRect}\n          handleFlag={handleFlag}\n          handleMute={handleMute}\n          handleEdit={handleEdit}\n          handleDelete={handleDelete}\n          mine={this.isMine()}\n        />\n        <svg\n          width=\"11\"\n          height=\"4\"\n          viewBox=\"0 0 11 4\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"\n            fillRule=\"nonzero\"\n          />\n        </svg>\n      </div>\n    );\n  };\n  renderOptions() {\n    const {\n      message,\n      initialMessage,\n      channelConfig,\n      threadList,\n      handleOpenThread,\n    } = this.props;\n    if (\n      message.type === 'error' ||\n      message.type === 'system' ||\n      message.type === 'ephemeral' ||\n      message.status === 'failed' ||\n      message.status === 'sending' ||\n      initialMessage\n    ) {\n      return;\n    }\n    if (this.isMine()) {\n      return (\n        <div className=\"str-chat__message-simple__actions\">\n          {this.renderMessageActions()}\n          {!threadList && channelConfig && channelConfig.replies && (\n            <div\n              onClick={handleOpenThread}\n              className=\"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--thread\"\n            >\n              <svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\"\n                  fillRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          )}\n          {channelConfig && channelConfig.reactions && (\n            <div\n              className=\"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--reactions\"\n              onClick={this._clickReactionList}\n            >\n              <svg\n                width=\"16\"\n                height=\"14\"\n                viewBox=\"0 0 16 14\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n                  fillRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"str-chat__message-simple__actions\">\n          {channelConfig && channelConfig.reactions && (\n            <div\n              className=\"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--reactions\"\n              onClick={this._clickReactionList}\n            >\n              <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n                  fillRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          )}\n          {!threadList && channelConfig && channelConfig.replies && (\n            <div\n              onClick={handleOpenThread}\n              className=\"str-chat__message-simple__actions__action str-chat__message-simple__actions__action--thread\"\n            >\n              <svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\"\n                  fillRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          )}\n          {this.renderMessageActions()}\n        </div>\n      );\n    }\n  }\n\n  // eslint-disable-next-line\n  render() {\n    const {\n      message,\n      Attachment,\n      editing,\n      clearEditingState,\n      handleRetry,\n      updateMessage,\n      handleReaction,\n      actionsEnabled,\n      messageListRect,\n      handleAction,\n      onMentionsHoverMessage,\n      onMentionsClickMessage,\n      unsafeHTML,\n      threadList,\n      handleOpenThread,\n      t,\n      tDateTimeParser,\n    } = this.props;\n\n    const when = tDateTimeParser(message.created_at).calendar();\n\n    const messageClasses = this.isMine()\n      ? 'str-chat__message str-chat__message--me str-chat__message-simple str-chat__message-simple--me'\n      : 'str-chat__message str-chat__message-simple';\n\n    const hasAttachment = Boolean(\n      message && message.attachments && message.attachments.length,\n    );\n    const images =\n      hasAttachment &&\n      message.attachments.filter((item) => item.type === 'image');\n    const hasReactions = Boolean(\n      message.latest_reactions && message.latest_reactions.length,\n    );\n\n    if (message.type === 'message.read' || message.type === 'message.date') {\n      return null;\n    }\n\n    if (message.deleted_at) {\n      return (\n        <React.Fragment>\n          <div\n            key={message.id}\n            className={`${messageClasses} str-chat__message--deleted ${message.type} `}\n          >\n            <div className=\"str-chat__message--deleted-inner\">\n              {t('This message was deleted...')}\n            </div>\n          </div>\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        {editing && (\n          <Modal open={editing} onClose={clearEditingState}>\n            <MessageInput\n              Input={EditMessageForm}\n              message={message}\n              clearEditingState={clearEditingState}\n              updateMessage={updateMessage}\n              {...this.props.additionalMessageInputProps}\n            />\n          </Modal>\n        )}\n        <div\n          key={message.id}\n          className={`\n\t\t\t\t\t\t${messageClasses}\n\t\t\t\t\t\tstr-chat__message--${message.type}\n\t\t\t\t\t\tstr-chat__message--${message.status}\n\t\t\t\t\t\t${message.text ? 'str-chat__message--has-text' : 'has-no-text'}\n\t\t\t\t\t\t${hasAttachment ? 'str-chat__message--has-attachment' : ''}\n\t\t\t\t\t\t${hasReactions ? 'str-chat__message--with-reactions' : ''}\n\t\t\t\t\t`.trim()}\n          onMouseLeave={this._hideOptions}\n          ref={this.messageRef}\n        >\n          {this.renderStatus()}\n\n          <Avatar\n            image={message.user.image}\n            name={message.user.name || message.user.id}\n          />\n          <div\n            className=\"str-chat__message-inner\"\n            onClick={\n              message.status === 'failed'\n                ? handleRetry.bind(this, message)\n                : null\n            }\n          >\n            {!message.text && (\n              <React.Fragment>\n                {this.renderOptions()}\n                {/* if reactions show them */}\n                {hasReactions && !this.state.showDetailedReactions && (\n                  <ReactionsList\n                    reactions={message.latest_reactions}\n                    reaction_counts={message.reaction_counts}\n                    onClick={this._clickReactionList}\n                    reverse={true}\n                  />\n                )}\n                {this.state.showDetailedReactions && (\n                  <ReactionSelector\n                    handleReaction={handleReaction}\n                    detailedView\n                    reaction_counts={message.reaction_counts}\n                    latest_reactions={message.latest_reactions}\n                    messageList={messageListRect}\n                    ref={this.reactionSelectorRef}\n                  />\n                )}\n              </React.Fragment>\n            )}\n\n            <div className=\"str-chat__message-attachment-container\">\n              {hasAttachment &&\n                message.attachments.map((attachment, index) => {\n                  if (attachment.type === 'image' && images.length > 1)\n                    return null;\n\n                  return (\n                    <Attachment\n                      key={`${message.id}-${index}`}\n                      attachment={attachment}\n                      actionHandler={handleAction}\n                    />\n                  );\n                })}\n            </div>\n            {images.length > 1 && <Gallery images={images} />}\n\n            {message.text && (\n              <div className=\"str-chat__message-text\">\n                <div\n                  className={`\n\t\t\t\t\t\t\t\t\tstr-chat__message-text-inner str-chat__message-simple-text-inner\n\t\t\t\t\t\t\t\t\t${this.state.isFocused ? 'str-chat__message-text-inner--focused' : ''}\n\t\t\t\t\t\t\t\t\t${hasAttachment ? 'str-chat__message-text-inner--has-attachment' : ''}\n\t\t\t\t\t\t\t\t\t${\n                    isOnlyEmojis(message.text)\n                      ? 'str-chat__message-simple-text-inner--is-emoji'\n                      : ''\n                  }\n                `.trim()}\n                  onMouseOver={onMentionsHoverMessage}\n                  onClick={onMentionsClickMessage}\n                >\n                  {message.type === 'error' && (\n                    <div className=\"str-chat__simple-message--error-message\">\n                      {t('Error ¬∑ Unsent')}\n                    </div>\n                  )}\n                  {message.status === 'failed' && (\n                    <div className=\"str-chat__simple-message--error-message\">\n                      {t('Message Failed ¬∑ Click to try again')}\n                    </div>\n                  )}\n\n                  {unsafeHTML ? (\n                    <div dangerouslySetInnerHTML={{ __html: message.html }} />\n                  ) : (\n                    renderText(message)\n                  )}\n\n                  {/* if reactions show them */}\n                  {hasReactions && !this.state.showDetailedReactions && (\n                    <ReactionsList\n                      reactions={message.latest_reactions}\n                      reaction_counts={message.reaction_counts}\n                      onClick={this._clickReactionList}\n                      reverse={true}\n                    />\n                  )}\n                  {this.state.showDetailedReactions && (\n                    <ReactionSelector\n                      mine={this.isMine()}\n                      handleReaction={handleReaction}\n                      actionsEnabled={actionsEnabled}\n                      detailedView\n                      reaction_counts={message.reaction_counts}\n                      latest_reactions={message.latest_reactions}\n                      messageList={messageListRect}\n                      ref={this.reactionSelectorRef}\n                    />\n                  )}\n                </div>\n\n                {message.text && this.renderOptions()}\n              </div>\n            )}\n            {!threadList && message.reply_count !== 0 && (\n              <div className=\"str-chat__message-simple-reply-button\">\n                <MessageRepliesCountButton\n                  onClick={handleOpenThread}\n                  reply_count={message.reply_count}\n                />\n              </div>\n            )}\n            <div\n              className={`str-chat__message-data str-chat__message-simple-data`}\n            >\n              {!this.isMine() ? (\n                <span className=\"str-chat__message-simple-name\">\n                  {message.user.name || message.user.id}\n                </span>\n              ) : null}\n              <span className=\"str-chat__message-simple-timestamp\">{when}</span>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nMessageSimple = withTranslationContext(MessageSimple);\nexport { MessageSimple };\n","import React, { PureComponent } from 'react';\nimport {\n  withChatContext,\n  ChannelContext,\n  withTranslationContext,\n} from '../context';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport Visibility from 'visibilityjs';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { MessageSimple } from './MessageSimple';\nimport { Attachment } from './Attachment';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nclass Channel extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { error: false };\n  }\n  static propTypes = {\n    /** Which channel to connect to, will initialize the channel if it's not initialized yet */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }),\n    /** Client is passed automatically via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /**\n     * Empty channel UI component. This will be shown on the screen if there is no active channel.\n     *\n     * Defaults to null which skips rendering the Channel\n     *\n     * */\n    EmptyPlaceholder: PropTypes.node,\n    /**\n     * Error indicator UI component. This will be shown on the screen if channel query fails.\n     *\n     * Defaults to and accepts same props as: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react/#loadingerrorindicator)\n     *\n     * */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n    /**\n     * Loading indicator UI component. This will be shown on the screen until the messages are\n     * being queried from channel≈ì. Once the messages are loaded, loading indicator is removed from the screen\n     * and replaced with children of the Channel component.\n     *\n     * Defaults to and accepts same props as: [LoadingIndicator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingIndicator.js)\n     */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Message UI component to display a message in message list.\n     *\n     * Available built-in components (also accepts the same props as):\n     *\n     * 1. [MessageSimple](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageSimple.js) (default)\n     * 2. [MessageTeam](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageTeam.js)\n     * 3. [MessageLivestream](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageLivestream.js)\n     * 3. [MessageCommerce](https://github.com/GetStream/stream-chat-react/blob/master/src/components/MessageCommerce.js)\n     *\n     * */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Attachment UI component to display attachment in individual message.\n     *\n     * Defaults to and accepts same props as: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Handle for click on @mention in message\n     *\n     * @param {Event} event DOM Click event\n     * @param {User} user   Target [user object](https://getstream.io/chat/docs/#chat-doc-set-user) which is clicked\n     */\n    onMentionsClick: PropTypes.func,\n    /**\n     * Handle for hover on @mention in message\n     *\n     * @param {Event} event DOM hover event\n     * @param {User} user   Target [user object](https://getstream.io/chat/docs/#chat-doc-set-user) which is hovered\n     */\n    onMentionsHover: PropTypes.func,\n    /** Weather to allow multiple attachment uploads */\n    multipleUploads: PropTypes.bool,\n    /** List of accepted file types */\n    acceptedFiles: PropTypes.array,\n    /** Maximum number of attachments allowed per message */\n    maxNumberOfFiles: PropTypes.number,\n    /** Override send message request (Advanced usage only)\n     *\n     * @param {String} channelId full channel ID in format of `type:id`\n     * @param {Object} message\n     */\n    doSendMessageRequest: PropTypes.func,\n    /** Override update(edit) message request (Advanced usage only)\n     *\n     * @param {String} channelId full channel ID in format of `type:id`\n     * @param {Object} updatedMessage\n     */\n    doUpdateMessageRequest: PropTypes.func,\n  };\n\n  static defaultProps = {\n    EmptyPlaceholder: null,\n    LoadingIndicator,\n    LoadingErrorIndicator,\n    Message: MessageSimple,\n    Attachment,\n  };\n\n  render() {\n    if (!this.props.channel || !this.props.channel.cid) {\n      return this.props.EmptyPlaceholder;\n    }\n    // We use a wrapper to make sure the key variable is set.\n    // this ensures that if you switch channel the component is recreated\n    return <ChannelInner {...this.props} key={this.props.channel.cid} />;\n  }\n}\n\nclass ChannelInner extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      // Loading the initial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: true,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n      eventHistory: {},\n      thread: false,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true,\n    };\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreThreadFinishedDebounced = debounce(\n      this.loadMoreThreadFinished,\n      2000,\n      {\n        leading: true,\n        trailing: true,\n      },\n    );\n\n    this._markReadThrottled = throttle(this.markRead, 500, {\n      leading: true,\n      trailing: true,\n    });\n    this._setStateThrottled = throttle(this.setState, 500, {\n      leading: true,\n      trailing: true,\n    });\n  }\n\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n  };\n\n  async componentDidMount() {\n    const channel = this.props.channel;\n    let errored = false;\n    if (!channel.initialized) {\n      try {\n        await channel.watch();\n      } catch (e) {\n        this.setState({ error: e });\n        errored = true;\n      }\n    }\n    this.originalTitle = document.title;\n    this.lastRead = new Date();\n    if (!errored) {\n      this.copyChannelState();\n      this.listenToChanges();\n    }\n  }\n\n  componentDidUpdate() {\n    // If there is an active thread, then in that case we should sync\n    // it with updated state of channel.\n    if (this.state.thread) {\n      for (let i = this.state.messages.length - 1; i >= 0; i--) {\n        if (this.state.messages[i].id === this.state.thread.id) {\n          this.setState({\n            thread: this.state.messages[i],\n          });\n          break;\n        }\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.client.off('connection.recovered', this.handleEvent);\n    this.props.channel.off(this.handleEvent);\n    this._loadMoreFinishedDebounced.cancel();\n    this._loadMoreThreadFinishedDebounced.cancel();\n\n    if (this.visibilityListener || this.visibilityListener === 0) {\n      Visibility.unbind(this.visibilityListener);\n    }\n  }\n\n  openThread = (message, e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    const channel = this.props.channel;\n    const threadMessages = channel.state.threads[message.id] || [];\n\n    this.setState({\n      thread: message,\n      threadMessages,\n    });\n  };\n\n  loadMoreThread = async () => {\n    // prevent duplicate loading events...\n    if (this.state.threadLoadingMore) return;\n    this.setState({\n      threadLoadingMore: true,\n    });\n    const channel = this.props.channel;\n    const parentID = this.state.thread.id;\n    const oldMessages = channel.state.threads[parentID] || [];\n    const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n    const limit = 50;\n    const queryResponse = await channel.getReplies(parentID, {\n      limit,\n      id_lt: oldestMessageID,\n    });\n\n    const hasMore = queryResponse.messages.length === limit;\n\n    const threadMessages = channel.state.threads[parentID] || [];\n\n    // next set loadingMore to false so we can start asking for more data...\n    this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n  };\n\n  loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n    this.setState({\n      threadLoadingMore: false,\n      threadHasMore,\n      threadMessages,\n    });\n  };\n\n  closeThread = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    this.setState({\n      thread: null,\n      threadMessages: [],\n    });\n  };\n\n  copyChannelState() {\n    const channel = this.props.channel;\n\n    this.setState({\n      messages: channel.state.messages,\n      read: channel.state.read,\n      watchers: channel.state.watchers,\n      members: channel.state.members,\n      watcher_count: channel.state.watcher_count,\n      loading: false,\n      typing: Immutable({}),\n    });\n\n    if (channel.countUnread() > 0) channel.markRead();\n  }\n\n  updateMessage = (updatedMessage, extraState) => {\n    const channel = this.props.channel;\n\n    extraState = extraState || {};\n\n    // adds the message to the local channel state..\n    // this adds to both the main channel state as well as any reply threads\n    channel.state.addMessageSorted(updatedMessage);\n\n    // update the Channel component state\n    if (this.state.thread && updatedMessage.parent_id) {\n      extraState.threadMessages =\n        channel.state.threads[updatedMessage.parent_id] || [];\n    }\n    this.setState({ messages: channel.state.messages, ...extraState });\n  };\n\n  removeMessage = (message) => {\n    const channel = this.props.channel;\n    channel.state.removeMessage(message);\n    const threadMessages = channel.state.threads[message.parent_id] || [];\n    this.setState({\n      messages: channel.state.messages,\n      threads: channel.state.threads,\n      threadMessages,\n    });\n  };\n\n  removeEphemeralMessages() {\n    const c = this.props.channel;\n    c.state.selectRegularMessages();\n    this.setState({ messages: c.state.messages });\n  }\n\n  createMessagePreview = (text, attachments, parent, mentioned_users) => {\n    // create a preview of the message\n    const clientSideID = `${this.props.client.userID}-` + uuidv4();\n    const message = {\n      text,\n      html: text,\n      __html: text,\n      //id: tmpID,\n      id: clientSideID,\n      type: 'regular',\n      status: 'sending',\n      user: {\n        id: this.props.client.userID,\n        ...this.props.client.user,\n      },\n      created_at: new Date(),\n      attachments,\n      mentioned_users,\n      reactions: [],\n    };\n\n    if (parent && parent.id) {\n      message.parent_id = parent.id;\n    }\n    return message;\n  };\n\n  editMessage = (updatedMessage) => {\n    if (this.props.doUpdateMessageRequest) {\n      return Promise.resolve(\n        this.props.doUpdateMessageRequest(\n          this.props.channel.cid,\n          updatedMessage,\n        ),\n      );\n    }\n\n    return this.props.client.updateMessage(updatedMessage);\n  };\n\n  _sendMessage = async (message) => {\n    const { text, attachments, id, parent_id, mentioned_users } = message;\n    const messageData = {\n      text,\n      attachments,\n      mentioned_users,\n      id,\n      parent_id,\n    };\n\n    try {\n      let messageResponse;\n      if (this.props.doSendMessageRequest) {\n        messageResponse = await this.props.doSendMessageRequest(\n          this.props.channel.cid,\n          messageData,\n        );\n      } else {\n        messageResponse = await this.props.channel.sendMessage(messageData);\n      }\n\n      // replace it after send is completed\n      if (messageResponse.message) {\n        messageResponse.message.status = 'received';\n        this.updateMessage(messageResponse.message);\n      }\n    } catch (error) {\n      // set the message to failed..\n      message.status = 'failed';\n      this.updateMessage(message);\n    }\n  };\n\n  sendMessage = async ({\n    text,\n    attachments = [],\n    mentioned_users = [],\n    parent,\n  }) => {\n    // remove error messages upon submit\n    this.props.channel.state.filterErrorMessages();\n\n    // create a local preview message to show in the UI\n    const messagePreview = this.createMessagePreview(\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n    );\n\n    // first we add the message to the UI\n    this.updateMessage(messagePreview, {\n      messageInput: '',\n      commands: [],\n      userAutocomplete: [],\n    });\n\n    await this._sendMessage(messagePreview);\n  };\n\n  retrySendMessage = async (message) => {\n    // set the message status to sending\n    message = message.asMutable();\n    message.status = 'sending';\n    this.updateMessage(message);\n    // actually try to send the message...\n    await this._sendMessage(message);\n  };\n\n  handleEvent = (e) => {\n    const { channel } = this.props;\n    let threadMessages = [];\n    const threadState = {};\n    if (this.state.thread) {\n      threadMessages = channel.state.threads[this.state.thread.id] || [];\n      threadState['threadMessages'] = threadMessages;\n    }\n\n    if (\n      this.state.thread &&\n      e.message &&\n      e.message.id === this.state.thread.id\n    ) {\n      threadState['thread'] = channel.state.messageToImmutable(e.message);\n    }\n\n    if (Object.keys(threadState).length > 0) {\n      // TODO: in theory we should do 1 setState call not 2,\n      // However the setStateThrottled doesn't support this\n      this.setState(threadState);\n    }\n\n    if (e.type === 'message.new') {\n      let mainChannelUpdated = true;\n      if (e.message.parent_id && !e.message.show_in_channel) {\n        mainChannelUpdated = false;\n      }\n\n      if (\n        mainChannelUpdated &&\n        e.message.user.id !== this.props.client.userID\n      ) {\n        if (Visibility.state() === 'visible') {\n          this._markReadThrottled(channel);\n        } else {\n          const unread = channel.countUnread(this.lastRead);\n          document.title = `(${unread}) ${this.originalTitle}`;\n        }\n      }\n    }\n\n    if (e.type === 'member.added') {\n      this.addToEventHistory(e);\n    }\n\n    if (e.type === 'member.removed') {\n      this.addToEventHistory(e);\n    }\n\n    this._setStateThrottled({\n      messages: channel.state.messages,\n      watchers: channel.state.watchers,\n      read: channel.state.read,\n      typing: channel.state.typing,\n      watcher_count: channel.state.watcher_count,\n    });\n  };\n\n  addToEventHistory = (e) => {\n    this.setState((prevState) => {\n      if (!prevState.message || !prevState.message.length) {\n        return;\n      }\n      const lastMessageId =\n        prevState.messages[prevState.messages.length - 1].id;\n      if (!prevState.eventHistory[lastMessageId])\n        return {\n          ...prevState,\n          eventHistory: {\n            ...prevState.eventHistory,\n            [lastMessageId]: [e],\n          },\n        };\n\n      return {\n        ...prevState,\n        eventHistory: {\n          ...prevState.eventHistory,\n          [lastMessageId]: [...prevState.eventHistory[lastMessageId], e],\n        },\n      };\n    });\n  };\n\n  markRead = (channel) => {\n    if (!channel.getConfig().read_events) {\n      return;\n    }\n    this.lastRead = new Date();\n\n    logChatPromiseExecution(channel.markRead(), 'mark read');\n\n    if (this.originalTitle) {\n      document.title = this.originalTitle;\n    }\n  };\n\n  listenToChanges() {\n    // The more complex sync logic is done in chat.js\n    // listen to client.connection.recovered and all channel events\n    this.props.client.on('connection.recovered', this.handleEvent);\n    const channel = this.props.channel;\n    channel.on(this.handleEvent);\n    this.boundMarkRead = this.markRead.bind(this, channel);\n    this.visibilityListener = Visibility.change((e, state) => {\n      if (state === 'visible') {\n        this.boundMarkRead();\n      }\n    });\n  }\n\n  loadMore = async (limit = 100) => {\n    // prevent duplicate loading events...\n    if (this.state.loadingMore) return;\n    this.setState({ loadingMore: true });\n\n    const oldestMessage = this.state.messages[0];\n\n    if (oldestMessage && oldestMessage.status !== 'received') {\n      this.setState({\n        loadingMore: false,\n      });\n\n      return;\n    }\n\n    const oldestID = oldestMessage ? oldestMessage.id : null;\n\n    const perPage = limit;\n    let queryResponse;\n    try {\n      queryResponse = await this.props.channel.query({\n        messages: { limit: perPage, id_lt: oldestID },\n      });\n    } catch (e) {\n      console.warn('message pagination request failed with error', e);\n      this.setState({ loadingMore: false });\n      return;\n    }\n    const hasMore = queryResponse.messages.length === perPage;\n\n    this._loadMoreFinishedDebounced(hasMore, this.props.channel.state.messages);\n  };\n\n  _onMentionsHoverOrClick = (e, mentioned_users) => {\n    if (!this.props.onMentionsHover && !this.props.onMentionsClick) return;\n\n    const tagName = e.target.tagName.toLowerCase();\n    const textContent = e.target.innerHTML.replace('*', '');\n    if (tagName === 'strong' && textContent[0] === '@') {\n      const userName = textContent.replace('@', '');\n      const user = mentioned_users.find(\n        (user) => user.name === userName || user.id === userName,\n      );\n      if (\n        this.props.onMentionsHover &&\n        typeof this.props.onMentionsHover === 'function' &&\n        e.type === 'mouseover'\n      ) {\n        this.props.onMentionsHover(e, user);\n      }\n      if (\n        this.props.onMentionsClick &&\n        e.type === 'click' &&\n        typeof this.props.onMentionsClick === 'function'\n      ) {\n        this.props.onMentionsClick(e, user);\n      }\n    }\n  };\n\n  loadMoreFinished = (hasMore, messages) => {\n    this.setState({\n      loadingMore: false,\n      hasMore,\n      messages,\n    });\n  };\n\n  getContext = () => ({\n    ...this.state,\n    client: this.props.client,\n    channel: this.props.channel,\n    Message: this.props.Message,\n    Attachment: this.props.Attachment,\n    multipleUploads: this.props.multipleUploads,\n    acceptedFiles: this.props.acceptedFiles,\n    maxNumberOfFiles: this.props.maxNumberOfFiles,\n    updateMessage: this.updateMessage,\n    removeMessage: this.removeMessage,\n    sendMessage: this.sendMessage,\n    editMessage: this.editMessage,\n    retrySendMessage: this.retrySendMessage,\n    loadMore: this.loadMore,\n\n    // thread related\n    openThread: this.openThread,\n    closeThread: this.closeThread,\n    loadMoreThread: this.loadMoreThread,\n    onMentionsClick: this._onMentionsHoverOrClick,\n    onMentionsHover: this._onMentionsHoverOrClick,\n  });\n\n  renderComponent = () => this.props.children;\n\n  render() {\n    const { t } = this.props;\n\n    let core;\n    const LoadingIndicator = this.props.LoadingIndicator;\n    const LoadingErrorIndicator = this.props.LoadingErrorIndicator;\n\n    if (this.state.error) {\n      core = (\n        <LoadingErrorIndicator error={this.state.error}></LoadingErrorIndicator>\n      );\n    } else if (this.state.loading) {\n      core = <LoadingIndicator size={25} isLoading={true} />;\n    } else if (!this.props.channel || !this.props.channel.watch) {\n      core = <div>{t('Channel Missing')}</div>;\n    } else {\n      core = (\n        <ChannelContext.Provider value={this.getContext()}>\n          <div className=\"str-chat__container\">{this.renderComponent()}</div>\n        </ChannelContext.Provider>\n      );\n    }\n\n    return (\n      <div className={`str-chat str-chat-channel ${this.props.theme}`}>\n        {core}\n      </div>\n    );\n  }\n}\n\nChannel = withChatContext(withTranslationContext(Channel));\n\nexport { Channel };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar } from './Avatar';\nimport {\n  withChatContext,\n  withChannelContext,\n  withTranslationContext,\n} from '../context';\n\n/**\n * ChannelHeader - Render some basic information about this channel\n *\n * @example ./docs/ChannelHeader.md\n * @extends PureComponent\n */\nclass ChannelHeader extends PureComponent {\n  static propTypes = {\n    /** Set title manually */\n    title: PropTypes.string,\n    /** Show a little indicator that the channel is live right now */\n    live: PropTypes.bool,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#chat)** */\n    watcher_count: PropTypes.number,\n  };\n\n  render() {\n    const { t, channel, title, live, watcher_count } = this.props;\n\n    return (\n      <div className=\"str-chat__header-livestream\">\n        <div\n          className=\"str-chat__header-hamburger\"\n          onClick={this.props.openMobileNav}\n        >\n          <span className=\"str-chat__header-hamburger--line\"></span>\n          <span className=\"str-chat__header-hamburger--line\"></span>\n          <span className=\"str-chat__header-hamburger--line\"></span>\n        </div>\n        {channel.data.image && (\n          <Avatar\n            image={channel.data.image}\n            shape=\"rounded\"\n            size={channel.type === 'commerce' ? 60 : 40}\n          />\n        )}\n        <div className=\"str-chat__header-livestream-left\">\n          <p className=\"str-chat__header-livestream-left--title\">\n            {title || channel.data.name}{' '}\n            {live && (\n              <span className=\"str-chat__header-livestream-left--livelabel\">\n                {t('live')}\n              </span>\n            )}\n          </p>\n          {channel.data.subtitle && (\n            <p className=\"str-chat__header-livestream-left--subtitle\">\n              {channel.data.subtitle}\n            </p>\n          )}\n          <p className=\"str-chat__header-livestream-left--members\">\n            {!live && channel.data.member_count > 0 && (\n              <>\n                {t('{{ memberCount }} members', {\n                  memberCount: channel.data.member_count,\n                })}\n                ,{' '}\n              </>\n            )}\n            {t('{{ watcherCount }} online', { watcherCount: watcher_count })}\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nChannelHeader = withChatContext(ChannelHeader);\nChannelHeader = withChannelContext(withTranslationContext(ChannelHeader));\nexport { ChannelHeader };\n","import React, { PureComponent } from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\nimport truncate from 'lodash/truncate';\nimport { withTranslationContext } from '../context';\n\n/**\n * Used as preview component for channel item in [ChannelList](#channellist) component.\n *\n * @example ./docs/ChannelPreviewLastMessage.md\n * @extends PureComponent\n */\n\nclass ChannelPreviewLastMessage extends PureComponent {\n  static propTypes = {\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** Current selected channel object */\n    activeChannel: PropTypes.object,\n    /** Setter for selected channel */\n    setActiveChannel: PropTypes.func.isRequired,\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n    /** Number of unread messages */\n    unread: PropTypes.number,\n    /** If channel of component is active (selected) channel */\n    active: PropTypes.bool,\n    /** Latest message's text. */\n    latestMessage: PropTypes.string,\n    /** Length of latest message to truncate at */\n    latestMessageLength: PropTypes.number,\n  };\n\n  static defaultProps = {\n    latestMessageLength: 20,\n  };\n\n  channelPreviewButton = React.createRef();\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel, this.props.watchers);\n    this.channelPreviewButton.current.blur();\n  };\n\n  render() {\n    const { t } = this.props;\n\n    const unreadClass =\n      this.props.unread >= 1 ? 'str-chat__channel-preview--unread' : '';\n    const activeClass = this.props.active\n      ? 'str-chat__channel-preview--active'\n      : '';\n    const name = this.props.channel.data.name || this.props.channel.cid;\n    return (\n      <div\n        className={`str-chat__channel-preview ${unreadClass} ${activeClass}`}\n      >\n        <button onClick={this.onSelectChannel} ref={this.channelPreviewButton}>\n          {this.props.unread >= 1 && (\n            <div className=\"str-chat__channel-preview--dot\" />\n          )}\n          <Avatar image={this.props.channel.data.image} />\n          <div className=\"str-chat__channel-preview-info\">\n            <span className=\"str-chat__channel-preview-title\">{name}</span>\n            <span className=\"str-chat__channel-preview-last-message\">\n              {!this.props.channel.state.messages[0]\n                ? t('Nothing yet...')\n                : truncate(this.props.latestMessage, {\n                    length: this.props.latestMessageLength,\n                  })}\n            </span>\n            {this.props.unread >= 1 && (\n              <span className=\"str-chat__channel-preview-unread-count\">\n                {this.props.unread}\n              </span>\n            )}\n          </div>\n        </button>\n      </div>\n    );\n  }\n}\n\nChannelPreviewLastMessage = withTranslationContext(ChannelPreviewLastMessage);\nexport { ChannelPreviewLastMessage };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ChannelPreviewCountOnly extends PureComponent {\n  static propTypes = {\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** Current selected channel object */\n    activeChannel: PropTypes.object,\n    /** @see See [chat context](https://getstream.github.io/stream-chat-react/#chat) for doc */\n    setActiveChannel: PropTypes.func.isRequired,\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n    /** Number of unread messages */\n    unread: PropTypes.number,\n  };\n\n  render() {\n    const unreadClass = this.props.unread >= 1 ? 'unread' : '';\n    const name = this.props.channel.data.name || this.props.channel.cid;\n\n    return (\n      <div className={unreadClass}>\n        <button\n          onClick={this.props.setActiveChannel.bind(this, this.props.channel)}\n        >\n          {' '}\n          {name} <span>{this.props.unread}</span>\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ChannelPreviewCountOnly } from './ChannelPreviewCountOnly';\nimport { withTranslationContext } from '../context';\n\nclass ChannelPreview extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lastMessage: {},\n      unread: 0,\n      lastRead: new Date(),\n    };\n  }\n\n  static propTypes = {\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** Current selected channel object */\n    activeChannel: PropTypes.object,\n    /** Setter for selected channel */\n    setActiveChannel: PropTypes.func.isRequired,\n    /**\n     * Available built-in options (also accepts the same props as):\n     *\n     * 1. [ChannelPreviewCompact](https://getstream.github.io/stream-chat-react/#ChannelPreviewCompact) (default)\n     * 2. [ChannelPreviewLastMessage](https://getstream.github.io/stream-chat-react/#ChannelPreviewLastMessage)\n     * 3. [ChannelPreviewMessanger](https://getstream.github.io/stream-chat-react/#ChannelPreviewMessanger)\n     *\n     * The Preview to use, defaults to ChannelPreviewLastMessage\n     * */\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n  };\n\n  static defaultProps = {\n    Preview: ChannelPreviewCountOnly,\n  };\n\n  componentDidMount() {\n    // listen to change...\n    const channel = this.props.channel;\n    const unread = channel.countUnread();\n\n    this.setState({ unread });\n    channel.on('message.new', this.handleEvent);\n    channel.on('message.updated', this.handleEvent);\n    channel.on('message.deleted', this.handleEvent);\n  }\n\n  componentWillUnmount() {\n    const channel = this.props.channel;\n    channel.off('message.new', this.handleEvent);\n    channel.off('message.updated', this.handleEvent);\n    channel.off('message.deleted', this.handleEvent);\n  }\n\n  handleEvent = (event) => {\n    const channel = this.props.channel;\n    const isActive =\n      this.props.activeChannel && this.props.activeChannel.cid === channel.cid;\n    if (!isActive) {\n      const unread = channel.countUnread(this.state.lastRead);\n      this.setState({ lastMessage: event.message, unread });\n    } else {\n      this.setState({ lastMessage: event.message, unread: 0 });\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.activeChannel &&\n      prevProps.activeChannel &&\n      this.props.activeChannel.cid !== prevProps.activeChannel.cid\n    ) {\n      const isActive = this.props.activeChannel.cid === this.props.channel.cid;\n      if (isActive) {\n        this.setState({ unread: 0, lastRead: new Date() });\n      }\n    }\n  }\n\n  getLatestMessage = () => {\n    const { channel, t } = this.props;\n\n    const latestMessage =\n      channel.state.messages[channel.state.messages.length - 1];\n\n    if (!latestMessage) {\n      return t('Nothing yet...');\n    }\n    if (latestMessage.deleted_at) {\n      return t('Message deleted');\n    }\n    if (latestMessage.text) {\n      return latestMessage.text;\n    } else {\n      if (latestMessage.command) {\n        return '/' + latestMessage.command;\n      }\n      if (latestMessage.attachments.length) {\n        return t('üèô Attachment...');\n      }\n      return t('Empty message...');\n    }\n  };\n\n  render() {\n    const props = { ...this.state, ...this.props };\n\n    const { Preview } = this.props;\n    return (\n      <Preview\n        {...props}\n        latestMessage={this.getLatestMessage()}\n        active={\n          this.props.activeChannel &&\n          this.props.activeChannel.cid === this.props.channel.cid\n        }\n      />\n    );\n  }\n}\n\nChannelPreview = withTranslationContext(ChannelPreview);\n\nexport { ChannelPreview };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nexport const EmptyStateIndicator = withTranslationContext(({ listType, t }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <p>{t('You have no channels currently')}</p>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <p>No items exist</p>;\n      break;\n  }\n\n  return Indicator;\n});\n\nEmptyStateIndicator.propTypes = {\n  /** channel | message */\n  listType: PropTypes.string,\n};\n","import React from 'react';\n\n/**\n * LoadingChannels - Fancy loading indicator for the channel list\n *\n * @example ./docs/LoadingChannels.md\n */\nexport const LoadingChannels = () => (\n  <div className=\"str-chat__loading-channels\">\n    <div className=\"str-chat__loading-channels-item\">\n      <div className=\"str-chat__loading-channels-avatar\" />\n      <div className=\"str-chat__loading-channels-meta\">\n        <div className=\"str-chat__loading-channels-username\" />\n        <div className=\"str-chat__loading-channels-status\" />\n      </div>\n    </div>\n    <div className=\"str-chat__loading-channels-item\">\n      <div className=\"str-chat__loading-channels-avatar\" />\n      <div className=\"str-chat__loading-channels-meta\">\n        <div className=\"str-chat__loading-channels-username\" />\n        <div className=\"str-chat__loading-channels-status\" />\n      </div>\n    </div>\n    <div className=\"str-chat__loading-channels-item\">\n      <div className=\"str-chat__loading-channels-avatar\" />\n      <div className=\"str-chat__loading-channels-meta\">\n        <div className=\"str-chat__loading-channels-username\" />\n        <div className=\"str-chat__loading-channels-status\" />\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingIndicator } from 'react-file-utils';\n\nexport class LoadMoreButton extends React.PureComponent {\n  static propTypes = {\n    /** onClick handler load more button. Pagination logic should be executed in this handler. */\n    onClick: PropTypes.func,\n    /** If true, LoadingIndicator is displayed instead of button */\n    refreshing: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    children: 'Load more',\n  };\n\n  render() {\n    return (\n      <div className=\"str-chat__load-more-button\">\n        <button\n          className=\"str-chat__load-more-button__button\"\n          onClick={this.props.onClick}\n          disabled={this.props.refreshing}\n        >\n          {this.props.refreshing ? <LoadingIndicator /> : this.props.children}\n        </button>\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\nimport { LoadMoreButton } from './LoadMoreButton';\nimport PropTypes from 'prop-types';\nimport { smartRender } from '../utils';\n\nexport class LoadMorePaginator extends React.PureComponent {\n  static propTypes = {\n    LoadMoreButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** callback to load the next page */\n    loadNextPage: PropTypes.func,\n    /** indicates if there is a next page to load */\n    hasNextPage: PropTypes.bool,\n    /** display the items in opposite order */\n    reverse: PropTypes.bool,\n  };\n  static defaultProps = {\n    LoadMoreButton,\n  };\n  render() {\n    return (\n      <React.Fragment>\n        {!this.props.reverse && this.props.children}\n        {this.props.hasNextPage\n          ? smartRender(this.props.LoadMoreButton, {\n              refreshing: this.props.refreshing,\n              onClick: this.props.loadNextPage,\n            })\n          : null}\n        {this.props.reverse && this.props.children}\n      </React.Fragment>\n    );\n  }\n}\n","export default \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2278px%22%20height%3D%2278px%22%20viewBox%3D%220%200%2078%2078%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3ECombined%20Shape%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cg%20id%3D%22Interactions%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Connection-Error-_-Connectivity%22%20transform%3D%22translate%28-270.000000%2C%20-30.000000%29%22%20fill%3D%22%23CF1F25%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22109-network-connection%22%20transform%3D%22translate%28270.000000%2C%2030.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M66.4609744%2C11.414231%20C81.6225232%2C26.5757798%2081.6225232%2C51.157545%2066.4609744%2C66.3188467%20C51.2994256%2C81.4803954%2026.7176604%2C81.4803954%2011.5563587%2C66.3188467%20C-3.60519004%2C51.1572979%20-3.60519004%2C26.5755327%2011.5563587%2C11.414231%20C26.7179075%2C-3.74731776%2051.2996727%2C-3.74731776%2066.4609744%2C11.414231%20Z%20M54.7853215%2C45.8823776%20L54.7853215%2C40.5882574%20C54.7853215%2C39.613638%2053.9952341%2C38.8235506%2053.0206147%2C38.8235506%20L44.9576695%2C38.8235506%20L41.428256%2C42.3529641%20L51.255555%2C42.3529641%20L51.255555%2C45.8823776%20L54.7853215%2C45.8823776%20Z%20M40.6659027%2C43.1153174%20L37.8988425%2C45.8823776%20L40.6659027%2C45.8823776%20L40.6659027%2C43.1153174%20Z%20M51.1764962%2C56.4702653%20L58.2353232%2C56.4702653%20C59.2099355%2C56.4702653%2060.00003%2C55.6801708%2060.00003%2C54.7055585%20L60.00003%2C51.176145%20C60.00003%2C50.2015327%2059.2099355%2C49.4114382%2058.2353232%2C49.4114382%20L51.1764962%2C49.4114382%20C50.2018839%2C49.4114382%2049.4117894%2C50.2015327%2049.4117894%2C51.176145%20L49.4117894%2C54.7055585%20C49.4117894%2C55.6801708%2050.2018839%2C56.4702653%2051.1764962%2C56.4702653%20Z%20M35.2941353%2C56.4702653%20L42.3529624%2C56.4702653%20C43.3275746%2C56.4702653%2044.1176691%2C55.6801708%2044.1176691%2C54.7055585%20L44.1176691%2C51.176145%20C44.1176691%2C50.2015327%2043.3275746%2C49.4114382%2042.3529624%2C49.4114382%20L35.2941353%2C49.4114382%20C34.319523%2C49.4114382%2033.5294285%2C50.2015327%2033.5294285%2C51.176145%20L33.5294285%2C54.7055585%20C33.5294285%2C55.6801708%2034.319523%2C56.4702653%2035.2941353%2C56.4702653%20Z%20M56.6964989%2C19.0874231%20C56.007381%2C18.3985134%2054.8903216%2C18.3985134%2054.2012036%2C19.087423%20L45.882376%2C27.4062507%20L45.882376%2C19.4117761%20C45.882376%2C18.4371568%2045.0922885%2C17.6470693%2044.1176692%2C17.6470693%20L33.5294286%2C17.6470693%20C32.5548092%2C17.6470694%2031.7647218%2C18.4371568%2031.7647218%2C19.4117761%20L31.7647218%2C30.0000167%20C31.7647219%2C30.9746363%2032.5548092%2C31.7647237%2033.5294285%2C31.7647237%20L41.5239031%2C31.7647237%20L34.4650761%2C38.8235508%20L24.7058947%2C38.8235508%20C23.7312753%2C38.8235508%2022.9411879%2C39.6136382%2022.9411879%2C40.5882575%20L22.9411879%2C45.8823778%20L26.4706014%2C45.8823778%20L26.4706014%2C42.3529643%20L30.9356624%2C42.3529643%20L23.8768354%2C49.4117914%20L19.4117743%2C49.4117914%20C18.4371549%2C49.4117914%2017.6470675%2C50.2018788%2017.6470675%2C51.1764981%20L17.6470675%2C54.7059117%20C17.6504049%2C54.9674302%2017.7129076%2C55.2248042%2017.8298886%2C55.4587302%20L16.4456526%2C56.8429662%20C15.7446193%2C57.5200453%2015.7252005%2C58.6372282%2016.4022825%2C59.3382615%20C17.0793616%2C60.0392948%2018.1965445%2C60.0587136%2018.8975778%2C59.3816316%20C18.9122847%2C59.3674273%2018.9267436%2C59.3529684%2018.940948%2C59.3382615%20L56.6964963%2C21.5830662%20C57.3856425%2C20.8939094%2057.3856425%2C19.7765747%2056.6964963%2C19.0874179%20Z%22%20id%3D%22Combined-Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E\"","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LoadingChannels } from './LoadingChannels';\n\nimport placeholder from '../assets/str-chat__connection-error.svg';\nimport { withTranslationContext } from '../context';\n\n/**\n * ChatDown - Indicator that chat is down or your network isn't working\n *\n * @example ./docs/ChatDown.md\n * @extends PureComponent\n */\nclass ChatDown extends React.PureComponent {\n  static propTypes = {\n    /** The image url for this error */\n    image: PropTypes.string,\n    /** The type of error */\n    type: PropTypes.string,\n    /** The error message to show */\n    text: PropTypes.string,\n  };\n\n  static defaultProps = {\n    image: placeholder,\n    type: 'Error',\n  };\n\n  render() {\n    const { image, type, text, t } = this.props;\n\n    return (\n      <div className=\"str-chat__down\">\n        <LoadingChannels />\n        <div className=\"str-chat__down-main\">\n          <img src={image} />\n          <h1>{type}</h1>\n          <h3>\n            {text ||\n              t('Error connecting to chat, refresh the page to try again.')}\n          </h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatDown = withTranslationContext(ChatDown);\nexport { ChatDown };\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%228%22%20height%3D%225%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cdefs%3E%3Cpath%20id%3D%22b%22%20d%3D%22M.667.667L4%204%207.333.667z%22%2F%3E%3Cfilter%20x%3D%22-7.5%25%22%20y%3D%22-15%25%22%20width%3D%22115%25%22%20height%3D%22160%25%22%20filterUnits%3D%22objectBoundingBox%22%20id%3D%22a%22%3E%3CfeOffset%20dy%3D%221%22%20in%3D%22SourceAlpha%22%20result%3D%22shadowOffsetOuter1%22%2F%3E%3CfeComposite%20in%3D%22shadowOffsetOuter1%22%20in2%3D%22SourceAlpha%22%20operator%3D%22out%22%20result%3D%22shadowOffsetOuter1%22%2F%3E%3CfeColorMatrix%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.685858243%200%22%20in%3D%22shadowOffsetOuter1%22%2F%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cuse%20fill%3D%22%23000%22%20filter%3D%22url%28%23a%29%22%20xlink%3Ahref%3D%22%23b%22%2F%3E%3Cuse%20fill-opacity%3D%22.7%22%20fill%3D%22%23FFF%22%20xlink%3Ahref%3D%22%23b%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\"","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingChannels } from './LoadingChannels';\nimport { Avatar } from './Avatar';\nimport { ChatDown } from './ChatDown';\nimport { withChatContext } from '../context';\n\nimport chevrondown from '../assets/str-chat__icon-chevron-down.svg';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\nclass ChannelListTeam extends PureComponent {\n  static propTypes = {\n    /** When true, loading indicator is shown - [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js) */\n    loading: PropTypes.bool,\n    /** When true, error indicator is shown - [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js) */\n    error: PropTypes.bool,\n    /** Stream chat client object */\n    client: PropTypes.object,\n    /** When true, sidebar containing logo of the team is visible */\n    showSidebar: PropTypes.bool,\n    /** Url for sidebar logo image. */\n    sidebarImage: PropTypes.string,\n    /**\n     * Loading indicator UI Component. It will be displayed if `loading` prop is true.\n     *\n     * Defaults to and accepts same props as:\n     * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n     *\n     */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Error indicator UI Component. It will be displayed if `error` prop is true\n     *\n     * Defaults to and accepts same props as:\n     * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n     *\n     */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n  };\n\n  static defaultProps = {\n    error: false,\n    LoadingIndicator: LoadingChannels,\n    LoadingErrorIndicator: ChatDown,\n  };\n\n  render() {\n    const { showSidebar, LoadingErrorIndicator, LoadingIndicator } = this.props;\n    if (this.props.error) {\n      return <LoadingErrorIndicator type=\"Connection Error\" />;\n    } else if (this.props.loading) {\n      return <LoadingIndicator />;\n    } else {\n      return (\n        <div className=\"str-chat__channel-list-team\">\n          {showSidebar && (\n            <div className=\"str-chat__channel-list-team__sidebar\">\n              <div className=\"str-chat__channel-list-team__sidebar--top\">\n                <Avatar image={this.props.sidebarImage} size={50} />\n              </div>\n            </div>\n          )}\n          <div className=\"str-chat__channel-list-team__main\">\n            <div className=\"str-chat__channel-list-team__header\">\n              <div className=\"str-chat__channel-list-team__header--left\">\n                <Avatar\n                  source={this.props.client.user.image}\n                  name={\n                    this.props.client.user.name || this.props.client.user.id\n                  }\n                  size={40}\n                />\n              </div>\n              <div className=\"str-chat__channel-list-team__header--middle\">\n                <div className=\"str-chat__channel-list-team__header--title\">\n                  {this.props.client.user.name || this.props.client.user.id}\n                </div>\n                <div\n                  className={`str-chat__channel-list-team__header--status ${this.props.client.user.status}`}\n                >\n                  {this.props.client.user.status}\n                </div>\n              </div>\n              <div className=\"str-chat__channel-list-team__header--right\">\n                <button className=\"str-chat__channel-list-team__header--button\">\n                  <img src={chevrondown} />\n                </button>\n              </div>\n            </div>\n            {this.props.children}\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nChannelListTeam = withChatContext(ChannelListTeam);\nexport { ChannelListTeam };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport { isPromise } from '../utils';\n\nimport { ChannelPreviewLastMessage } from './ChannelPreviewLastMessage';\nimport { ChannelPreview } from './ChannelPreview';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { LoadingChannels } from './LoadingChannels';\nimport { LoadMorePaginator } from './LoadMorePaginator';\nimport { withChatContext } from '../context';\nimport { ChannelListTeam } from './ChannelListTeam';\nimport { smartRender } from '../utils';\nimport uniqBy from 'lodash.uniqby';\nimport deepequal from 'deep-equal';\nimport { ChatDown } from './ChatDown';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\n\nclass ChannelList extends PureComponent {\n  static propTypes = {\n    /**\n     *\n     *\n     * Indicator for Empty State\n     * */\n    EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Available built-in options (also accepts the same props as):\n     *\n     * 1. [ChannelPreviewCompact](https://getstream.github.io/stream-chat-react/#ChannelPreviewCompact) (default)\n     * 2. [ChannelPreviewLastMessage](https://getstream.github.io/stream-chat-react/#ChannelPreviewLastMessage)\n     * 3. [ChannelPreviewMessanger](https://getstream.github.io/stream-chat-react/#ChannelPreviewMessanger)\n     *\n     * The Preview to use, defaults to ChannelPreviewLastMessage\n     * */\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n    /**\n     * Loading indicator UI Component. It will be displayed until the channels are\n     * being queried from API. Once the channels are loaded/queried, loading indicator is removed\n     * and replaced with children of the Channel component.\n     *\n     * Defaults to and accepts same props as:\n     * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n     *\n     */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Error indicator UI Component. It will be displayed if there is any error if loading the channels.\n     * This error could be related to network or failing API.\n     *\n     * Defaults to and accepts same props as:\n     * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n     *\n     */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n    /**\n     * Custom UI Component for container of list of channels. Note that, list (UI component) of channels is passed\n     * to this component as children. This component is for the purpose of adding header to channel list or styling container\n     * for list of channels.\n     *\n     * Available built-in options (also accepts the same props as):\n     *\n     * 1. [ChannelListTeam](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChannelListTeam.js) (default)\n     * 2. [ChannelListMessenger](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChannelListMessenger.js)\n     *\n     * It has access to some additional props:\n     *\n     * - `setActiveChannel` {function} Check [chat context](https://getstream.github.io/stream-chat-react/#chat)\n     * - `activeChannel` Currently active channel object\n     * - `channels` {array} List of channels in channel list\n     */\n    List: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Paginator component for channels. It contains all the pagination logic such as\n     * - fetching next page of results when needed e.g., when scroll reaches the end of list\n     * - UI to display loading indicator when next page is being loaded\n     * - call to action button to trigger loading of next page.\n     *\n     * Available built-in options (also accepts the same props as):\n     *\n     * 1. [LoadMorePaginator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadMorePaginator.js)\n     * 2. [InfiniteScrollPaginator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/InfiniteScrollPaginator.js)\n     */\n    Paginator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Function that overrides default behaviour when new message is received on channel that is not being watched\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.message_new` event\n     * */\n    onMessageNew: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when users gets added to a channel\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.added_to_channel` event\n     * */\n    onAddedToChannel: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when users gets removed from a channel\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.removed_from_channel` event\n     * */\n    onRemovedFromChannel: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when channel gets updated\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.channel_updated` event\n     * */\n    onChannelUpdated: PropTypes.func,\n    /**\n     * Function to customize behaviour when channel gets truncated\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.truncated` event\n     * */\n    onChannelTruncated: PropTypes.func,\n    /**\n     * Function that overrides default behaviour when channel gets deleted. In absence of this prop, channel will be removed from the list.\n     *\n     * @param {Component} thisArg Reference to ChannelList component\n     * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.deleted` event\n     * */\n    onChannelDeleted: PropTypes.func,\n    /**\n     * Object containing query filters\n     * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for filter.\n     * */\n    filters: PropTypes.object,\n    /**\n     * Object containing query options\n     * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for options.\n     * */\n    options: PropTypes.object,\n    /**\n     * Object containing sort parameters\n     * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for sort.\n     * */\n    sort: PropTypes.object,\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n    /**\n     * Set a Channel to be active and move it to the top of the list of channels by ID.\n     * */\n    customAciveChannel: PropTypes.string,\n    /**\n     * Last channel will be set as active channel if true, defaults to true\n     */\n    setActiveChannelOnMount: PropTypes.bool,\n    /**\n     * If true, channels won't be dynamically sorted by most recent message.\n     */\n    lockChannelOrder: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    Preview: ChannelPreviewLastMessage,\n    LoadingIndicator: LoadingChannels,\n    LoadingErrorIndicator: ChatDown,\n    List: ChannelListTeam,\n    Paginator: LoadMorePaginator,\n    EmptyStateIndicator,\n    setActiveChannelOnMount: true,\n    filters: {},\n    options: {},\n    sort: {},\n    watchers: {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      // list of channels\n      channels: Immutable([]),\n      // loading channels\n      loadingChannels: true,\n      // error loading channels\n      refreshing: false,\n      hasNextPage: false,\n      offset: 0,\n      error: false,\n      connectionRecoveredCount: 0,\n      channelUpdateCount: 0,\n    };\n\n    this.menuButton = React.createRef();\n  }\n\n  static getDerivedStateFromError() {\n    return { error: true };\n  }\n\n  componentDidCatch(error, info) {\n    console.warn(error, info);\n  }\n\n  async componentDidMount() {\n    await this.queryChannels();\n    document.addEventListener('click', this._handleClickOutside);\n    this.listenToChanges();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (!deepequal(prevProps.filters, this.props.filters)) {\n      await this.setState({\n        offset: 0,\n        channels: Immutable([]),\n        loadingChannels: true,\n        refreshing: false,\n      });\n      await this.queryChannels();\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this._handleClickOutside);\n    this.props.client.off(this.handleEvent);\n  }\n\n  queryChannels = async () => {\n    const { options, filters, sort, setActiveChannelOnMount } = this.props;\n    const { offset } = this.state;\n\n    this.setState({ refreshing: true });\n\n    const newOptions = {\n      ...options,\n    };\n    if (!options.limit) newOptions.limit = 30;\n\n    const channelPromise = this.props.client.queryChannels(filters, sort, {\n      ...newOptions,\n      offset,\n    });\n\n    try {\n      let channelQueryResponse = channelPromise;\n      if (isPromise(channelQueryResponse)) {\n        channelQueryResponse = await channelPromise;\n      }\n      this.setState((prevState) => {\n        const channels = [...prevState.channels, ...channelQueryResponse];\n\n        return {\n          channels, // not unique somehow needs more checking\n          loadingChannels: false,\n          offset: channels.length,\n          hasNextPage:\n            channelQueryResponse.length >= newOptions.limit ? true : false,\n          refreshing: false,\n        };\n      });\n\n      // Set a channel as active and move it to the top of the list.\n      if (this.props.customActiveChannel) {\n        const customActiveChannel = channelQueryResponse.filter(\n          (channel) => channel.id === this.props.customActiveChannel,\n        )[0];\n        if (customActiveChannel) {\n          this.props.setActiveChannel(customActiveChannel, this.props.watchers);\n          this.moveChannelUp(customActiveChannel.cid);\n        }\n      } else if (\n        setActiveChannelOnMount &&\n        offset === 0 &&\n        this.state.channels.length\n      ) {\n        this.props.setActiveChannel(\n          this.state.channels[0],\n          this.props.watchers,\n        );\n      }\n    } catch (e) {\n      console.warn(e);\n      this.setState({ error: true, refreshing: false });\n    }\n  };\n\n  listenToChanges() {\n    this.props.client.on(this.handleEvent);\n  }\n\n  // eslint-disable-next-line sonarjs/cognitive-complexity\n  handleEvent = async (e) => {\n    if (e.type === 'user.presence.changed') {\n      let newChannels = this.state.channels;\n\n      newChannels = newChannels.map((channel) => {\n        if (!channel.state.members[e.user.id]) return channel;\n\n        channel.state.members.setIn([e.user.id, 'user'], e.user);\n\n        return channel;\n      });\n\n      this.setState({ channels: [...newChannels] });\n    }\n\n    if (e.type === 'message.new') {\n      !this.props.lockChannelOrder && this.moveChannelUp(e.cid);\n    }\n\n    // make sure to re-render the channel list after connection is recovered\n    if (e.type === 'connection.recovered') {\n      this.setState((prevState) => ({\n        connectionRecoveredCount: prevState.connectionRecoveredCount + 1,\n      }));\n    }\n\n    // move channel to start\n    if (e.type === 'notification.message_new') {\n      // if new message, put move channel up\n      // get channel if not in state currently\n      if (\n        this.props.onMessageNew &&\n        typeof this.props.onMessageNew === 'function'\n      ) {\n        this.props.onMessageNew(this, e);\n      } else {\n        const channel = await this.getChannel(e.channel.type, e.channel.id);\n        // move channel to starting position\n        this.setState((prevState) => ({\n          channels: uniqBy([channel, ...prevState.channels], 'cid'),\n        }));\n      }\n    }\n\n    // add to channel\n    if (e.type === 'notification.added_to_channel') {\n      if (\n        this.props.onAddedToChannel &&\n        typeof this.props.onAddedToChannel === 'function'\n      ) {\n        this.props.onAddedToChannel(this, e);\n      } else {\n        const channel = await this.getChannel(e.channel.type, e.channel.id);\n        this.setState((prevState) => ({\n          channels: uniqBy([channel, ...prevState.channels], 'cid'),\n        }));\n      }\n    }\n\n    // remove from channel\n    if (e.type === 'notification.removed_from_channel') {\n      if (\n        this.props.onRemovedFromChannel &&\n        typeof this.props.onRemovedFromChannel === 'function'\n      ) {\n        this.props.onRemovedFromChannel(this, e);\n      } else {\n        this.setState((prevState) => {\n          const channels = prevState.channels.filter(\n            (channel) => channel.cid !== e.channel.cid,\n          );\n          return {\n            channels,\n          };\n        });\n      }\n    }\n\n    // Update the channel with data\n    if (e.type === 'channel.updated') {\n      const channels = this.state.channels;\n      const channelIndex = channels.findIndex(\n        (channel) => channel.cid === e.channel.cid,\n      );\n      if (channelIndex > -1) {\n        channels[channelIndex].data = Immutable(e.channel);\n\n        this.setState({\n          channels: [...channels],\n          channelUpdateCount: this.state.channelUpdateCount + 1,\n        });\n      }\n\n      if (\n        this.props.onChannelUpdated &&\n        typeof this.props.onChannelUpdated === 'function'\n      ) {\n        this.props.onChannelUpdated(this, e);\n      }\n    }\n\n    // Channel is deleted\n    if (e.type === 'channel.deleted') {\n      if (\n        this.props.onChannelDeleted &&\n        typeof this.props.onChannelDeleted === 'function'\n      ) {\n        this.props.onChannelDeleted(this, e);\n      } else {\n        const channels = this.state.channels;\n        const channelIndex = channels.findIndex(\n          (channel) => channel.cid === e.channel.cid,\n        );\n\n        if (channelIndex < 0) return;\n\n        // Remove the deleted channel from the list.s\n        channels.splice(channelIndex, 1);\n        this.setState({\n          channels: [...channels],\n          channelUpdateCount: this.state.channelUpdateCount + 1,\n        });\n      }\n    }\n\n    if (e.type === 'channel.truncated') {\n      this.setState((prevState) => ({\n        channels: [...prevState.channels],\n        channelUpdateCount: prevState.channelUpdateCount + 1,\n      }));\n\n      if (\n        this.props.onChannelTruncated &&\n        typeof this.props.onChannelTruncated === 'function'\n      )\n        this.props.onChannelTruncated(this, e);\n    }\n\n    return null;\n  };\n\n  getChannel = async (type, id) => {\n    const channel = this.props.client.channel(type, id);\n    await channel.watch();\n    return channel;\n  };\n\n  moveChannelUp = (cid) => {\n    const channels = this.state.channels;\n    // get channel index\n    const channelIndex = this.state.channels.findIndex(\n      (channel) => channel.cid === cid,\n    );\n    if (channelIndex <= 0) return;\n\n    // get channel from channels\n    const channel = channels[channelIndex];\n\n    //remove channel from current position\n    channels.splice(channelIndex, 1);\n    //add channel at the start\n    channels.unshift(channel);\n\n    // set new channel state\n    this.setState({\n      channels: [...channels],\n    });\n  };\n\n  loadNextPage = () => {\n    this.queryChannels();\n  };\n\n  // new channel list // *********************************\n\n  _renderChannel = (item) => {\n    const { Preview, setActiveChannel, channel, watchers } = this.props;\n    if (!item) return;\n    const props = {\n      channel: item,\n      activeChannel: channel,\n      Preview,\n      setActiveChannel,\n      watchers,\n      key: item.id,\n      // To force the update of preview component upon channel update.\n      channelUpdateCount: this.state.channelUpdateCount,\n      connectionRecoveredCount: this.state.connectionRecoveredCount,\n    };\n    return smartRender(ChannelPreview, { ...props });\n  };\n\n  _handleClickOutside = (e) => {\n    if (\n      this.channelListRef &&\n      !this.channelListRef.contains(e.target) &&\n      this.props.navOpen\n    ) {\n      this.props.closeMobileNav();\n    }\n  };\n\n  render() {\n    const { List, Paginator, EmptyStateIndicator } = this.props;\n    const { channels, loadingChannels, refreshing, hasNextPage } = this.state;\n    return (\n      <React.Fragment>\n        <div\n          className={`str-chat str-chat-channel-list ${this.props.theme} ${\n            this.props.navOpen ? 'str-chat-channel-list--open' : ''\n          }`}\n          ref={(ref) => (this.channelListRef = ref)}\n        >\n          <List\n            loading={loadingChannels}\n            error={this.state.error}\n            channels={channels}\n            setActiveChannel={this.props.setActiveChannel}\n            activeChannel={this.props.channel}\n            showSidebar={this.props.showSidebar}\n            LoadingIndicator={this.props.LoadingIndicator}\n            LoadingErrorIndicator={this.props.LoadingErrorIndicator}\n          >\n            {!channels.length ? (\n              <EmptyStateIndicator listType=\"channel\" />\n            ) : (\n              smartRender(Paginator, {\n                loadNextPage: this.loadNextPage,\n                hasNextPage,\n                refreshing,\n                children: channels.map((item) => this._renderChannel(item)),\n              })\n            )}\n          </List>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nChannelList = withChatContext(ChannelList);\nexport { ChannelList };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingChannels } from './LoadingChannels';\nimport { ChatDown } from './ChatDown';\nimport { withChatContext } from '../context';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\nclass ChannelListMessenger extends PureComponent {\n  static propTypes = {\n    /** When true, loading indicator is shown - [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js) */\n    loading: PropTypes.bool,\n    /** When true, error indicator is shown - [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js) */\n    error: PropTypes.bool,\n    /**\n     * Loading indicator UI Component. It will be displayed if `loading` prop is true.\n     *\n     * Defaults to and accepts same props as:\n     * [LoadingChannels](https://github.com/GetStream/stream-chat-react/blob/master/src/components/LoadingChannels.js)\n     *\n     */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Error indicator UI Component. It will be displayed if `error` prop is true\n     *\n     * Defaults to and accepts same props as:\n     * [ChatDown](https://github.com/GetStream/stream-chat-react/blob/master/src/components/ChatDown.js)\n     *\n     */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n  };\n\n  static defaultProps = {\n    error: false,\n    LoadingIndicator: LoadingChannels,\n    LoadingErrorIndicator: ChatDown,\n  };\n\n  render() {\n    const {\n      error,\n      loading,\n      LoadingErrorIndicator,\n      LoadingIndicator,\n    } = this.props;\n    if (error) {\n      return <LoadingErrorIndicator type=\"Connection Error\" />;\n    } else if (loading) {\n      return <LoadingIndicator />;\n    } else {\n      return (\n        <div className=\"str-chat__channel-list-messenger\">\n          <div className=\"str-chat__channel-list-messenger__main\">\n            {this.props.children}\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nChannelListMessenger = withChatContext(ChannelListMessenger);\nexport { ChannelListMessenger };\n","import React from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\n/**\n *\n * @example ./docs/ChannelPreviewCompact.md\n * @extends PureComponent\n *\n */\nexport class ChannelPreviewCompact extends React.PureComponent {\n  static propTypes = {\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** Current selected channel object */\n    activeChannel: PropTypes.object,\n    /** Setter for selected channel */\n    setActiveChannel: PropTypes.func.isRequired,\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n    /** Number of unread messages */\n    unread: PropTypes.number,\n    /** If channel of component is active (selected) channel */\n    active: PropTypes.bool,\n    /** Latest message's text. */\n    latestMessage: PropTypes.string,\n  };\n\n  channelPreviewButton = React.createRef();\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel, this.props.watchers);\n    this.channelPreviewButton.current.blur();\n  };\n  render() {\n    const unreadClass =\n      this.props.unread_count >= 1\n        ? 'str-chat__channel-preview-compact--unread'\n        : '';\n    const activeClass = this.props.active\n      ? 'str-chat__channel-preview-compact--active'\n      : '';\n    const name = this.props.channel.data.name || this.props.channel.cid;\n    return (\n      <button\n        onClick={this.onSelectChannel}\n        ref={this.channelPreviewButton}\n        className={`str-chat__channel-preview-compact ${unreadClass} ${activeClass}`}\n      >\n        <div className=\"str-chat__channel-preview-compact--left\">\n          <Avatar image={this.props.channel.data.image} size={20} />\n        </div>\n        <div className=\"str-chat__channel-preview-compact--right\">{name}</div>\n      </button>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from './Avatar';\n\nimport truncate from 'lodash/truncate';\nimport { withTranslationContext } from '../context';\n\n/**\n * Used as preview component for channel item in [ChannelList](#channellist) component.\n * Its best suited for messenger type chat.\n *\n * @example ./docs/ChannelPreviewMessenger.md\n * @extends PureComponent\n */\nclass ChannelPreviewMessenger extends PureComponent {\n  static propTypes = {\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    channel: PropTypes.object.isRequired,\n    /** Current selected channel object */\n    activeChannel: PropTypes.object,\n    /** Setter for selected channel */\n    setActiveChannel: PropTypes.func.isRequired,\n    /**\n     * Object containing watcher parameters\n     * @see See [Pagination documentation](https://getstream.io/chat/docs/#channel_pagination) for a list of available fields for sort.\n     * */\n    watchers: PropTypes.object,\n    /** Number of unread messages */\n    unread: PropTypes.number,\n    /** If channel of component is active (selected) channel */\n    active: PropTypes.bool,\n    /** Latest message's text. */\n    latestMessage: PropTypes.string,\n    /** Length of latest message to truncate at */\n    latestMessageLength: PropTypes.number,\n  };\n\n  static defaultProps = {\n    latestMessageLength: 14,\n  };\n\n  channelPreviewButton = React.createRef();\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel, this.props.watchers);\n    this.channelPreviewButton.current.blur();\n  };\n\n  render() {\n    const unreadClass =\n      this.props.unread >= 1\n        ? 'str-chat__channel-preview-messenger--unread'\n        : '';\n    const activeClass = this.props.active\n      ? 'str-chat__channel-preview-messenger--active'\n      : '';\n\n    const { channel, t } = this.props;\n\n    return (\n      <button\n        onClick={this.onSelectChannel}\n        ref={this.channelPreviewButton}\n        className={`str-chat__channel-preview-messenger ${unreadClass} ${activeClass}`}\n      >\n        <div className=\"str-chat__channel-preview-messenger--left\">\n          {<Avatar image={channel.data.image} size={40} />}\n        </div>\n        <div className=\"str-chat__channel-preview-messenger--right\">\n          <div className=\"str-chat__channel-preview-messenger--name\">\n            <span>{channel.data.name}</span>\n          </div>\n          <div className=\"str-chat__channel-preview-messenger--last-message\">\n            {!channel.state.messages[0]\n              ? t('Nothing yet...')\n              : truncate(this.props.latestMessage, {\n                  length: this.props.latestMessageLength,\n                })}\n          </div>\n        </div>\n      </button>\n    );\n  }\n}\n\nChannelPreviewMessenger = withTranslationContext(ChannelPreviewMessenger);\nexport { ChannelPreviewMessenger };\n","import React from 'react';\n// import PropTypes from 'prop-types';\n\nexport class ChannelSearch extends React.PureComponent {\n  render() {\n    return (\n      <div className=\"str-chat__channel-search\">\n        <input type=\"text\" placeholder=\"Search\" />\n        <button type=\"submit\">\n          <svg\n            width=\"18\"\n            height=\"17\"\n            viewBox=\"0 0 18 17\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatContext, TranslationContext } from '../context';\nimport { Streami18n } from '../Streami18n';\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\nexport class Chat extends PureComponent {\n  static propTypes = {\n    /** The StreamChat client object */\n    client: PropTypes.object.isRequired,\n    /**\n     *\n     * Theme could be used for custom styling of the components.\n     *\n     * You can override the classes used in our components under parent theme class.\n     *\n     * e.g. If you want to build a theme where background of message is black\n     *\n     * ```\n     *  <Chat client={client} theme={demo}>\n     *    <Channel>\n     *      <MessageList />\n     *    </Channel>\n     *  </Chat>\n     * ```\n     *\n     * ```scss\n     *  .demo.str-chat {\n     *    .str-chat__message-simple {\n     *      &-text-inner {\n     *        background-color: black;\n     *      }\n     *    }\n     *  }\n     * ```\n     *\n     * Built in available themes:\n     *\n     *  - `messaging light`\n     *  - `messaging dark`\n     *  - `team light`\n     *  - `team dark`\n     *  - `commerce light`\n     *  - `commerce dark`\n     *  - `livestream light`\n     *  - `livestream dark`\n     */\n    theme: PropTypes.string,\n  };\n\n  static defaultProps = {\n    theme: 'messaging light',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // currently active channel\n      channel: {},\n      navOpen: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { i18nInstance } = this.props;\n    let streami18n;\n\n    if (i18nInstance && i18nInstance instanceof Streami18n) {\n      streami18n = i18nInstance;\n    } else {\n      streami18n = new Streami18n({ language: 'en' });\n    }\n\n    streami18n.registerSetLanguageCallback((t) => {\n      this.setState({ t });\n    });\n\n    const { t, tDateTimeParser } = await streami18n.getTranslators();\n    this.setState({ t, tDateTimeParser });\n  }\n\n  setActiveChannel = async (channel, watchers = {}, e) => {\n    if (e !== undefined && e.preventDefault) {\n      e.preventDefault();\n    }\n    if (Object.keys(watchers).length) {\n      await channel.query({ watch: true, watchers });\n    }\n    this.setState(() => ({\n      channel,\n    }));\n    if (this.state.navOpen) {\n      this.closeMobileNav();\n    }\n  };\n\n  openMobileNav = () => {\n    setTimeout(() => {\n      this.setState({\n        navOpen: true,\n      });\n    }, 100);\n  };\n\n  closeMobileNav = () => {\n    this.setState({\n      navOpen: false,\n    });\n  };\n\n  getContext = () => ({\n    client: this.props.client,\n    channel: this.state.channel,\n    setActiveChannel: this.setActiveChannel,\n    openMobileNav: this.openMobileNav,\n    closeMobileNav: this.closeMobileNav,\n    navOpen: this.state.navOpen,\n    theme: this.props.theme,\n  });\n\n  render() {\n    if (!this.state.t) return null;\n\n    return (\n      <ChatContext.Provider value={this.getContext()}>\n        <TranslationContext.Provider\n          value={{\n            t: this.state.t,\n            tDateTimeParser: this.state.tDateTimeParser,\n          }}\n        >\n          {this.props.children}\n        </TranslationContext.Provider>\n      </ChatContext.Provider>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\n/**\n * DateSeparator - A simple date separator\n *\n * @example ./docs/DateSeparator.md\n * @extends PureComponent\n */\nclass DateSeparator extends React.PureComponent {\n  static propTypes = {\n    /** The date to format */\n    date: PropTypes.instanceOf(Date),\n    /** Set the position of the date in the separator */\n    position: PropTypes.oneOf(['left', 'center', 'right']),\n    /** Override the default formatting of the date. This is a function that has access to the original date object. Returns a string or Node  */\n    formatDate: PropTypes.func,\n  };\n\n  static defaultProps = {\n    position: 'right',\n  };\n  render() {\n    const { position, tDateTimeParser } = this.props;\n    if (!Date.parse(this.props.date)) {\n      return null;\n    }\n    return (\n      <div className=\"str-chat__date-separator\">\n        {(position === 'right' || position === 'center') && (\n          <hr className=\"str-chat__date-separator-line\" />\n        )}\n        <div className=\"str-chat__date-separator-date\">\n          {this.props.formatDate\n            ? this.props.formatDate(this.props.date)\n            : tDateTimeParser(this.props.date.toISOString()).calendar()}\n        </div>\n        {(position === 'left' || position === 'center') && (\n          <hr className=\"str-chat__date-separator-line\" />\n        )}\n      </div>\n    );\n  }\n}\n\nDateSeparator = withTranslationContext(DateSeparator);\n\nexport { DateSeparator };\n","import React from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nclass EventComponent extends React.PureComponent {\n  static propTypes = {\n    /** Message object */\n    message: PropTypes.object,\n  };\n\n  render() {\n    const { message, tDateTimeParser } = this.props;\n    if (message.type === 'system') {\n      return (\n        <div className=\"str-chat__message--system\">\n          <div className=\"str-chat__message--system__text\">\n            <div className=\"str-chat__message--system__line\" />\n            <p>{message.text}</p>\n            <div className=\"str-chat__message--system__line\" />\n          </div>\n          <div className=\"str-chat__message--system__date\">\n            <strong>\n              {tDateTimeParser(message.created_at).format('dddd')}{' '}\n            </strong>\n            at {tDateTimeParser(message.created_at).format('hh:mm A')}\n          </div>\n        </div>\n      );\n    }\n\n    if (\n      message.type === 'channel.event' &&\n      (message.event.type === 'member.removed' ||\n        message.event.type === 'member.added')\n    ) {\n      let sentence;\n\n      switch (message.event.type) {\n        case 'member.removed':\n          sentence = `${message.event.user.name ||\n            message.event.user.id} was removed from the chat`;\n          break;\n        case 'member.added':\n          sentence = `${message.event.user.name ||\n            message.event.user.id} has joined the chat`;\n          break;\n        default:\n          break;\n      }\n      return (\n        <div className=\"str-chat__event-component__channel-event\">\n          <Avatar\n            image={message.event.user.image}\n            name={message.event.user.name || message.event.user.id}\n          />\n          <div className=\"str-chat__event-component__channel-event__content\">\n            <em className=\"str-chat__event-component__channel-event__sentence\">\n              {sentence}\n            </em>\n            <div className=\"str-chat__event-component__channel-event__date\">\n              {tDateTimeParser(message.created_at).format('LT')}\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n\nEventComponent = withTranslationContext(EventComponent);\n\nexport { EventComponent };\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class InfiniteScroll extends Component {\n  static propTypes = {\n    element: PropTypes.node,\n    hasMore: PropTypes.bool,\n    initialLoad: PropTypes.bool,\n    isReverse: PropTypes.bool,\n    loader: PropTypes.node,\n    loadMore: PropTypes.func.isRequired,\n    pageStart: PropTypes.number,\n    isLoading: PropTypes.bool,\n    threshold: PropTypes.number,\n    useCapture: PropTypes.bool,\n    useWindow: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    element: 'div',\n    hasMore: false,\n    initialLoad: true,\n    isLoading: false,\n    pageStart: 0,\n    ref: null,\n    threshold: 250,\n    useWindow: true,\n    isReverse: false,\n    useCapture: false,\n    loader: null,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.scrollListener = this.scrollListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.attachScrollListener();\n  }\n\n  componentDidUpdate() {\n    this.attachScrollListener();\n  }\n\n  componentWillUnmount() {\n    this.detachScrollListener();\n    this.detachMousewheelListener();\n  }\n\n  // Set a defaut loader for all your `InfiniteScroll` components\n  setDefaultLoader(loader) {\n    this.defaultLoader = loader;\n  }\n\n  detachMousewheelListener() {\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.scrollComponent.parentNode;\n    }\n\n    scrollEl.removeEventListener(\n      'mousewheel',\n      this.mousewheelListener,\n      this.props.useCapture,\n    );\n  }\n\n  detachScrollListener() {\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.getParentElement(this.scrollComponent);\n    }\n\n    scrollEl.removeEventListener(\n      'scroll',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n    scrollEl.removeEventListener(\n      'resize',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n  }\n\n  getParentElement(el) {\n    return el && el.parentNode;\n  }\n\n  filterProps(props) {\n    return props;\n  }\n\n  attachScrollListener() {\n    if (\n      !this.props.hasMore ||\n      this.props.isLoading ||\n      !this.getParentElement(this.scrollComponent)\n    ) {\n      return;\n    }\n\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.getParentElement(this.scrollComponent);\n    }\n\n    scrollEl.addEventListener(\n      'mousewheel',\n      this.mousewheelListener,\n      this.props.useCapture,\n    );\n    scrollEl.addEventListener(\n      'scroll',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n    scrollEl.addEventListener(\n      'resize',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n\n    if (this.props.initialLoad) {\n      this.scrollListener();\n    }\n  }\n\n  mousewheelListener(e) {\n    // Prevents Chrome hangups\n    // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n    if (e.deltaY === 1) {\n      e.preventDefault();\n    }\n  }\n\n  scrollListener() {\n    const el = this.scrollComponent;\n    const scrollEl = window;\n    const parentNode = this.getParentElement(el);\n\n    let offset;\n    if (this.props.useWindow) {\n      const doc =\n        document.documentElement || document.body.parentNode || document.body;\n      const scrollTop =\n        scrollEl.pageYOffset !== undefined\n          ? scrollEl.pageYOffset\n          : doc.scrollTop;\n      if (this.props.isReverse) {\n        offset = scrollTop;\n      } else {\n        offset = this.calculateOffset(el, scrollTop);\n      }\n    } else if (this.props.isReverse) {\n      offset = parentNode.scrollTop;\n    } else {\n      offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n    }\n\n    // Here we make sure the element is visible as well as checking the offset\n    if (\n      offset < Number(this.props.threshold) &&\n      el &&\n      el.offsetParent !== null\n    ) {\n      this.detachScrollListener();\n      // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n      if (typeof this.props.loadMore === 'function') {\n        this.props.loadMore();\n      }\n    }\n  }\n\n  calculateOffset(el, scrollTop) {\n    if (!el) {\n      return 0;\n    }\n\n    return (\n      this.calculateTopPosition(el) +\n      (el.offsetHeight - scrollTop - window.innerHeight)\n    );\n  }\n\n  calculateTopPosition(el) {\n    if (!el) {\n      return 0;\n    }\n    return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n  }\n\n  render() {\n    const renderProps = this.filterProps(this.props);\n    const {\n      children,\n      element,\n      hasMore,\n      initialLoad,\n      isReverse,\n      loader,\n      loadMore,\n      pageStart,\n      threshold,\n      useCapture,\n      useWindow,\n      isLoading,\n      ...props\n    } = renderProps;\n\n    props.ref = (node) => {\n      this.scrollComponent = node;\n    };\n\n    const childrenArray = [children];\n    if (isLoading) {\n      if (loader) {\n        isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n      } else if (this.defaultLoader) {\n        isReverse\n          ? childrenArray.unshift(this.defaultLoader)\n          : childrenArray.push(this.defaultLoader);\n      }\n    }\n    return React.createElement(element, props, childrenArray);\n  }\n}\n\nexport default InfiniteScroll;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingIndicator } from 'react-file-utils';\n\nimport InfiniteScroll from './InfiniteScroll';\n\nexport class InfiniteScrollPaginator extends React.Component {\n  static propTypes = {\n    /** callback to load the next page */\n    loadNextPage: PropTypes.func,\n    /** indicates if there is a next page to load */\n    hasNextPage: PropTypes.bool,\n    /** indicates if there there's currently any refreshing taking place */\n    refreshing: PropTypes.bool,\n    /** display the items in opposite order */\n    reverse: PropTypes.bool,\n    /** Offset from when to start the loadNextPage call */\n    threshold: PropTypes.number,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    LoadingIndicator,\n  };\n\n  render() {\n    const {\n      LoadingIndicator,\n      loadNextPage,\n      hasNextPage,\n      refreshing,\n      reverse,\n      threshold,\n    } = this.props;\n\n    return (\n      <InfiniteScroll\n        loadMore={loadNextPage}\n        hasMore={hasNextPage}\n        isLoading={refreshing}\n        isReverse={reverse}\n        threshold={threshold}\n        useWindow={false}\n        loader={\n          <div\n            className=\"str-chat__infinite-scroll-paginator\"\n            key=\"loadingindicator\"\n          >\n            <LoadingIndicator />\n          </div>\n        }\n      >\n        {this.props.children}\n      </InfiniteScroll>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\n\nimport { MessageSimple } from './MessageSimple';\nimport { Attachment } from './Attachment';\nimport { MESSAGE_ACTIONS } from '../utils';\nimport { withTranslationContext } from '../context';\n\n/**\n * Message - A high level component which implements all the logic required for a message.\n * The actual rendering of the message is delegated via the \"Message\" property\n *\n * @example ./docs/Message.md\n * @extends Component\n */\nclass Message extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    };\n  }\n\n  static propTypes = {\n    /** The message object */\n    message: PropTypes.object.isRequired,\n    /** The client connection object for connecting to Stream */\n    client: PropTypes.object.isRequired,\n    /** The current channel this message is displayed in */\n    channel: PropTypes.object.isRequired,\n    /** A list of users that have read this message **/\n    readBy: PropTypes.array,\n    /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n    groupStyles: PropTypes.array,\n    /** Editing, if the message is currently being edited */\n    editing: PropTypes.bool,\n    /**\n     * Message UI component to display a message in message list.\n     * Available from [channel context](https://getstream.github.io/stream-chat-react/#channelcontext)\n     * */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Attachment UI component to display attachment in individual message.\n     * Available from [channel context](https://getstream.github.io/stream-chat-react/#channelcontext)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /**\n     * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n     * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n     * */\n    messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for flagging a message is successful\n     *\n     * This function should accept following params:\n     *\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n     *\n     * */\n    getFlagMessageSuccessNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for flagging a message runs into error\n     *\n     * This function should accept following params:\n     *\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n     *\n     * */\n    getFlagMessageErrorNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for muting a user is successful\n     *\n     * This function should accept following params:\n     *\n     * @param user A user object which is being muted\n     *\n     * */\n    getMuteUserSuccessNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for muting a user runs into error\n     *\n     * This function should accept following params:\n     *\n     * @param user A user object which is being muted\n     *\n     * */\n    getMuteUserErrorNotification: PropTypes.func,\n    /** Latest message id on current channel */\n    lastReceivedId: PropTypes.string,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    members: PropTypes.object,\n    /**\n     * Function to add custom notification on messagelist\n     *\n     * @param text Notification text to display\n     * @param type Type of notification. 'success' | 'error'\n     * */\n    addNotification: PropTypes.func,\n    /** Sets the editing state */\n    setEditingState: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    updateMessage: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    removeMessage: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    retrySendMessage: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    onMentionsClick: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    onMentionsHover: PropTypes.func,\n    /** @see See [Channel Context](https://getstream.github.io/stream-chat-react/#channelcontext) */\n    openThread: PropTypes.func,\n    /** Handler to clear the edit state of message. It is defined in [MessageList](https://getstream.github.io/stream-chat-react/#messagelist) component */\n    clearEditingState: PropTypes.func,\n    /**\n     * Additional props for underlying MessageInput component.\n     * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n     * */\n    additionalMessageInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    Message: MessageSimple,\n    readBy: [],\n    groupStyles: [],\n    Attachment,\n    editing: false,\n    messageActions: Object.keys(MESSAGE_ACTIONS),\n  };\n\n  shouldComponentUpdate(nextProps) {\n    // since there are many messages its important to only rerender messages when needed.\n    let shouldUpdate = nextProps.message !== this.props.message;\n    let reason = '';\n    if (shouldUpdate) {\n      reason = 'message';\n    }\n    // read state is the next most likely thing to change..\n    if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n      shouldUpdate = true;\n      reason = 'readBy';\n    }\n    // group style often changes for the last 3 messages...\n    if (\n      !shouldUpdate &&\n      !deepequal(nextProps.groupStyles, this.props.groupStyles)\n    ) {\n      shouldUpdate = true;\n      reason = 'groupStyles';\n    }\n\n    // if lastreceivedId changesm, message should update.\n    if (\n      !shouldUpdate &&\n      !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n    ) {\n      shouldUpdate = true;\n      reason = 'lastReceivedId';\n    }\n\n    // editing is the last one which can trigger a change..\n    if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n      shouldUpdate = true;\n      reason = 'editing';\n    }\n\n    // editing is the last one which can trigger a change..\n    if (\n      !shouldUpdate &&\n      nextProps.messageListRect !== this.props.messageListRect\n    ) {\n      shouldUpdate = true;\n      reason = 'messageListRect';\n    }\n\n    if (shouldUpdate && reason) {\n      // console.log(\n      //   'message',\n      //   nextProps.message.id,\n      //   'shouldUpdate',\n      //   shouldUpdate,\n      //   reason,\n      // );\n      // console.log(reason, diff(this.props, nextProps));\n    }\n\n    return shouldUpdate;\n  }\n\n  isMyMessage = (message) => this.props.client.user.id === message.user.id;\n  isAdmin = () =>\n    this.props.client.user.role === 'admin' ||\n    (this.props.channel.state &&\n      this.props.channel.state.membership &&\n      this.props.channel.state.membership.role === 'admin');\n  isOwner = () =>\n    this.props.channel.state &&\n    this.props.channel.state.membership &&\n    this.props.channel.state.membership.role === 'owner';\n  isModerator = () =>\n    this.props.channel.state &&\n    this.props.channel.state.membership &&\n    (this.props.channel.state.membership.role === 'channel_moderator' ||\n      this.props.channel.state.membership.role === 'moderator');\n\n  canEditMessage = (message) =>\n    this.isMyMessage(message) ||\n    this.isModerator() ||\n    this.isOwner() ||\n    this.isAdmin();\n\n  canDeleteMessage = (message) => this.canEditMessage(message);\n\n  /**\n   * Following function validates a function which returns notification message.\n   * It validates if the first parameter is function and also if return value of function is string or no.\n   *\n   * @param func {Function}\n   * @param args {Array} Arguments to be provided to func while executing.\n   */\n  validateAndGetNotificationMessage = (func, args) => {\n    if (!func || typeof func !== 'function') return false;\n\n    const returnValue = func.apply(null, args);\n\n    if (typeof returnValue !== 'string') return false;\n\n    return returnValue;\n  };\n\n  handleFlag = async (event) => {\n    event.preventDefault();\n\n    const {\n      getFlagMessageSuccessNotification,\n      getFlagMessageErrorNotification,\n      message,\n      client,\n      addNotification,\n      t,\n    } = this.props;\n\n    try {\n      await client.flagMessage(message.id);\n      const successMessage = this.validateAndGetNotificationMessage(\n        getFlagMessageSuccessNotification,\n        [message],\n      );\n      addNotification(\n        successMessage\n          ? successMessage\n          : t('Message has been successfully flagged'),\n        'success',\n      );\n    } catch (e) {\n      const errorMessage = this.validateAndGetNotificationMessage(\n        getFlagMessageErrorNotification,\n        [message],\n      );\n      addNotification(\n        errorMessage\n          ? errorMessage\n          : t(\n              'Error adding flag: Either the flag already exist or there is issue with network connection ...',\n            ),\n        'error',\n      );\n    }\n  };\n\n  handleMute = async (event) => {\n    event.preventDefault();\n\n    const {\n      getMuteUserSuccessNotification,\n      getMuteUserErrorNotification,\n      message,\n      client,\n      addNotification,\n      t,\n    } = this.props;\n\n    try {\n      await client.muteUser(message.user.id);\n      const successMessage = this.validateAndGetNotificationMessage(\n        getMuteUserSuccessNotification,\n        [message.user],\n      );\n\n      addNotification(\n        successMessage\n          ? successMessage\n          : t(`{{ user }} has been muted`, {\n              user: message.user.name || message.user.id,\n            }),\n        'success',\n      );\n    } catch (e) {\n      const errorMessage = this.validateAndGetNotificationMessage(\n        getMuteUserErrorNotification,\n        [message.user],\n      );\n\n      addNotification(\n        errorMessage ? errorMessage : t('Error muting a user ...'),\n        'error',\n      );\n    }\n  };\n\n  handleEdit = (event) => {\n    const { setEditingState, message } = this.props;\n\n    if (event !== undefined && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    setEditingState(message);\n  };\n\n  handleDelete = async (event) => {\n    event.preventDefault();\n    const { message, client, updateMessage } = this.props;\n    const data = await client.deleteMessage(message.id);\n    updateMessage(data.message);\n  };\n\n  handleReaction = async (reactionType, event) => {\n    if (event !== undefined && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    let userExistingReaction = null;\n\n    const currentUser = this.props.client.userID;\n\n    for (const reaction of this.props.message.own_reactions) {\n      // own user should only ever contain the current user id\n      // just in case we check to prevent bugs with message updates from breaking reactions\n      if (currentUser === reaction.user.id && reaction.type === reactionType) {\n        userExistingReaction = reaction;\n      } else if (currentUser !== reaction.user.id) {\n        console.warn(\n          `message.own_reactions contained reactions from a different user, this indicates a bug`,\n        );\n      }\n    }\n\n    const originalMessage = this.props.message;\n    let reactionChangePromise;\n\n    /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n     */\n    if (userExistingReaction) {\n      // this.props.channel.state.removeReaction(userExistingReaction);\n\n      reactionChangePromise = this.props.channel.deleteReaction(\n        this.props.message.id,\n        userExistingReaction.type,\n      );\n    } else {\n      // add the reaction\n      const messageID = this.props.message.id;\n\n      const reaction = { type: reactionType };\n\n      // this.props.channel.state.addReaction(tmpReaction, this.props.message);\n      reactionChangePromise = this.props.channel.sendReaction(\n        messageID,\n        reaction,\n      );\n    }\n\n    try {\n      // only wait for the API call after the state is updated\n      await reactionChangePromise;\n    } catch (e) {\n      // revert to the original message if the API call fails\n      this.props.updateMessage(originalMessage);\n    }\n  };\n\n  handleAction = async (name, value, event) => {\n    event.preventDefault();\n    const messageID = this.props.message.id;\n    const formData = {};\n    formData[name] = value;\n\n    const data = await this.props.channel.sendAction(messageID, formData);\n\n    if (data && data.message) {\n      this.props.updateMessage(data.message);\n    } else {\n      this.props.removeMessage(this.props.message);\n    }\n  };\n\n  handleRetry = async (message) => {\n    await this.props.retrySendMessage(message);\n  };\n\n  onMentionsClick = (e) => {\n    if (typeof this.props.onMentionsClick !== 'function') {\n      return;\n    }\n    this.props.onMentionsClick(e, this.props.message.mentioned_users);\n  };\n\n  onMentionsHover = (e) => {\n    const { onMentionsHover, message } = this.props;\n\n    if (typeof onMentionsHover !== 'function') {\n      return;\n    }\n\n    onMentionsHover(e, message.mentioned_users);\n  };\n\n  getMessageActions = () => {\n    const { message, messageActions: messageActionsProps } = this.props;\n    const { mutes } = this.props.channel.getConfig();\n\n    const messageActionsAfterPermission = [];\n    let messageActions = [];\n\n    if (messageActionsProps && typeof messageActionsProps === 'boolean') {\n      // If value of messageActionsProps is true, then populate all the possible values\n      messageActions = Object.keys(MESSAGE_ACTIONS);\n    } else if (messageActionsProps && messageActionsProps.length > 0) {\n      messageActions = [...messageActionsProps];\n    } else {\n      return [];\n    }\n\n    if (\n      this.canEditMessage(message) &&\n      messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1\n    ) {\n      messageActionsAfterPermission.push(MESSAGE_ACTIONS.edit);\n    }\n\n    if (\n      this.canDeleteMessage(message) &&\n      messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1\n    ) {\n      messageActionsAfterPermission.push(MESSAGE_ACTIONS.delete);\n    }\n\n    if (\n      !this.isMyMessage(message) &&\n      messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1\n    ) {\n      messageActionsAfterPermission.push(MESSAGE_ACTIONS.flag);\n    }\n\n    if (\n      !this.isMyMessage(message) &&\n      messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 &&\n      mutes\n    ) {\n      messageActionsAfterPermission.push(MESSAGE_ACTIONS.mute);\n    }\n\n    return messageActionsAfterPermission;\n  };\n\n  render() {\n    const config = this.props.channel.getConfig();\n    const { message } = this.props;\n\n    const actionsEnabled =\n      message.type === 'regular' && message.status === 'received';\n\n    const Component = this.props.Message;\n    return (\n      <Component\n        {...this.props}\n        actionsEnabled={actionsEnabled}\n        Message={this}\n        handleReaction={this.handleReaction}\n        getMessageActions={this.getMessageActions}\n        handleFlag={this.handleFlag}\n        handleMute={this.handleMute}\n        handleAction={this.handleAction}\n        handleDelete={this.handleDelete}\n        handleEdit={this.handleEdit}\n        handleRetry={this.handleRetry}\n        handleOpenThread={\n          this.props.openThread && this.props.openThread.bind(this, message)\n        }\n        isMyMessage={this.isMyMessage}\n        channelConfig={config}\n        onMentionsClickMessage={this.onMentionsClick}\n        onMentionsHoverMessage={this.onMentionsHover}\n      />\n    );\n  }\n}\n\nMessage = withTranslationContext(Message);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MessageActionsBox } from './MessageActionsBox';\n\nexport class MessageActions extends PureComponent {\n  static propTypes = {\n    onClickReact: PropTypes.func,\n    /** If the message actions box should be open or not */\n    open: PropTypes.bool.isRequired,\n    /**\n     * @deprecated\n     *\n     *  The message component, most logic is delegated to this component and MessageActionsBox uses the following functions explicitly:\n     *  `handleFlag`, `handleMute`, `handleEdit`, `handleDelete`, `canDeleteMessage`, `canEditMessage`, `isMyMessage`, `isAdmin`\n     */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** If message belongs to current user. */\n    mine: PropTypes.bool,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /**\n     * Handler for flaging a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleFlag: PropTypes.func,\n    /**\n     * Handler for muting a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleMute: PropTypes.func,\n    /**\n     * Handler for editing a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleEdit: PropTypes.func,\n    /**\n     * Handler for deleting a current message\n     *\n     * @param event React's MouseEventHandler event\n     * @returns void\n     * */\n    handleDelete: PropTypes.func,\n    /**\n     * Returns array of avalable message actions for current message.\n     * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n     */\n    getMessageActions: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      actionBox: false,\n      reactionBox: false,\n    };\n    this.reactionsBox = React.createRef();\n    this.actionsRef = React.createRef();\n  }\n\n  _openActionBox = () => {\n    this.setState(\n      {\n        actionBox: true,\n      },\n      () => {\n        document.addEventListener('click', this._closeActionBox);\n      },\n    );\n  };\n\n  _closeActionBox = () => {\n    this.setState(\n      {\n        actionBox: false,\n      },\n      () => {\n        document.removeEventListener('click', this._closeActionBox);\n      },\n    );\n  };\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this._closeActionBox);\n  }\n\n  render() {\n    return (\n      <div ref={this.actionsRef} className=\"str-chat__message-actions\">\n        <div\n          className=\"str-chat__message-actions-reactions\"\n          onClick={this.props.onClickReact}\n        >\n          <svg\n            width=\"20\"\n            height=\"18\"\n            viewBox=\"0 0 20 18\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M16.5 4.5H15a.5.5 0 1 1 0-1h1.5V2a.5.5 0 1 1 1 0v1.5H19a.5.5 0 1 1 0 1h-1.5V6a.5.5 0 1 1-1 0V4.5zM9 13c-1.773 0-3.297-.82-4-2h8c-.703 1.18-2.227 2-4 2zm4.057-11.468a.5.5 0 1 1-.479.878A7.45 7.45 0 0 0 9 1.5C4.865 1.5 1.5 4.865 1.5 9s3.365 7.5 7.5 7.5 7.5-3.365 7.5-7.5c0-.315-.02-.628-.058-.937a.5.5 0 1 1 .992-.124c.044.35.066.704.066 1.06 0 4.688-3.813 8.501-8.5 8.501C4.313 17.5.5 13.687.5 9 .5 4.312 4.313.5 9 .5a8.45 8.45 0 0 1 4.057 1.032zM7.561 5.44a1.5 1.5 0 1 1-2.123 2.122 1.5 1.5 0 0 1 2.123-2.122zm5 0a1.5 1.5 0 1 1-2.122 2.122 1.5 1.5 0 0 1 2.122-2.122z\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n        <div\n          className=\"str-chat__message-actions-options\"\n          onClick={() => this._openActionBox()}\n        >\n          <svg\n            width=\"11\"\n            height=\"3\"\n            viewBox=\"0 0 11 3\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </div>\n        {/* ActionsBox */}\n        <MessageActionsBox {...this.props} open={this.state.actionBox} />\n      </div>\n    );\n  }\n}\n\nMessageActions.propTypes = {\n  Message: PropTypes.object.isRequired,\n};\n","import React, { PureComponent } from 'react';\nimport { Attachment } from './Attachment';\nimport { ReactionsList } from './ReactionsList';\nimport { Avatar } from './Avatar';\nimport { Gallery } from './Gallery';\nimport { ReactionSelector } from './ReactionSelector';\nimport { MessageRepliesCountButton } from './MessageRepliesCountButton';\n\nimport PropTypes from 'prop-types';\n\nimport { isOnlyEmojis, renderText } from '../utils';\nimport { withTranslationContext } from '../context';\n\n/**\n * MessageCommerce - Render component, should be used together with the Message component\n *\n * @example ./docs/MessageSimple.md\n * @extends PureComponent\n */\nclass MessageCommerce extends PureComponent {\n  static propTypes = {\n    /** The [message object](https://getstream.io/chat/docs/#message_format) */\n    message: PropTypes.object,\n    /**\n     * The attachment UI component.\n     * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     *\n     * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n     *\n     * The higher order message component, most logic is delegated to this component\n     * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n     *\n     * */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /** If its parent message in thread. */\n    initialMessage: PropTypes.bool,\n    /** Channel config object */\n    channelConfig: PropTypes.object,\n    /** If component is in thread list */\n    threadList: PropTypes.bool,\n    /** Function to open thread on current messxage */\n    handleOpenThread: PropTypes.func,\n    /** Returns true if message belongs to current user */\n    isMyMessage: PropTypes.func,\n    /** Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute] */\n    getMessageActions: PropTypes.func,\n    /**\n     * Add or remove reaction on message\n     *\n     * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * @param event Dom event which triggered this function\n     */\n    handleReaction: PropTypes.func,\n    /** If actions such as edit, delete, flag, mute are enabled on message */\n    actionsEnabled: PropTypes.bool,\n    /**\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    handleAction: PropTypes.func,\n    /**\n     * The handler for hover event on @mention in message\n     *\n     * @param event Dom hover event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsHoverMessage: PropTypes.func,\n    /**\n     * The handler for click event on @mention in message\n     *\n     * @param event Dom click event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsClickMessage: PropTypes.func,\n    /** Position of message in group. Possible values: top, bottom, middle, single */\n    groupStyles: PropTypes.array,\n  };\n\n  static defaultProps = {\n    Attachment,\n  };\n\n  state = {\n    isFocused: false,\n    actionsBoxOpen: false,\n    showDetailedReactions: false,\n  };\n\n  messageActionsRef = React.createRef();\n  reactionSelectorRef = React.createRef();\n\n  _onClickOptionsAction = () => {\n    this.setState(\n      {\n        actionsBoxOpen: true,\n      },\n      () => document.addEventListener('click', this.hideOptions, false),\n    );\n  };\n\n  _hideOptions = () => {\n    this.setState({\n      actionsBoxOpen: false,\n    });\n    document.removeEventListener('click', this.hideOptions, false);\n  };\n\n  _clickReactionList = () => {\n    this.setState(\n      () => ({\n        showDetailedReactions: true,\n      }),\n      () => {\n        document.addEventListener('click', this._closeDetailedReactions);\n      },\n    );\n  };\n\n  _closeDetailedReactions = (e) => {\n    if (\n      !this.reactionSelectorRef.current.reactionSelector.current.contains(\n        e.target,\n      )\n    ) {\n      this.setState(\n        () => ({\n          showDetailedReactions: false,\n        }),\n        () => {\n          document.removeEventListener('click', this._closeDetailedReactions);\n        },\n      );\n    } else {\n      return {};\n    }\n  };\n\n  componentWillUnmount() {\n    if (!this.props.message.deleted_at) {\n      document.removeEventListener('click', this._closeDetailedReactions);\n    }\n  }\n\n  isMine() {\n    return !this.props.isMyMessage(this.props.message);\n  }\n\n  renderOptions() {\n    if (\n      this.props.message.type === 'error' ||\n      this.props.message.type === 'system' ||\n      this.props.message.type === 'ephemeral' ||\n      this.props.message.status === 'sending' ||\n      this.props.message.status === 'failed' ||\n      !this.props.channelConfig.reactions ||\n      this.props.initialMessage\n    ) {\n      return;\n    }\n\n    return (\n      <div className=\"str-chat__message-commerce__actions\">\n        <div\n          className=\"str-chat__message-commerce__actions__action str-chat__message-commerce__actions__action--reactions\"\n          onClick={this._clickReactionList}\n        >\n          <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      message,\n      groupStyles,\n      Attachment,\n      handleReaction,\n      handleAction,\n      actionsEnabled,\n      onMentionsHoverMessage,\n      onMentionsClickMessage,\n      unsafeHTML,\n      threadList,\n      handleOpenThread,\n      t,\n      tDateTimeParser,\n    } = this.props;\n\n    const when = tDateTimeParser(message.created_at).format('LT');\n\n    const messageClasses = this.isMine()\n      ? 'str-chat__message-commerce str-chat__message-commerce--left'\n      : 'str-chat__message-commerce str-chat__message-commerce--right';\n\n    const hasAttachment = Boolean(\n      message.attachments && message.attachments.length,\n    );\n    const images =\n      hasAttachment &&\n      message.attachments.filter((item) => item.type === 'image');\n    const hasReactions = Boolean(\n      message.latest_reactions && message.latest_reactions.length,\n    );\n\n    if (\n      message.type === 'message.read' ||\n      message.deleted_at ||\n      message.type === 'message.date'\n    ) {\n      return null;\n    }\n\n    if (message.deleted_at) {\n      return (\n        <React.Fragment>\n          <span\n            key={message.id}\n            className={`${messageClasses} str-chat__message--deleted`}\n          >\n            {t('This message was deleted...')}\n          </span>\n          <div className=\"clearfix\" />\n        </React.Fragment>\n      );\n    }\n    return (\n      <React.Fragment>\n        <div\n          key={message.id}\n          className={`\n\t\t\t\t\t\t${messageClasses}\n\t\t\t\t\t\tstr-chat__message-commerce--${message.type}\n\t\t\t\t\t\t${\n              message.text\n                ? 'str-chat__message-commerce--has-text'\n                : 'str-chat__message-commerce--has-no-text'\n            }\n\t\t\t\t\t\t${hasAttachment ? 'str-chat__message-commerce--has-attachment' : ''}\n\t\t\t\t\t\t${hasReactions ? 'str-chat__message-commerce--with-reactions' : ''}\n\t\t\t\t\t\t${`str-chat__message-commerce--${groupStyles[0]}`}\n\t\t\t\t\t`.trim()}\n          onMouseLeave={this._hideOptions}\n          ref={this.messageRef}\n        >\n          {(groupStyles[0] === 'bottom' || groupStyles[0] === 'single') && (\n            <Avatar\n              image={message.user.image}\n              size={32}\n              name={message.user.name || message.user.id}\n            />\n          )}\n          <div className=\"str-chat__message-commerce-inner\">\n            {!message.text && (\n              <React.Fragment>\n                {this.renderOptions()}\n                {/* if reactions show them */}\n                {hasReactions && !this.state.showDetailedReactions && (\n                  <ReactionsList\n                    reactions={message.latest_reactions}\n                    reaction_counts={message.reaction_counts}\n                    onClick={this._clickReactionList}\n                  />\n                )}\n                {this.state.showDetailedReactions && (\n                  <ReactionSelector\n                    reverse={false}\n                    handleReaction={handleReaction}\n                    actionsEnabled={actionsEnabled}\n                    detailedView\n                    reaction_counts={message.reaction_counts}\n                    latest_reactions={message.latest_reactions}\n                    ref={this.reactionSelectorRef}\n                  />\n                )}\n              </React.Fragment>\n            )}\n\n            {hasAttachment &&\n              images.length <= 1 &&\n              message.attachments.map((attachment, index) => (\n                <Attachment\n                  key={`${message.id}-${index}`}\n                  attachment={attachment}\n                  actionHandler={handleAction}\n                />\n              ))}\n            {images.length > 1 && <Gallery images={images} />}\n\n            {message.text && (\n              <div className=\"str-chat__message-commerce-text\">\n                <div\n                  className={`str-chat__message-commerce-text-inner\n\t\t\t\t\t\t\t\t\t${hasAttachment ? 'str-chat__message-commerce-text-inner--has-attachment' : ''}\n\t\t\t\t\t\t\t\t\t${\n                    isOnlyEmojis(message.text)\n                      ? 'str-chat__message-commerce-text-inner--is-emoji'\n                      : ''\n                  }\n                `.trim()}\n                  onMouseOver={onMentionsHoverMessage}\n                  onClick={onMentionsClickMessage}\n                >\n                  {message.type === 'error' && (\n                    <div className=\"str-chat__commerce-message--error-message\">\n                      {t('Error ¬∑ Unsent')}\n                    </div>\n                  )}\n\n                  {unsafeHTML ? (\n                    <div dangerouslySetInnerHTML={{ __html: message.html }} />\n                  ) : (\n                    renderText(message)\n                  )}\n\n                  {/* if reactions show them */}\n                  {hasReactions && !this.state.showDetailedReactions && (\n                    <ReactionsList\n                      reverse\n                      reactions={message.latest_reactions}\n                      reaction_counts={message.reaction_counts}\n                      onClick={this._clickReactionList}\n                    />\n                  )}\n                  {this.state.showDetailedReactions && (\n                    <ReactionSelector\n                      reverse={false}\n                      handleReaction={handleReaction}\n                      actionsEnabled={actionsEnabled}\n                      detailedView\n                      reaction_counts={message.reaction_counts}\n                      latest_reactions={message.latest_reactions}\n                      ref={this.reactionSelectorRef}\n                    />\n                  )}\n                </div>\n\n                {message.text && this.renderOptions()}\n              </div>\n            )}\n            {!threadList && (\n              <div className=\"str-chat__message-commerce-reply-button\">\n                <MessageRepliesCountButton\n                  onClick={handleOpenThread}\n                  reply_count={message.reply_count}\n                />\n              </div>\n            )}\n            <div className={`str-chat__message-commerce-data`}>\n              {this.isMine() ? (\n                <span className=\"str-chat__message-commerce-name\">\n                  {message.user.name || message.user.id}\n                </span>\n              ) : null}\n              <span className=\"str-chat__message-commerce-timestamp\">\n                {when}\n              </span>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nMessageCommerce = withTranslationContext(MessageCommerce);\nexport { MessageCommerce };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\nimport { ChatAutoComplete } from './ChatAutoComplete';\n\nimport {\n  ImageDropzone,\n  ImagePreviewer,\n  FilePreviewer,\n  FileUploadButton,\n} from 'react-file-utils';\nimport { filterEmoji } from '../utils';\n\nimport { Picker } from 'emoji-mart';\n\n/**\n * MessageInputFlat - Large Message Input to be used for the MessageInput.\n * @example ./docs/MessageInputFlat.md\n */\nclass MessageInputFlat extends PureComponent {\n  static propTypes = {\n    /** Set focus to the text input if this is enabled */\n    focus: PropTypes.bool,\n    /** Grow the textarea while you're typing */\n    grow: PropTypes.bool,\n    /** Disable the textarea */\n    disabled: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadNewFiles: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    numberOfUploads: PropTypes.number,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerIsOpen: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectEmoji: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getUsers: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getCommands: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    textareaRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleSubmit: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleChange: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectItem: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    text: PropTypes.string,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onPaste: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    openEmojiPicker: PropTypes.func,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    watcher_count: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    typing: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    multipleUploads: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    maxNumberOfFiles: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    acceptedFiles: PropTypes.object,\n    /**\n     * Custom UI component for send button.\n     *\n     * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n     * */\n    SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    grow: true,\n    disabled: false,\n  };\n\n  renderUploads = () => (\n    <>\n      {this.props.imageOrder.length > 0 && (\n        <ImagePreviewer\n          imageUploads={this.props.imageOrder.map(\n            (id) => this.props.imageUploads[id],\n          )}\n          handleRemove={this.props.removeImage}\n          handleRetry={this.props.uploadImage}\n          handleFiles={this.props.uploadNewFiles}\n          multiple={this.props.multipleUploads}\n          disabled={this.props.numberOfUploads >= this.props.maxNumberOfFiles}\n        />\n      )}\n      {this.props.fileOrder.length > 0 && (\n        <div className=\"str-chat__file-uploads\">\n          <FilePreviewer\n            uploads={this.props.fileOrder.map(\n              (id) => this.props.fileUploads[id],\n            )}\n            handleRemove={this.props.removeFile}\n            handleRetry={this.props.uploadFile}\n            handleFiles={this.props.uploadNewFiles}\n          />\n        </div>\n      )}\n    </>\n  );\n\n  renderEmojiPicker = () => {\n    if (this.props.emojiPickerIsOpen) {\n      return (\n        <div\n          className=\"str-chat__input-flat--emojipicker\"\n          ref={this.props.emojiPickerRef}\n        >\n          <Picker\n            native\n            emoji=\"point_up\"\n            title=\"Pick your emoji‚Ä¶\"\n            onSelect={this.props.onSelectEmoji}\n            color=\"#006CFF\"\n            showPreview={false}\n            emojisToShowFilter={filterEmoji}\n          />\n        </div>\n      );\n    }\n  };\n\n  render() {\n    const { t } = this.props;\n    const SendButton = this.props.SendButton;\n    return (\n      <div\n        className={`str-chat__input-flat ${\n          SendButton ? 'str-chat__input-flat--send-button-active' : null\n        }`}\n      >\n        <ImageDropzone\n          accept={this.props.acceptedFiles}\n          multiple={this.props.multipleUploads}\n          disabled={this.props.numberOfUploads >= this.props.maxNumberOfFiles}\n          handleFiles={this.props.uploadNewFiles}\n        >\n          <div className=\"str-chat__input-flat-wrapper\">\n            {this.renderUploads()}\n            {this.renderEmojiPicker()}\n\n            <div className=\"str-chat__input-flat--textarea-wrapper\">\n              <ChatAutoComplete\n                users={this.props.getUsers()}\n                commands={this.props.getCommands()}\n                innerRef={this.props.textareaRef}\n                handleSubmit={(e) => this.props.handleSubmit(e)}\n                onSelectItem={this.props.onSelectItem}\n                onChange={this.props.handleChange}\n                value={this.props.text}\n                rows={1}\n                maxRows={this.props.maxRows}\n                placeholder={t('Type your message')}\n                onPaste={this.props.onPaste}\n                grow={this.props.grow}\n                onFocus={this.props.onFocus}\n                disabled={this.props.disabled}\n                additionalTextareaProps={this.props.additionalTextareaProps}\n              />\n\n              <span\n                className=\"str-chat__input-flat-emojiselect\"\n                onClick={this.props.openEmojiPicker}\n              >\n                <svg width=\"28\" height=\"28\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M22.217 16.1c.483.25.674.849.423 1.334C21.163 20.294 17.771 22 14 22c-3.867 0-7.347-1.765-8.66-4.605a.994.994 0 0 1 .9-1.407c.385 0 .739.225.9.575C8.135 18.715 10.892 20 14 20c3.038 0 5.738-1.267 6.879-3.476a.99.99 0 0 1 1.338-.424zm1.583-3.652c.341.443.235 1.064-.237 1.384a1.082 1.082 0 0 1-.62.168c-.338 0-.659-.132-.858-.389-.212-.276-.476-.611-1.076-.611-.598 0-.864.337-1.08.614-.197.254-.517.386-.854.386-.224 0-.438-.045-.62-.167-.517-.349-.578-.947-.235-1.388.66-.847 1.483-1.445 2.789-1.445 1.305 0 2.136.6 2.79 1.448zm-14 0c.341.443.235 1.064-.237 1.384a1.082 1.082 0 0 1-.62.168c-.339 0-.659-.132-.858-.389C7.873 13.335 7.61 13 7.01 13c-.598 0-.864.337-1.08.614-.197.254-.517.386-.854.386-.224 0-.438-.045-.62-.167-.518-.349-.579-.947-.235-1.388C4.88 11.598 5.703 11 7.01 11c1.305 0 2.136.6 2.79 1.448zM14 0c7.732 0 14 6.268 14 14s-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0zm8.485 22.485A11.922 11.922 0 0 0 26 14c0-3.205-1.248-6.219-3.515-8.485A11.922 11.922 0 0 0 14 2a11.922 11.922 0 0 0-8.485 3.515A11.922 11.922 0 0 0 2 14c0 3.205 1.248 6.219 3.515 8.485A11.922 11.922 0 0 0 14 26c3.205 0 6.219-1.248 8.485-3.515z\"\n                    fillRule=\"evenodd\"\n                  />\n                </svg>\n              </span>\n              <FileUploadButton\n                multiple={this.props.multipleUploads}\n                disabled={\n                  this.props.numberOfUploads >= this.props.maxNumberOfFiles\n                }\n                accepts={this.props.acceptedFiles}\n                handleFiles={this.props.uploadNewFiles}\n              >\n                <span className=\"str-chat__input-flat-fileupload\">\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z\"\n                      fillRule=\"nonzero\"\n                    />\n                  </svg>\n                </span>\n              </FileUploadButton>\n              {SendButton && (\n                <SendButton sendMessage={this.props.handleSubmit} />\n              )}\n            </div>\n          </div>\n        </ImageDropzone>\n      </div>\n    );\n  }\n}\n\nconst MessageInputFlatWithContext = withTranslationContext(MessageInputFlat);\n\nexport { MessageInputFlatWithContext as MessageInputFlat };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslationContext } from '../context';\n\nimport { ChatAutoComplete } from './ChatAutoComplete';\nimport { Picker } from 'emoji-mart';\n\nimport {\n  ImageDropzone,\n  ImagePreviewer,\n  FilePreviewer,\n  FileUploadButton,\n} from 'react-file-utils';\nimport { filterEmoji } from '../utils';\n\n/**\n * MessageInputSmall - compact design to be used for the MessageInput. It has all the features of MessageInput minus the typing indicator.\n * @example ./docs/MessageInputSmall.md\n */\nclass MessageInputSmall extends PureComponent {\n  static propTypes = {\n    /** Set focus to the text input if this is enabled */\n    focus: PropTypes.bool.isRequired,\n    /** Grow the textarea while you're typing */\n    grow: PropTypes.bool.isRequired,\n    /** Specify the max amount of rows the textarea is able to grow */\n    maxRows: PropTypes.number.isRequired,\n    /** Make the textarea disabled */\n    disabled: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    imageUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadImage: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadNewFiles: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    numberOfUploads: PropTypes.number,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileOrder: PropTypes.array,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    fileUploads: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    removeFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    uploadFile: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerIsOpen: PropTypes.bool,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    emojiPickerRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectEmoji: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getUsers: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    getCommands: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    textareaRef: PropTypes.object,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleSubmit: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    handleChange: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onSelectItem: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    text: PropTypes.string,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    onPaste: PropTypes.func,\n    /** @see See [MessageInput](https://getstream.github.io/stream-chat-react/#messageinput) for doc */\n    openEmojiPicker: PropTypes.func,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    watcher_count: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    typing: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    multipleUploads: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    maxNumberOfFiles: PropTypes.number,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channel) doc */\n    acceptedFiles: PropTypes.object,\n    /**\n     * Custom UI component for send button.\n     *\n     * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react/#sendbutton)\n     * */\n    SendButton: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Any additional attrubutes that you may want to add for underlying HTML textarea element.\n     */\n    additionalTextareaProps: PropTypes.object,\n  };\n\n  renderUploads = () => (\n    <>\n      {this.props.imageOrder.length > 0 && (\n        <ImagePreviewer\n          imageUploads={this.props.imageOrder.map(\n            (id) => this.props.imageUploads[id],\n          )}\n          handleRemove={this.props.removeImage}\n          handleRetry={this.props.uploadImage}\n          handleFiles={this.props.uploadNewFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n        />\n      )}\n      {this.props.fileOrder.length > 0 && (\n        <FilePreviewer\n          uploads={this.props.fileOrder.map((id) => this.props.fileUploads[id])}\n          handleRemove={this.props.removeFile}\n          handleRetry={this.props.uploadFile}\n          handleFiles={this.props.uploadNewFiles}\n        />\n      )}\n    </>\n  );\n\n  renderEmojiPicker = () => {\n    if (this.props.emojiPickerIsOpen) {\n      return (\n        <div\n          className=\"str-chat__small-message-input-emojipicker\"\n          ref={this.props.emojiPickerRef}\n        >\n          <Picker\n            native\n            emoji=\"point_up\"\n            title=\"Pick your emoji‚Ä¶\"\n            onSelect={this.props.onSelectEmoji}\n            color=\"#006CFF\"\n            showPreview={false}\n            emojisToShowFilter={filterEmoji}\n          />\n        </div>\n      );\n    }\n  };\n\n  render() {\n    const { t } = this.props;\n    const SendButton = this.props.SendButton;\n    return (\n      <div className=\"str-chat__small-message-input__wrapper\">\n        <ImageDropzone\n          accept={this.props.acceptedFiles}\n          multiple={this.props.multipleUploads}\n          disabled={\n            this.props.numberOfUploads >= this.props.maxNumberOfFiles\n              ? true\n              : false\n          }\n          handleFiles={this.props.uploadNewFiles}\n        >\n          <div\n            className={`str-chat__small-message-input ${\n              SendButton\n                ? 'str-chat__small-message-input--send-button-active'\n                : null\n            }`}\n          >\n            {this.renderUploads()}\n            {this.renderEmojiPicker()}\n            <div className=\"str-chat__small-message-input--textarea-wrapper\">\n              <ChatAutoComplete\n                users={this.props.getUsers()}\n                commands={this.props.getCommands()}\n                innerRef={this.props.textareaRef}\n                handleSubmit={this.props.handleSubmit}\n                onChange={this.props.handleChange}\n                value={this.props.text}\n                rows={1}\n                maxRows={this.props.maxRows}\n                onSelectItem={this.props.onSelectItem}\n                placeholder={t('Type your message')}\n                onPaste={this.props.onPaste}\n                grow={this.props.grow}\n                disabled={this.props.disabled}\n                additionalTextareaProps={this.props.additionalTextareaProps}\n              />\n\n              <span\n                className=\"str-chat__small-message-input-emojiselect\"\n                onClick={this.props.openEmojiPicker}\n              >\n                <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\"\n                    fillRule=\"evenodd\"\n                  />\n                </svg>\n              </span>\n              <FileUploadButton\n                multiple={this.props.multipleUploads}\n                disabled={\n                  this.props.numberOfUploads >= this.props.maxNumberOfFiles\n                    ? true\n                    : false\n                }\n                accepts={this.props.acceptedFiles}\n                handleFiles={this.props.uploadNewFiles}\n              >\n                <span\n                  className=\"str-chat__small-message-input-fileupload\"\n                  onClick={this.props.openFilePanel}\n                >\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z\"\n                      fillRule=\"nonzero\"\n                    />\n                  </svg>\n                </span>\n              </FileUploadButton>\n              {SendButton && (\n                <SendButton sendMessage={this.props.handleSubmit} />\n              )}\n            </div>\n          </div>\n        </ImageDropzone>\n      </div>\n    );\n  }\n}\n\nconst MessageInputSmallWithContext = withTranslationContext(MessageInputSmall);\n\nexport { MessageInputSmallWithContext as MessageInputSmall };\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ReverseInfiniteScroll extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    element: PropTypes.node,\n    /** Weather there are more elements to be loaded or not */\n    hasMore: PropTypes.bool,\n    initialLoad: PropTypes.bool,\n    isReverse: PropTypes.bool,\n    loader: PropTypes.node,\n    loadMore: PropTypes.func.isRequired,\n    pageStart: PropTypes.number,\n    threshold: PropTypes.number,\n    useCapture: PropTypes.bool,\n    useWindow: PropTypes.bool,\n    className: PropTypes.string,\n    /** The function is called when the list scrolls */\n    listenToScroll: PropTypes.func,\n  };\n\n  static defaultProps = {\n    element: 'div',\n    hasMore: false,\n    initialLoad: true,\n    pageStart: 0,\n    ref: null,\n    threshold: 250,\n    useWindow: true,\n    isReverse: true,\n    useCapture: false,\n    loader: null,\n    className: 'str-chat__reverse-infinite-scroll',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.scrollListener = this.scrollListener.bind(this);\n    this.scrollEventCount = 0;\n  }\n\n  componentDidMount() {\n    this.attachScrollListener();\n  }\n\n  componentWillUnmount() {\n    this.detachScrollListener();\n    this.detachMousewheelListener();\n  }\n\n  // Set a defaut loader for all your `InfiniteScroll` components\n  setDefaultLoader(loader) {\n    this.defaultLoader = loader;\n  }\n\n  detachMousewheelListener() {\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.scrollComponent.parentNode;\n    }\n\n    scrollEl.removeEventListener(\n      'mousewheel',\n      this.mousewheelListener,\n      this.props.useCapture,\n    );\n  }\n\n  detachScrollListener() {\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.getParentElement(this.scrollComponent);\n    }\n\n    scrollEl.removeEventListener(\n      'scroll',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n    scrollEl.removeEventListener(\n      'resize',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n  }\n\n  getParentElement(el) {\n    return el && el.parentNode;\n  }\n\n  filterProps(props) {\n    return props;\n  }\n\n  attachScrollListener() {\n    if (\n      !this.props.hasMore ||\n      this.props.isLoading ||\n      !this.getParentElement(this.scrollComponent)\n    ) {\n      return;\n    }\n\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.getParentElement(this.scrollComponent);\n    }\n\n    scrollEl.addEventListener(\n      'mousewheel',\n      this.mousewheelListener,\n      this.props.useCapture,\n    );\n    scrollEl.addEventListener(\n      'scroll',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n    scrollEl.addEventListener(\n      'resize',\n      this.scrollListener,\n      this.props.useCapture,\n    );\n\n    if (this.props.initialLoad) {\n      this.scrollListener();\n    }\n  }\n\n  mousewheelListener(e) {\n    // Prevents Chrome hangups\n    // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n    if (e.deltaY === 1) {\n      e.preventDefault();\n    }\n  }\n\n  scrollListener() {\n    const el = this.scrollComponent;\n    const scrollEl = window;\n    const parentNode = this.getParentElement(el);\n    this.scrollEventCount += 1;\n\n    let offset;\n    const reverseOffset = parentNode.scrollTop;\n    const standardOffset =\n      el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n    if (this.props.isReverse) {\n      offset = reverseOffset;\n    } else {\n      offset = standardOffset;\n    }\n    if (this.props.listenToScroll) {\n      this.props.listenToScroll(standardOffset, reverseOffset);\n    }\n\n    // a reverse infinite scroll element always starts out at position 0\n    // this counter prevent you from loading content before the user even scrolled\n    if (this.scrollEventCount < 2) {\n      return;\n    }\n\n    // prevent crazy repeat requests in case you don't have more\n    if (!this.props.hasMore || this.props.isLoading) {\n      return;\n    }\n\n    // Here we make sure the element is visible as well as checking the offset\n    if (\n      offset < Number(this.props.threshold) &&\n      el &&\n      el.offsetParent !== null\n    ) {\n      //this.detachScrollListener();\n      // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n      if (typeof this.props.loadMore === 'function') {\n        this.props.loadMore();\n      }\n    }\n  }\n\n  calculateOffset(el, scrollTop) {\n    if (!el) {\n      return 0;\n    }\n\n    return (\n      this.calculateTopPosition(el) +\n      (el.offsetHeight - scrollTop - window.innerHeight)\n    );\n  }\n\n  calculateTopPosition(el) {\n    if (!el) {\n      return 0;\n    }\n    return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n  }\n\n  render() {\n    const renderProps = this.filterProps(this.props);\n    const {\n      children,\n      element,\n      hasMore,\n      initialLoad,\n      isReverse,\n      loader,\n      loadMore,\n      pageStart,\n      ref,\n      threshold,\n      useCapture,\n      useWindow,\n      listenToScroll,\n      isLoading,\n      ...props\n    } = renderProps;\n\n    props.ref = (node) => {\n      this.scrollComponent = node;\n    };\n\n    const childrenArray = [children];\n    if (isLoading) {\n      if (loader) {\n        isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n      } else if (this.defaultLoader) {\n        isReverse\n          ? childrenArray.unshift(this.defaultLoader)\n          : childrenArray.push(this.defaultLoader);\n      }\n    }\n    return React.createElement(element, props, childrenArray);\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class MessageNotification extends PureComponent {\n  static propTypes = {\n    /** If we should show the notification or not */\n    showNotification: PropTypes.bool,\n    /** Onclick handler */\n    onClick: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    showNotification: true,\n  };\n\n  render() {\n    if (!this.props.showNotification) {\n      return null;\n    } else {\n      return (\n        <button\n          className=\"str-chat__message-notification\"\n          onClick={this.props.onClick}\n        >\n          {this.props.children}\n        </button>\n      );\n    }\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Message } from './Message';\nimport { withChannelContext, withTranslationContext } from '../context';\nimport PropTypes from 'prop-types';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { ReverseInfiniteScroll } from './ReverseInfiniteScroll';\nimport { MessageNotification } from './MessageNotification';\nimport { MessageSimple } from './MessageSimple';\nimport { Attachment } from './Attachment';\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { DateSeparator } from './DateSeparator';\nimport { EventComponent } from './EventComponent';\nimport { KEY_CODES } from './AutoCompleteTextarea';\nimport deepequal from 'deep-equal';\nimport { MESSAGE_ACTIONS } from '../utils';\n\n/* eslint sonarjs/no-duplicate-string: 0 */\n\n/**\n * MessageList - The message list components renders a list of messages. Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react/#channel)\n *\n * @example ./docs/MessageList.md\n * @extends PureComponent\n */\nclass MessageList extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      newMessagesNotification: false,\n      editing: '',\n      online: true,\n      notifications: [],\n    };\n\n    this.bottomRef = React.createRef();\n    this.messageList = React.createRef();\n    this.messageRefs = {};\n    this.notificationTimeouts = [];\n  }\n  static propTypes = {\n    /**\n     * Typing indicator UI component to render\n     *\n     * Defaults to and accepts same props as: [TypingIndicator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/TypingIndicator.js)\n     * */\n    TypingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Date separator UI component to render\n     *\n     * Defaults to and accepts same props as: [DateSeparator](https://github.com/GetStream/stream-chat-react/blob/master/src/components/DateSeparator.js)\n     * */\n    dateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** Turn off grouping of messages by user */\n    noGroupByUser: PropTypes.bool,\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /** Set the limit to use when paginating messages */\n    messageLimit: PropTypes.number,\n    /**\n     * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n     * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n     * */\n    messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    /**\n     * Boolean weather current message list is a thread.\n     */\n    threadList: PropTypes.bool,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for flagging a message is successful\n     *\n     * This function should accept following params:\n     *\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n     *\n     * */\n    getFlagMessageSuccessNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for flagging a message runs into error\n     *\n     * This function should accept following params:\n     *\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is flagged.\n     *\n     * */\n    getFlagMessageErrorNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for muting a user is successful\n     *\n     * This function should accept following params:\n     *\n     * @param user A user object which is being muted\n     *\n     * */\n    getMuteUserSuccessNotification: PropTypes.func,\n    /**\n     * Function that returns message/text as string to be shown as notification, when request for muting a user runs into error\n     *\n     * This function should accept following params:\n     *\n     * @param user A user object which is being muted\n     *\n     * */\n    getMuteUserErrorNotification: PropTypes.func,\n    /** **Available from [chat context](https://getstream.github.io/stream-chat-react/#chat)** */\n    client: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Custom UI component to display system messages.\n     *\n     * Defaults to and accepts same props as: [EventComponent](https://github.com/GetStream/stream-chat-react/blob/master/src/components/EventComponent.js)\n     */\n    MessageSystem: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * The UI Indicator to use when MessagerList or ChannelList is empty\n     * */\n    EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * Component to render at the top of the MessageList\n     * */\n    HeaderComponent: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    messages: PropTypes.array.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    channel: PropTypes.object.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    updateMessage: PropTypes.func.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    retrySendMessage: PropTypes.func,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    removeMessage: PropTypes.func,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    onMentionsClick: PropTypes.func,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    onMentionsHover: PropTypes.func,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    openThread: PropTypes.func,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    members: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    watchers: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    read: PropTypes.object,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    typing: PropTypes.object,\n    /**\n     * Additional props for underlying MessageInput component. We have instance of MessageInput\n     * component in MessageSimple component, for handling edit state.\n     * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n     * */\n    additionalMessageInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    Message: MessageSimple,\n    MessageSystem: EventComponent,\n    threadList: false,\n    Attachment,\n    dateSeparator: DateSeparator,\n    EmptyStateIndicator,\n    unsafeHTML: false,\n    noGroupByUser: false,\n    messageActions: Object.keys(MESSAGE_ACTIONS),\n  };\n\n  connectionChanged = (event) => {\n    if (this.state.online !== event.online) {\n      this.setState({ online: event.online });\n    }\n  };\n\n  componentDidMount() {\n    // start at the bottom\n    this.scrollToBottom();\n    const messageListRect = this.messageList.current.getBoundingClientRect();\n\n    this.setState({\n      messageListRect,\n    });\n\n    this.props.client.on('connection.changed', this.connectionChanged);\n\n    document.addEventListener('keydown', this.keypress);\n  }\n\n  componentWillUnmount() {\n    this.props.client.off('connection.changed', this.connectionChanged);\n\n    document.removeEventListener('keydown', this.keypress);\n    this.notificationTimeouts.forEach((ct) => {\n      clearTimeout(ct);\n    });\n  }\n\n  getSnapshotBeforeUpdate(prevProps) {\n    if (this.props.threadList) {\n      return null;\n    }\n    // Are we adding new items to the list?\n    // Capture the scroll position so we can adjust scroll later.\n\n    if (\n      prevProps.messages.length < this.props.messages.length ||\n      !deepequal(this.props.eventHistory, prevProps.eventHistory)\n    ) {\n      const list = this.messageList.current;\n      return {\n        offsetTop: list.scrollTop,\n        offsetBottom: list.scrollHeight - list.scrollTop,\n      };\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // If we have a snapshot value, we've just added new items.\n    // Adjust scroll so these new items don't push the old ones out of view.\n    // (snapshot here is the value returned from getSnapshotBeforeUpdate)\n    const userScrolledUp = this.userScrolledUp();\n    const currentLastMessage = this.props.messages[\n      this.props.messages.length - 1\n    ];\n    const previousLastMessage =\n      prevProps.messages[prevProps.messages.length - 1];\n    if (!previousLastMessage || !currentLastMessage) {\n      return;\n    }\n\n    const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n    const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n    const list = this.messageList.current;\n\n    // always scroll down when it's your own message that you added...\n    const scrollToBottom = hasNewMessage && (isOwner || !userScrolledUp);\n\n    if (scrollToBottom) {\n      this.scrollToBottom();\n      // Scroll further once attachments are laoded.\n      setTimeout(this.scrollToBottom, 100);\n\n      // remove the scroll notification if we already scrolled down...\n      this.state.newMessagesNotification &&\n        this.setState({ newMessagesNotification: false });\n\n      return;\n    }\n\n    if (snapshot !== null) {\n      // Maintain the offsetTop of scroll so that content in viewport doesn't move.\n      // This is for the case where user has scroll up significantly and a new message arrives from someone.\n      if (hasNewMessage) {\n        this.scrollToTarget(snapshot.offsetTop, this.messageList.current);\n      } else {\n        // Maintain the bottomOffset of scroll.\n        // This is for the case of pagination, when more messages get loaded.\n        this.scrollToTarget(\n          list.scrollHeight - snapshot.offsetBottom,\n          this.messageList.current,\n        );\n      }\n    }\n\n    // Check the scroll position... if you're scrolled up show a little notification\n    if (hasNewMessage && !this.state.newMessagesNotification) {\n      this.setState({ newMessagesNotification: true });\n    }\n  }\n\n  keypress = (event) => {\n    if (event.keyCode === KEY_CODES.ESC && this.state.editing) {\n      this.clearEditingState();\n    }\n  };\n\n  scrollToBottom = () => {\n    this._scrollToRef(this.bottomRef, this.messageList);\n  };\n\n  _scrollToRef = (el, parent) => {\n    function scrollDown() {\n      if (el && el.current && parent && parent.current) {\n        this.scrollToTarget(el.current, parent.current);\n      }\n    }\n    scrollDown.call(this);\n    // scroll down after images load again\n    setTimeout(scrollDown.bind(this), 200);\n  };\n\n  /**\n   * target - target to scroll to (DOM element, scrollTop Number, 'top', or 'bottom'\n   * containerEl - DOM element for the container with scrollbars\n   * source: https://stackoverflow.com/a/48429314\n   */\n  scrollToTarget = (target, containerEl) => {\n    // Moved up here for readability:\n    const isElement = target && target.nodeType === 1,\n      isNumber = Object.prototype.toString.call(target) === '[object Number]';\n\n    if (isElement) {\n      containerEl.scrollTop = target.offsetTop;\n    } else if (isNumber) {\n      containerEl.scrollTop = target;\n    } else if (target === 'bottom') {\n      containerEl.scrollTop =\n        containerEl.scrollHeight - containerEl.offsetHeight;\n    } else if (target === 'top') {\n      containerEl.scrollTop = 0;\n    }\n  };\n\n  setEditingState = (message) => {\n    this.setState({\n      editing: message.id,\n    });\n  };\n\n  clearEditingState = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    this.setState({\n      editing: '',\n    });\n  };\n\n  insertDates = (messages) => {\n    const newMessages = [];\n    for (const [i, message] of messages.entries()) {\n      if (message.type === 'message.read') {\n        newMessages.push(message);\n        continue;\n      }\n      const messageDate = message.created_at.toDateString();\n      let prevMessageDate = messageDate;\n      if (i > 0) {\n        prevMessageDate = messages[i - 1].created_at.toDateString();\n      }\n\n      if (i === 0 || messageDate !== prevMessageDate) {\n        newMessages.push(\n          { type: 'message.date', date: message.created_at },\n          message,\n        );\n      } else {\n        newMessages.push(message);\n      }\n\n      const eventsNextToMessage = this.props.eventHistory[\n        message.id || 'first'\n      ];\n      if (eventsNextToMessage && eventsNextToMessage.length > 0) {\n        eventsNextToMessage.forEach((e) => {\n          newMessages.push({\n            type: 'channel.event',\n            event: e,\n          });\n        });\n      }\n    }\n\n    return newMessages;\n  };\n\n  insertIntro = (messages) => {\n    const newMessages = messages || [];\n    // if no headerPosition is set, HeaderComponent will go at the top\n    if (!this.props.headerPosition) {\n      newMessages.unshift({\n        type: 'channel.intro',\n        // created_at: new Date(0),\n      });\n      return newMessages;\n    }\n\n    // if no messages, intro get's inserted\n    if (!newMessages.length) {\n      newMessages.unshift({\n        type: 'channel.intro',\n      });\n      return newMessages;\n    }\n\n    // else loop over the messages\n    for (const [i, message] of messages.entries()) {\n      const messageTime = message.created_at\n        ? message.created_at.getTime()\n        : null;\n      const nextMessageTime =\n        messages[i + 1] && messages[i + 1].created_at\n          ? messages[i + 1].created_at.getTime()\n          : null;\n      const { headerPosition } = this.props;\n\n      // headerposition is smaller than message time so comes after;\n      if (messageTime < headerPosition) {\n        // if header position is also smaller than message time continue;\n        if (nextMessageTime < headerPosition) {\n          if (messages[i + 1] && messages[i + 1].type === 'message.date')\n            continue;\n          if (!nextMessageTime) {\n            newMessages.push({ type: 'channel.intro' });\n            return newMessages;\n          }\n          continue;\n        } else {\n          newMessages.splice(i + 1, 0, { type: 'channel.intro' });\n          return newMessages;\n        }\n      }\n    }\n\n    return newMessages;\n  };\n\n  goToNewMessages = async () => {\n    await this.scrollToBottom();\n    this.setState({\n      newMessagesNotification: false,\n    });\n  };\n\n  getReadStates = (messages) => {\n    // create object with empty array for each message id\n    const readData = {};\n    for (const message of messages) {\n      readData[message.id] = [];\n    }\n\n    for (const readState of Object.values(this.props.read)) {\n      if (readState.last_read == null) {\n        break;\n      }\n      let userLastReadMsgId;\n      for (const msg of messages) {\n        if (msg.updated_at < readState.last_read) {\n          userLastReadMsgId = msg.id;\n        }\n      }\n      if (userLastReadMsgId != null) {\n        readData[userLastReadMsgId] = [\n          ...readData[userLastReadMsgId],\n          readState.user,\n        ];\n      }\n    }\n    return readData;\n  };\n\n  userScrolledUp = () => this.scrollOffset > 310;\n\n  listenToScroll = (offset) => {\n    this.scrollOffset = offset;\n    if (this.state.newMessagesNotification && !this.userScrolledUp()) {\n      this.setState({\n        newMessagesNotification: false,\n      });\n    }\n  };\n\n  getLastReceived = (messages) => {\n    const l = messages.length;\n    let lastReceivedId = null;\n    for (let i = l; i > 0; i--) {\n      if (\n        messages[i] !== undefined &&\n        messages[i].status !== undefined &&\n        messages[i].status === 'received'\n      ) {\n        lastReceivedId = messages[i].id;\n        break;\n      }\n    }\n    return lastReceivedId;\n  };\n\n  getGroupStyles = (m) => {\n    const l = m.length;\n    const messageGroupStyles = {};\n\n    const messages = [...m];\n\n    for (let i = 0; i < l; i++) {\n      const previousMessage = messages[i - 1];\n      const message = messages[i];\n      const nextMessage = messages[i + 1];\n      const groupStyles = [];\n\n      if (message.type === 'message.date') {\n        continue;\n      }\n\n      if (message.type === 'channel.event') {\n        continue;\n      }\n\n      if (message.type === 'channel.intro') {\n        continue;\n      }\n\n      const userId = message.user.id;\n\n      const isTopMessage =\n        !previousMessage ||\n        previousMessage.type === 'channel.intro' ||\n        previousMessage.type === 'message.date' ||\n        previousMessage.type === 'system' ||\n        previousMessage.type === 'channel.event' ||\n        previousMessage.attachments.length !== 0 ||\n        userId !== previousMessage.user.id ||\n        previousMessage.type === 'error' ||\n        previousMessage.deleted_at;\n\n      const isBottomMessage =\n        !nextMessage ||\n        nextMessage.type === 'message.date' ||\n        nextMessage.type === 'system' ||\n        nextMessage.type === 'channel.event' ||\n        nextMessage.type === 'channel.intro' ||\n        nextMessage.attachments.length !== 0 ||\n        userId !== nextMessage.user.id ||\n        nextMessage.type === 'error' ||\n        nextMessage.deleted_at;\n\n      if (isTopMessage) {\n        groupStyles.push('top');\n      }\n\n      if (isBottomMessage) {\n        if (isTopMessage || message.deleted_at || message.type === 'error') {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        } else {\n          groupStyles.push('bottom');\n        }\n      }\n\n      if (!isTopMessage && !isBottomMessage) {\n        if (message.deleted_at || message.type === 'error') {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        } else {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('middle');\n        }\n      }\n\n      if (message.attachments.length !== 0) {\n        groupStyles.splice(0, groupStyles.length);\n        groupStyles.push('single');\n      }\n\n      if (this.props.noGroupByUser) {\n        groupStyles.splice(0, groupStyles.length);\n        groupStyles.push('single');\n      }\n\n      messageGroupStyles[message.id] = groupStyles;\n    }\n\n    return messageGroupStyles;\n  };\n\n  _onMentionsHoverOrClick = (e, mentioned_users) => {\n    if (!this.props.onMentionsHover || !this.props.onMentionsClick) return;\n\n    const tagName = e.target.tagName.toLowerCase();\n    const textContent = e.target.innerHTML.replace('*', '');\n    if (tagName === 'strong' && textContent[0] === '@') {\n      const userName = textContent.replace('@', '');\n      const user = mentioned_users.find(\n        (user) => user.name === userName || user.id === userName,\n      );\n      if (this.props.onMentionsHover && e.type === 'mouseover') {\n        this.props.onMentionsHover(e, user);\n      }\n      if (this.props.onMentionsClick && e.type === 'click') {\n        this.props.onMentionsHover(e, user);\n      }\n    }\n  };\n\n  /**\n   * Adds a temporary notification to message list.\n   * Notification will be removed after 5 seconds.\n   *\n   * @param notificationText  Text of notification to be added\n   * @param type              Type of notification. success | error\n   */\n  addNotification = (notificationText, type) => {\n    if (typeof notificationText !== 'string') return;\n    if (type !== 'success' && type !== 'error') return;\n\n    const nextIndex = new Date();\n\n    const newNotifications = [...this.state.notifications];\n    newNotifications.push({\n      id: nextIndex,\n      text: notificationText,\n      type,\n    });\n    this.setState({\n      notifications: newNotifications,\n    });\n\n    // remove the notification after 5000 ms\n    const ct = setTimeout(() => {\n      const index = this.state.notifications.findIndex((notification) => {\n        if (notification.id === nextIndex) return true;\n        return false;\n      });\n      const newNotifications = [...this.state.notifications];\n      newNotifications.splice(index, 1);\n      this.setState({\n        notifications: newNotifications,\n      });\n    }, 5000);\n\n    this.notificationTimeouts.push(ct);\n  };\n\n  _loadMore = () =>\n    this.props.messageLimit\n      ? this.props.loadMore(this.props.messageLimit)\n      : this.props.loadMore();\n\n  // eslint-disable-next-line\n  render() {\n    let allMessages = [...this.props.messages];\n    const MessageSystem = this.props.MessageSystem;\n    allMessages = this.insertDates(allMessages);\n    if (this.props.HeaderComponent) {\n      allMessages = this.insertIntro(allMessages);\n    }\n    const messageGroupStyles = this.getGroupStyles(allMessages);\n\n    const {\n      TypingIndicator,\n      dateSeparator: DateSeparator,\n      HeaderComponent,\n      EmptyStateIndicator,\n      t,\n    } = this.props;\n\n    // sort by date\n    allMessages.sort((a, b) => a.created_at - b.created_at);\n\n    // get the readData\n    const readData = this.getReadStates(allMessages);\n\n    const lastReceivedId = this.getLastReceived(allMessages);\n    const elements = [];\n\n    // loop over the messages\n    for (const message of allMessages) {\n      if (message.id) {\n        this.messageRefs[message.id] = React.createRef();\n      }\n\n      if (message.type === 'message.date') {\n        if (this.props.threadList) {\n          continue;\n        }\n        elements.push(\n          <li key={message.date.toISOString() + '-i'}>\n            <DateSeparator date={message.date} />\n          </li>,\n        );\n      } else if (message.type === 'channel.intro') {\n        elements.push(\n          <li key=\"intro\">\n            <HeaderComponent />\n          </li>,\n        );\n      } else if (\n        message.type === 'channel.event' ||\n        message.type === 'system'\n      ) {\n        MessageSystem &&\n          elements.push(\n            <li\n              key={\n                message.type === 'system'\n                  ? message.created_at\n                  : message.type === 'channel.event'\n                  ? message.event.created_at\n                  : ''\n              }\n            >\n              <MessageSystem message={message} />\n            </li>,\n          );\n      } else if (message.type !== 'message.read') {\n        let groupStyles = messageGroupStyles[message.id];\n        if (!groupStyles) {\n          groupStyles = [];\n        }\n        const readBy = readData[message.id] || [];\n\n        elements.push(\n          <li\n            className={`str-chat__li str-chat__li--${groupStyles}`}\n            key={message.id || message.created_at}\n            ref={this.messageRefs[message.id]}\n          >\n            <Message\n              client={this.props.client}\n              openThread={this.props.openThread}\n              members={this.props.members}\n              watchers={this.props.watchers}\n              message={message}\n              groupStyles={groupStyles}\n              readBy={readBy}\n              lastReceivedId={\n                lastReceivedId === message.id ? lastReceivedId : null\n              }\n              editing={\n                !!(this.state.editing && this.state.editing === message.id)\n              }\n              clearEditingState={this.clearEditingState}\n              setEditingState={this.setEditingState}\n              messageListRect={this.state.messageListRect}\n              channel={this.props.channel}\n              threadList={this.props.threadList}\n              retrySendMessage={this.props.retrySendMessage}\n              addNotification={this.addNotification}\n              updateMessage={this.props.updateMessage}\n              removeMessage={this.props.removeMessage}\n              Message={this.props.Message}\n              unsafeHTML={this.props.unsafeHTML}\n              Attachment={this.props.Attachment}\n              onMentionsClick={this.props.onMentionsClick}\n              onMentionsHover={this.props.onMentionsHover}\n              messageActions={this.props.messageActions}\n              additionalMessageInputProps={\n                this.props.additionalMessageInputProps\n              }\n              getFlagMessageSuccessNotification={\n                this.props.getFlagMessageSuccessNotification\n              }\n              getFlagMessageErrorNotification={\n                this.props.getFlagMessageErrorNotification\n              }\n              getMuteUserSuccessNotification={\n                this.props.getMuteUserSuccessNotification\n              }\n              getMuteUserErrorNotification={\n                this.props.getMuteUserErrorNotification\n              }\n            />\n          </li>,\n        );\n      }\n    }\n    return (\n      <React.Fragment>\n        <div\n          className={`str-chat__list ${\n            this.props.threadList ? 'str-chat__list--thread' : ''\n          }`}\n          ref={this.messageList}\n        >\n          {!elements.length ? (\n            <EmptyStateIndicator listType=\"message\" />\n          ) : (\n            <ReverseInfiniteScroll\n              loadMore={this._loadMore}\n              hasMore={this.props.hasMore}\n              isLoading={this.props.loadingMore}\n              listenToScroll={this.listenToScroll}\n              useWindow={false}\n              loader={\n                <Center key=\"loadingindicator\">\n                  <LoadingIndicator size={20} />\n                </Center>\n              }\n            >\n              <ul className=\"str-chat__ul\">{elements}</ul>\n              {this.props.TypingIndicator && (\n                <TypingIndicator\n                  typing={this.props.typing}\n                  client={this.props.client}\n                />\n              )}\n              <div key=\"bottom\" ref={this.bottomRef} />\n            </ReverseInfiniteScroll>\n          )}\n        </div>\n\n        <div className=\"str-chat__list-notifications\">\n          {this.state.notifications.map((notification) => (\n            <Notification\n              active={true}\n              key={notification.id}\n              type={notification.type}\n            >\n              {notification.text}\n            </Notification>\n          ))}\n          <Notification active={!this.state.online} type=\"error\">\n            {t('Connection failure, reconnecting now...')}\n          </Notification>\n\n          <MessageNotification\n            showNotification={this.state.newMessagesNotification}\n            onClick={() => this.goToNewMessages()}\n          >\n            {t('New Messages!')}\n          </MessageNotification>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nMessageList = withChannelContext(withTranslationContext(MessageList));\nexport { MessageList };\n\nconst Center = ({ children }) => (\n  <div className=\"str-chat__list__center\">{children}</div>\n);\n\nconst Notification = ({ children, active, type }) => {\n  if (active) {\n    return (\n      <div className={`str-chat__custom-notification notification-${type}`}>\n        {children}\n      </div>\n    );\n  }\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { NimbleEmoji } from 'emoji-mart';\n\nimport { defaultMinimalEmojis, emojiSetDef, emojiData } from '../utils';\n\nexport class SimpleReactionsList extends React.PureComponent {\n  static propTypes = {\n    reactions: PropTypes.array,\n    /** Object/map of reaction id/type (e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry') vs count */\n    reaction_counts: PropTypes.object,\n    showTooltip: PropTypes.bool,\n    /** Provide a list of reaction options [{name: 'angry', emoji: 'angry'}] */\n    reactionOptions: PropTypes.array,\n    /**\n     * Handler to set/unset reaction on message.\n     *\n     * @param type e.g. 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * */\n    handleReaction: PropTypes.func,\n  };\n\n  static defaultProps = {\n    showTooltip: true,\n    reactionOptions: defaultMinimalEmojis,\n    emojiSetDef,\n  };\n\n  state = {\n    showTooltip: false,\n    users: [],\n  };\n\n  showTooltip = () => {\n    this.setState({\n      showTooltip: true,\n    });\n  };\n\n  hideTooltip = () => {\n    this.setState({\n      showTooltip: false,\n    });\n  };\n\n  handleReaction = (e, type) => {\n    if (e !== undefined && e.preventDefault) {\n      e.preventDefault();\n    }\n    this.props.handleReaction(type);\n    this.setUsernames(type);\n  };\n\n  getReactionCount = () => {\n    const reaction_counts = this.props.reaction_counts;\n    let count = null;\n    if (\n      reaction_counts !== null &&\n      reaction_counts !== undefined &&\n      Object.keys(reaction_counts).length > 0\n    ) {\n      count = 0;\n      Object.keys(reaction_counts).map(\n        (key) => (count += reaction_counts[key]),\n      );\n    }\n    return count;\n  };\n\n  renderUsers = (users) =>\n    users.map((user, i) => {\n      let text = user;\n      if (i + 1 < users.length) {\n        text += ', ';\n      }\n      return (\n        <span className=\"latest-user-username\" key={`key-${i}-${user}`}>\n          {text}\n        </span>\n      );\n    });\n\n  getReactionsByType = (reactions) => {\n    const reactionsByType = {};\n    reactions.map((item) => {\n      if (reactionsByType[item.type] === undefined) {\n        return (reactionsByType[item.type] = [item]);\n      } else {\n        return (reactionsByType[item.type] = [\n          ...reactionsByType[item.type],\n          item,\n        ]);\n      }\n    });\n    return reactionsByType;\n  };\n\n  renderReactions = (reactions) => {\n    const reactionsByType = this.getReactionsByType(reactions);\n    const reactionsEmojis = this.props.reactionOptions.reduce(\n      (acc, cur) => ({ ...acc, [cur.id]: cur }),\n      {},\n    );\n    return Object.keys(reactionsByType).map((type, i) => (\n      <li\n        className=\"str-chat__simple-reactions-list-item\"\n        key={`${reactionsByType[type][0].id}-${i}`}\n        onClick={(e) => this.handleReaction(e, type)}\n      >\n        <span onMouseEnter={() => this.setUsernames(type)}>\n          <NimbleEmoji\n            emoji={reactionsEmojis[type]}\n            {...emojiSetDef}\n            size={13}\n            data={emojiData}\n          />\n          &nbsp;\n        </span>\n      </li>\n    ));\n  };\n\n  getUsernames = (reactions) =>\n    reactions.map((item) =>\n      item.user !== null ? item.user.name || item.user.id : 'null',\n    );\n\n  setUsernames = (type) => {\n    const reactionsByType = this.getReactionsByType(this.props.reactions);\n\n    const reactions = reactionsByType[type];\n    const users = this.getUsernames(reactions);\n\n    this.setState(\n      {\n        users,\n      },\n      () => this.showTooltip(),\n    );\n  };\n\n  renderUsernames = (users) => users.join(', ');\n\n  render() {\n    const { reactions } = this.props;\n    if (!reactions || reactions.length === 0) {\n      return null;\n    }\n    return (\n      <ul\n        className=\"str-chat__simple-reactions-list\"\n        onMouseLeave={this.hideTooltip}\n      >\n        {this.state.showTooltip && (\n          <div\n            className=\"str-chat__simple-reactions-list-tooltip\"\n            ref={this.reactionSelectorTooltip}\n          >\n            <div className=\"arrow\" />\n            {this.renderUsernames(this.state.users)}\n          </div>\n        )}\n        {this.renderReactions(reactions)}\n        {reactions.length !== 0 && (\n          <li className=\"str-chat__simple-reactions-list-item--last-number\">\n            {this.getReactionCount()}\n          </li>\n        )}\n      </ul>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from './Avatar';\nimport { Attachment } from './Attachment';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { ReactionSelector } from './ReactionSelector';\nimport { SimpleReactionsList } from './SimpleReactionsList';\nimport { MessageInput } from './MessageInput';\nimport { EditMessageForm } from './EditMessageForm';\nimport { Gallery } from './Gallery';\nimport { MessageRepliesCountButton } from './MessageRepliesCountButton';\n\nimport { isOnlyEmojis, renderText } from '../utils';\nimport { withTranslationContext } from '../context';\n\nconst reactionSvg =\n  '<svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\" fillRule=\"evenodd\"/></svg>';\nconst threadSvg =\n  '<svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\" fillRule=\"evenodd\" /></svg>';\nconst optionsSvg =\n  '<svg width=\"11\" height=\"3\" viewBox=\"0 0 11 3\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fillRule=\"nonzero\" /></svg>';\n\n/**\n * MessageLivestream - Render component, should be used together with the Message component\n * Implements the look and feel for a livestream use case.\n *\n * @example ./docs/MessageLivestream.md\n * @extends PureComponent\n */\nclass MessageLivestream extends React.PureComponent {\n  static propTypes = {\n    /** The [message object](https://getstream.io/chat/docs/#message_format) */\n    message: PropTypes.object,\n    /**\n     * The attachment UI component.\n     * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     *\n     * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n     *\n     * The higher order message component, most logic is delegated to this component\n     * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n     *\n     * */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /** If its parent message in thread. */\n    initialMessage: PropTypes.bool,\n    /** Channel config object */\n    channelConfig: PropTypes.object,\n    /** If component is in thread list */\n    threadList: PropTypes.bool,\n    /** Function to open thread on current messxage */\n    handleOpenThread: PropTypes.func,\n    /** If the message is in edit state */\n    editing: PropTypes.bool,\n    /** Function to exit edit state */\n    clearEditingState: PropTypes.func,\n    /** Returns true if message belongs to current user */\n    isMyMessage: PropTypes.func,\n    /**\n     * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n     * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n     * */\n    getMessageActions: PropTypes.func,\n    /**\n     * Function to publish updates on message to channel\n     *\n     * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n     * */\n    updateMessage: PropTypes.func,\n    /**\n     * Reattempt sending a message\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n     */\n    handleRetry: PropTypes.func,\n    /**\n     * Add or remove reaction on message\n     *\n     * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * @param event Dom event which triggered this function\n     */\n    handleReaction: PropTypes.func,\n    /** If actions such as edit, delete, flag, mute are enabled on message */\n    actionsEnabled: PropTypes.bool,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /**\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    handleAction: PropTypes.func,\n    /**\n     * The handler for hover event on @mention in message\n     *\n     * @param event Dom hover event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsHoverMessage: PropTypes.func,\n    /**\n     * The handler for click event on @mention in message\n     *\n     * @param event Dom click event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsClickMessage: PropTypes.func,\n  };\n\n  static defaultProps = {\n    Attachment,\n  };\n\n  state = {\n    actionsBoxOpen: false,\n    reactionSelectorOpen: false,\n  };\n\n  reactionSelectorRef = React.createRef();\n  editMessageFormRef = React.createRef();\n\n  isMine() {\n    return this.props.isMyMessage(this.props.message);\n  }\n\n  onClickReactionsAction = () => {\n    this.setState(\n      {\n        reactionSelectorOpen: true,\n      },\n      () => document.addEventListener('click', this.hideReactions, false),\n    );\n  };\n\n  onClickOptionsAction = () => {\n    this.setState(\n      {\n        actionsBoxOpen: true,\n      },\n      () => document.addEventListener('click', this.hideOptions, false),\n    );\n  };\n\n  hideOptions = () => {\n    this.setState({\n      actionsBoxOpen: false,\n    });\n    document.removeEventListener('click', this.hideOptions, false);\n  };\n\n  hideReactions = (e) => {\n    if (\n      !this.reactionSelectorRef.current.reactionSelector.current.contains(\n        e.target,\n      )\n    ) {\n      this.setState({\n        reactionSelectorOpen: false,\n      });\n      document.removeEventListener('click', this.hideReactions, false);\n    }\n  };\n\n  onMouseLeaveMessage = () => {\n    this.hideOptions();\n    this.setState(\n      {\n        reactionSelectorOpen: false,\n      },\n      () => document.removeEventListener('click', this.hideReactions, false),\n    );\n  };\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.hideOptions, false);\n    document.removeEventListener('click', this.hideReactions, false);\n  }\n\n  render() {\n    const {\n      Attachment,\n      message,\n      groupStyles,\n      editing,\n      clearEditingState,\n      updateMessage,\n      initialMessage,\n      handleReaction,\n      actionsEnabled,\n      messageListRect,\n      channelConfig,\n      threadList,\n      handleOpenThread,\n      Message,\n      onMentionsHoverMessage,\n      onMentionsClickMessage,\n      unsafeHTML,\n      handleRetry,\n      handleAction,\n      getMessageActions,\n      isMyMessage,\n      handleFlag,\n      handleMute,\n      handleEdit,\n      handleDelete,\n      t,\n      tDateTimeParser,\n    } = this.props;\n    const hasAttachment = Boolean(\n      message.attachments && message.attachments.length,\n    );\n\n    let galleryImages = message.attachments.filter(\n      (item) => item.type === 'image',\n    );\n    let attachments = message.attachments;\n    if (galleryImages.length > 1) {\n      attachments = message.attachments.filter((item) => item.type !== 'image');\n    } else {\n      galleryImages = [];\n    }\n\n    if (message.type === 'message.read') {\n      return null;\n    }\n\n    if (message.type === 'message.date') {\n      return null;\n    }\n\n    if (message.deleted_at) {\n      return null;\n    }\n\n    if (editing) {\n      return (\n        <div\n          className={`str-chat__message-team str-chat__message-team--${groupStyles[0]} str-chat__message-team--editing`}\n          onMouseLeave={this.onMouseLeaveMessage}\n        >\n          {(groupStyles[0] === 'top' || groupStyles[0] === 'single') && (\n            <div className=\"str-chat__message-team-meta\">\n              <Avatar\n                image={message.user.image}\n                name={message.user.name || message.user.id}\n                size={40}\n              />\n            </div>\n          )}\n          <MessageInput\n            Input={EditMessageForm}\n            message={message}\n            clearEditingState={clearEditingState}\n            updateMessage={updateMessage}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <div\n          className={`str-chat__message-livestream str-chat__message-livestream--${\n            groupStyles[0]\n          } str-chat__message-livestream--${\n            message.type\n          } str-chat__message-livestream--${message.status} ${\n            initialMessage\n              ? 'str-chat__message-livestream--initial-message'\n              : ''\n          }`}\n          onMouseLeave={this.onMouseLeaveMessage}\n        >\n          {this.state.reactionSelectorOpen && (\n            <ReactionSelector\n              reverse={false}\n              handleReaction={handleReaction}\n              actionsEnabled={actionsEnabled}\n              detailedView\n              latest_reactions={message.latest_reactions}\n              reaction_counts={message.reaction_counts}\n              messageList={messageListRect}\n              ref={this.reactionSelectorRef}\n            />\n          )}\n          {!initialMessage &&\n            message.type !== 'error' &&\n            message.type !== 'system' &&\n            message.type !== 'ephemeral' &&\n            message.status !== 'failed' &&\n            message.status !== 'sending' && (\n              <div className={`str-chat__message-livestream-actions`}>\n                <span className={`str-chat__message-livestream-time`}>\n                  {tDateTimeParser(message.created_at).format('h:mmA')}\n                </span>\n                {channelConfig && channelConfig.reactions && (\n                  <span onClick={this.onClickReactionsAction}>\n                    <span\n                      dangerouslySetInnerHTML={{\n                        __html: reactionSvg,\n                      }}\n                    />\n                  </span>\n                )}\n                {!threadList && channelConfig && channelConfig.replies && (\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: threadSvg,\n                    }}\n                    onClick={(e) => handleOpenThread(e, message)}\n                  />\n                )}\n                {getMessageActions().length > 0 && (\n                  <span onClick={this.onClickOptionsAction}>\n                    <span\n                      dangerouslySetInnerHTML={{\n                        __html: optionsSvg,\n                      }}\n                    />\n                    <MessageActionsBox\n                      getMessageActions={getMessageActions}\n                      open={this.state.actionsBoxOpen}\n                      Message={Message}\n                      message={message}\n                      messageListRect={messageListRect}\n                      mine={isMyMessage(message)}\n                      handleFlag={handleFlag}\n                      handleMute={handleMute}\n                      handleEdit={handleEdit}\n                      handleDelete={handleDelete}\n                    />\n                  </span>\n                )}\n              </div>\n            )}\n\n          <div className={`str-chat__message-livestream-left`}>\n            <Avatar\n              image={message.user.image}\n              name={message.user.name || message.user.id}\n              size={30}\n            />\n          </div>\n          <div className={`str-chat__message-livestream-right`}>\n            <div className={`str-chat__message-livestream-content`}>\n              <div className=\"str-chat__message-livestream-author\">\n                <strong>{message.user.name || message.user.id}</strong>\n                {message.type === 'error' && (\n                  <div className=\"str-chat__message-team-error-header\">\n                    {t('Only visible to you')}\n                  </div>\n                )}\n              </div>\n\n              <div\n                className={\n                  isOnlyEmojis(message.text)\n                    ? 'str-chat__message-livestream-text--is-emoji'\n                    : ''\n                }\n                onMouseOver={onMentionsHoverMessage}\n                onClick={onMentionsClickMessage}\n              >\n                {message.type !== 'error' &&\n                  message.status !== 'failed' &&\n                  !unsafeHTML &&\n                  renderText(message)}\n\n                {message.type !== 'error' &&\n                  message.status !== 'failed' &&\n                  unsafeHTML && (\n                    <div dangerouslySetInnerHTML={{ __html: message.html }} />\n                  )}\n\n                {message.type === 'error' && !message.command && (\n                  <p>\n                    <svg\n                      width=\"14\"\n                      height=\"14\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\"\n                        fill=\"#EA152F\"\n                        fillRule=\"evenodd\"\n                      />\n                    </svg>\n                    {message.text}\n                  </p>\n                )}\n\n                {message.type === 'error' && message.command && (\n                  <p>\n                    <svg\n                      width=\"14\"\n                      height=\"14\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\"\n                        fill=\"#EA152F\"\n                        fillRule=\"evenodd\"\n                      />\n                    </svg>\n                    {/* TODO: Translate following sentence */}\n                    <strong>/{message.command}</strong> is not a valid command\n                  </p>\n                )}\n                {message.status === 'failed' && (\n                  <p onClick={handleRetry.bind(this, message)}>\n                    <svg\n                      width=\"14\"\n                      height=\"14\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\"\n                        fill=\"#EA152F\"\n                        fillRule=\"evenodd\"\n                      />\n                    </svg>\n                    {t('Message failed. Click to try again.')}\n                  </p>\n                )}\n              </div>\n\n              {hasAttachment &&\n                attachments.map((attachment, index) => (\n                  <Attachment\n                    key={`${message.id}-${index}`}\n                    attachment={attachment}\n                    actionHandler={handleAction}\n                  />\n                ))}\n\n              {galleryImages.length !== 0 && <Gallery images={galleryImages} />}\n\n              <SimpleReactionsList\n                reaction_counts={message.reaction_counts}\n                reactions={message.latest_reactions}\n                handleReaction={handleReaction}\n              />\n\n              {!initialMessage && (\n                <MessageRepliesCountButton\n                  onClick={handleOpenThread}\n                  reply_count={message.reply_count}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nMessageLivestream = withTranslationContext(MessageLivestream);\nexport { MessageLivestream };\n","import React, { PureComponent } from 'react';\nimport { Attachment } from './Attachment';\nimport { Avatar } from './Avatar';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { ReactionSelector } from './ReactionSelector';\nimport { EditMessageForm } from './EditMessageForm';\nimport { SimpleReactionsList } from './SimpleReactionsList';\nimport { MessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { Tooltip } from './Tooltip';\nimport { Gallery } from './Gallery';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\nimport { isOnlyEmojis, renderText } from '../utils';\nimport { withTranslationContext } from '../context';\n\nconst reactionSvg =\n  '<svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.108 8.05a.496.496 0 0 1 .212.667C10.581 10.147 8.886 11 7 11c-1.933 0-3.673-.882-4.33-2.302a.497.497 0 0 1 .9-.417C4.068 9.357 5.446 10 7 10c1.519 0 2.869-.633 3.44-1.738a.495.495 0 0 1 .668-.212zm.792-1.826a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.298 0-.431.168-.54.307A.534.534 0 0 1 9.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zm-7 0a.477.477 0 0 1-.119.692.541.541 0 0 1-.31.084.534.534 0 0 1-.428-.194c-.106-.138-.238-.306-.539-.306-.299 0-.432.168-.54.307A.533.533 0 0 1 2.538 7a.544.544 0 0 1-.31-.084.463.463 0 0 1-.117-.694c.33-.423.742-.722 1.394-.722.653 0 1.068.3 1.396.724zM7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0zm4.243 11.243A5.96 5.96 0 0 0 13 7a5.96 5.96 0 0 0-1.757-4.243A5.96 5.96 0 0 0 7 1a5.96 5.96 0 0 0-4.243 1.757A5.96 5.96 0 0 0 1 7a5.96 5.96 0 0 0 1.757 4.243A5.96 5.96 0 0 0 7 13a5.96 5.96 0 0 0 4.243-1.757z\" fillRule=\"evenodd\"/></svg>';\nconst threadSvg =\n  '<svg width=\"14\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z\" fillRule=\"evenodd\" /></svg>';\nconst optionsSvg =\n  '<svg width=\"11\" height=\"3\" viewBox=\"0 0 11 3\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" fillRule=\"nonzero\" /></svg>';\n\n/**\n * MessageTeam - Render component, should be used together with the Message component\n * Implements the look and feel for a team style collaboration environment\n *\n * @example ./docs/MessageTeam.md\n * @extends PureComponent\n */\nclass MessageTeam extends PureComponent {\n  static propTypes = {\n    /** The [message object](https://getstream.io/chat/docs/#message_format) */\n    message: PropTypes.object,\n    /**\n     * The attachment UI component.\n     * Default: [Attachment](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Attachment.js)\n     * */\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     *\n     * @deprecated Its not recommended to use this anymore. All the methods in this HOC are provided explicitly.\n     *\n     * The higher order message component, most logic is delegated to this component\n     * @see See [Message HOC](https://getstream.github.io/stream-chat-react/#message) for example\n     * */\n    Message: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n      PropTypes.object,\n    ]).isRequired,\n    /** render HTML instead of markdown. Posting HTML is only allowed server-side */\n    unsafeHTML: PropTypes.bool,\n    /** Client object */\n    client: PropTypes.object,\n    /** If its parent message in thread. */\n    initialMessage: PropTypes.bool,\n    /** Channel config object */\n    channelConfig: PropTypes.object,\n    /** If component is in thread list */\n    threadList: PropTypes.bool,\n    /** Function to open thread on current messxage */\n    handleOpenThread: PropTypes.func,\n    /** If the message is in edit state */\n    editing: PropTypes.bool,\n    /** Function to exit edit state */\n    clearEditingState: PropTypes.func,\n    /** Returns true if message belongs to current user */\n    isMyMessage: PropTypes.func,\n    /**\n     * Returns all allowed actions on message by current user e.g., [edit, delete, flag, mute]\n     * Please check [Message](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Message.js) component for default implementation.\n     * */\n    getMessageActions: PropTypes.func,\n    /**\n     * Function to publish updates on message to channel\n     *\n     * @param message Updated [message object](https://getstream.io/chat/docs/#message_format)\n     * */\n    updateMessage: PropTypes.func,\n    /**\n     * Reattempt sending a message\n     * @param message A [message object](https://getstream.io/chat/docs/#message_format) to resent.\n     */\n    handleRetry: PropTypes.func,\n    /**\n     * Add or remove reaction on message\n     *\n     * @param type Type of reaction - 'like' | 'love' | 'haha' | 'wow' | 'sad' | 'angry'\n     * @param event Dom event which triggered this function\n     */\n    handleReaction: PropTypes.func,\n    /** DOMRect object for parent MessageList component */\n    messageListRect: PropTypes.object,\n    /**\n     * Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n     *\n     * @param name {string} Name of action\n     * @param value {string} Value of action\n     * @param event Dom event that triggered this handler\n     */\n    handleAction: PropTypes.func,\n    /**\n     * The handler for hover event on @mention in message\n     *\n     * @param event Dom hover event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsHoverMessage: PropTypes.func,\n    /**\n     * The handler for click event on @mention in message\n     *\n     * @param event Dom click event which triggered handler.\n     * @param user Target user object\n     */\n    onMentionsClickMessage: PropTypes.func,\n    /** Position of message in group. Possible values: top, bottom, middle, single */\n    groupStyles: PropTypes.array,\n  };\n\n  static defaultProps = {\n    Attachment,\n    groupStyles: ['single'],\n  };\n\n  state = {\n    actionsBoxOpen: false,\n    reactionSelectorOpen: false,\n  };\n\n  reactionSelectorRef = React.createRef();\n  editMessageFormRef = React.createRef();\n\n  onClickReactionsAction = () => {\n    this.setState(\n      {\n        reactionSelectorOpen: true,\n      },\n      () => document.addEventListener('click', this.hideReactions, false),\n    );\n  };\n\n  onClickOptionsAction = () => {\n    this.setState(\n      {\n        actionsBoxOpen: true,\n      },\n      () => document.addEventListener('click', this.hideOptions, false),\n    );\n  };\n\n  hideOptions = () => {\n    this.setState({\n      actionsBoxOpen: false,\n    });\n    document.removeEventListener('click', this.hideOptions, false);\n  };\n\n  hideReactions = (e) => {\n    if (\n      !this.reactionSelectorRef.current.reactionSelector.current.contains(\n        e.target,\n      )\n    ) {\n      this.setState({\n        reactionSelectorOpen: false,\n      });\n      document.removeEventListener('click', this.hideReactions, false);\n    }\n  };\n\n  onMouseLeaveMessage = () => {\n    this.hideOptions();\n    this.setState(\n      {\n        reactionSelectorOpen: false,\n      },\n      () => document.removeEventListener('click', this.hideReactions, false),\n    );\n  };\n\n  // https://stackoverflow.com/a/29234240/7625485\n  formatArray = (arr) => {\n    const { t, client } = this.props;\n    let outStr = '';\n    const slicedArr = arr\n      .filter((item) => item.id !== client.user.id)\n      .map((item) => item.name || item.id)\n      .slice(0, 5);\n    const restLength = arr.length - slicedArr.length;\n\n    if (slicedArr.length === 1) {\n      outStr = slicedArr[0] + ' ';\n    } else if (slicedArr.length === 2) {\n      //joins all with \"and\" but =no commas\n      //example: \"bob and sam\"\n      outStr = t('{{ firstUser }} and {{ secondUser }}', {\n        firstUser: slicedArr[0],\n        secondUser: slicedArr[1],\n      });\n    } else if (slicedArr.length > 2) {\n      //joins all with commas, but last one gets \", and\" (oxford comma!)\n      //example: \"bob, joe, sam and 4 more\"\n      outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n        commaSeparatedUsers: slicedArr.join(', '),\n        moreCount: restLength,\n      });\n    }\n\n    return outStr;\n  };\n\n  isMine() {\n    return this.props.isMyMessage(this.props.message);\n  }\n\n  renderStatus = () => {\n    const {\n      readBy,\n      message,\n      threadList,\n      client,\n      lastReceivedId,\n      t,\n    } = this.props;\n    if (!this.isMine() || message.type === 'error') {\n      return null;\n    }\n    const justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n    if (message.status === 'sending') {\n      return (\n        <span className=\"str-chat__message-team-status\">\n          <Tooltip>{t('Sending...')}</Tooltip>\n          <LoadingIndicator isLoading />\n        </span>\n      );\n    } else if (readBy.length !== 0 && !threadList && !justReadByMe) {\n      const lastReadUser = readBy.filter(\n        (item) => item.id !== client.user.id,\n      )[0];\n      return (\n        <span className=\"str-chat__message-team-status\">\n          <Tooltip>{this.formatArray(readBy)}</Tooltip>\n          <Avatar\n            name={lastReadUser.name || lastReadUser.id}\n            image={lastReadUser.image}\n            size={15}\n          />\n          {readBy.length - 1 > 1 && (\n            <span className=\"str-chat__message-team-status-number\">\n              {readBy.length - 1}\n            </span>\n          )}\n        </span>\n      );\n    } else if (\n      message.status === 'received' &&\n      message.id === lastReceivedId &&\n      !threadList\n    ) {\n      return (\n        <span className=\"str-chat__message-team-status\">\n          <Tooltip>{t('Delivered')}</Tooltip>\n          <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z\"\n              fill=\"#006CFF\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </span>\n      );\n    } else {\n      return null;\n    }\n  };\n  componentWillUnmount() {\n    document.removeEventListener('click', this.hideOptions, false);\n    document.removeEventListener('click', this.hideReactions, false);\n  }\n\n  renderAttachments(attachments) {\n    const { Attachment, message, handleAction } = this.props;\n    return attachments.map((attachment, index) => (\n      <Attachment\n        key={`${message.id}-${index}`}\n        attachment={attachment}\n        actionHandler={handleAction}\n      />\n    ));\n  }\n\n  // eslint-disable-next-line\n  render() {\n    const {\n      message,\n      groupStyles,\n      editing,\n      clearEditingState,\n      updateMessage,\n      threadList,\n      initialMessage,\n      handleReaction,\n      channelConfig,\n      handleOpenThread,\n      Message,\n      messageListRect,\n      onMentionsHoverMessage,\n      onMentionsClickMessage,\n      unsafeHTML,\n      handleRetry,\n      getMessageActions,\n      isMyMessage,\n      handleFlag,\n      handleMute,\n      handleEdit,\n      handleDelete,\n      t,\n      tDateTimeParser,\n    } = this.props;\n    if (message.type === 'message.read') {\n      return null;\n    }\n    const hasAttachment = Boolean(\n      message.attachments && message.attachments.length,\n    );\n\n    if (message.deleted_at) {\n      return null;\n    }\n\n    let galleryImages =\n      message.attachments &&\n      message.attachments.filter((item) => item.type === 'image');\n    let attachments = message.attachments;\n    if (galleryImages && galleryImages.length > 1) {\n      attachments = message.attachments.filter((item) => item.type !== 'image');\n    } else {\n      galleryImages = [];\n    }\n\n    // determine reaction selector alignment\n    const reactionDirection = 'left';\n\n    if (editing) {\n      return (\n        <div\n          className={`str-chat__message-team str-chat__message-team--${groupStyles[0]} str-chat__message-team--editing`}\n          onMouseLeave={this.onMouseLeaveMessage}\n        >\n          {(groupStyles[0] === 'top' || groupStyles[0] === 'single') && (\n            <div className=\"str-chat__message-team-meta\">\n              <Avatar\n                image={message.user.image}\n                name={message.user.name || message.user.id}\n                size={40}\n              />\n            </div>\n          )}\n          <MessageInput\n            Input={EditMessageForm}\n            message={message}\n            clearEditingState={clearEditingState}\n            updateMessage={updateMessage}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <div\n          className={`str-chat__message-team str-chat__message-team--${\n            groupStyles[0]\n          } str-chat__message-team--${message.type} ${\n            threadList ? 'thread-list' : ''\n          } str-chat__message-team--${message.status}`}\n          onMouseLeave={this.onMouseLeaveMessage}\n        >\n          <div className=\"str-chat__message-team-meta\">\n            {groupStyles[0] === 'top' ||\n            groupStyles[0] === 'single' ||\n            initialMessage ? (\n              <Avatar\n                image={message.user.image}\n                name={message.user.name || message.user.id}\n                size={40}\n              />\n            ) : (\n              <div style={{ width: 40, marginRight: 0 }} />\n            )}\n\n            <time dateTime={message.created_at} title={message.created_at}>\n              {Boolean(Date.parse(message.created_at)) &&\n                tDateTimeParser(message.created_at).format('h:mmA')}\n            </time>\n          </div>\n          <div className=\"str-chat__message-team-group\">\n            {(groupStyles[0] === 'top' ||\n              groupStyles[0] === 'single' ||\n              initialMessage) && (\n              <div className=\"str-chat__message-team-author\">\n                <strong>{message.user.name || message.user.id}</strong>\n                {message.type === 'error' && (\n                  <div className=\"str-chat__message-team-error-header\">\n                    {t('Only visible to you')}\n                  </div>\n                )}\n              </div>\n            )}\n            <div\n              className={`str-chat__message-team-content str-chat__message-team-content--${\n                groupStyles[0]\n              } str-chat__message-team-content--${\n                message.text === '' ? 'image' : 'text'\n              }`}\n            >\n              {!initialMessage &&\n                message.status !== 'sending' &&\n                message.status !== 'failed' &&\n                message.type !== 'system' &&\n                message.type !== 'ephemeral' &&\n                message.type !== 'error' && (\n                  <div className={`str-chat__message-team-actions`}>\n                    {this.state.reactionSelectorOpen && (\n                      <ReactionSelector\n                        handleReaction={handleReaction}\n                        latest_reactions={message.latest_reactions}\n                        reaction_counts={message.reaction_counts}\n                        detailedView={true}\n                        direction={reactionDirection}\n                        ref={this.reactionSelectorRef}\n                      />\n                    )}\n\n                    {channelConfig && channelConfig.reactions && (\n                      <span\n                        title=\"Reactions\"\n                        dangerouslySetInnerHTML={{\n                          __html: reactionSvg,\n                        }}\n                        onClick={this.onClickReactionsAction}\n                      />\n                    )}\n                    {!threadList && channelConfig && channelConfig.replies && (\n                      <span\n                        title=\"Start a thread\"\n                        dangerouslySetInnerHTML={{\n                          __html: threadSvg,\n                        }}\n                        onClick={(e) => handleOpenThread(e, message)}\n                      />\n                    )}\n                    {getMessageActions().length > 0 && (\n                      <span onClick={this.onClickOptionsAction}>\n                        <span\n                          title=\"Message actions\"\n                          dangerouslySetInnerHTML={{\n                            __html: optionsSvg,\n                          }}\n                        />\n                        <MessageActionsBox\n                          getMessageActions={getMessageActions}\n                          Message={Message}\n                          open={this.state.actionsBoxOpen}\n                          message={message}\n                          messageListRect={messageListRect}\n                          mine={isMyMessage(message)}\n                          handleFlag={handleFlag}\n                          handleMute={handleMute}\n                          handleEdit={handleEdit}\n                          handleDelete={handleDelete}\n                        />\n                      </span>\n                    )}\n                  </div>\n                )}\n              <span\n                className={\n                  isOnlyEmojis(message.text)\n                    ? 'str-chat__message-team-text--is-emoji'\n                    : ''\n                }\n                onMouseOver={onMentionsHoverMessage}\n                onClick={onMentionsClickMessage}\n              >\n                {unsafeHTML ? (\n                  <div dangerouslySetInnerHTML={{ __html: message.html }} />\n                ) : (\n                  renderText(message)\n                )}\n              </span>\n\n              {galleryImages.length !== 0 && <Gallery images={galleryImages} />}\n\n              {message.text === '' && this.renderAttachments(attachments)}\n\n              {message.latest_reactions &&\n                message.latest_reactions.length !== 0 &&\n                message.text !== '' && (\n                  <SimpleReactionsList\n                    reaction_counts={message.reaction_counts}\n                    handleReaction={handleReaction}\n                    reactions={message.latest_reactions}\n                  />\n                )}\n              {message.status === 'failed' && (\n                <button\n                  className=\"str-chat__message-team-failed\"\n                  onClick={handleRetry.bind(this, message)}\n                >\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M7 0a7 7 0 1 0 0 14A7 7 0 0 0 7 0zm.875 10.938a.438.438 0 0 1-.438.437h-.875a.438.438 0 0 1-.437-.438v-.874c0-.242.196-.438.438-.438h.875c.241 0 .437.196.437.438v.874zm0-2.626a.438.438 0 0 1-.438.438h-.875a.438.438 0 0 1-.437-.438v-5.25c0-.241.196-.437.438-.437h.875c.241 0 .437.196.437.438v5.25z\"\n                      fill=\"#EA152F\"\n                      fillRule=\"evenodd\"\n                    />\n                  </svg>\n                  {t('Message failed. Click to try again.')}\n                </button>\n              )}\n            </div>\n            {this.renderStatus()}\n            {message.text !== '' &&\n              hasAttachment &&\n              this.renderAttachments(attachments)}\n            {message.latest_reactions &&\n              message.latest_reactions.length !== 0 &&\n              message.text === '' && (\n                <SimpleReactionsList\n                  reaction_counts={message.reaction_counts}\n                  handleReaction={handleReaction}\n                  reactions={message.latest_reactions}\n                />\n              )}\n            {!threadList && (\n              <MessageRepliesCountButton\n                onClick={handleOpenThread}\n                reply_count={message.reply_count}\n              />\n            )}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nMessageTeam = withTranslationContext(MessageTeam);\n\nexport { MessageTeam };\n","import React from 'react';\n\nimport { withChannelContext, withTranslationContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\n\nimport { Message } from './Message';\nimport { MessageInputSmall } from './MessageInputSmall';\nimport { smartRender } from '../utils';\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the standard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n * Underlying MessageList, MessageInput and Message components can be customized using props:\n * - additionalParentMessageProps\n * - additionalMessageListProps\n * - additionalMessageInputProps\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nclass Thread extends React.PureComponent {\n  static propTypes = {\n    /** Display the thread on 100% width of it's container. Useful for mobile style view */\n    fullWidth: PropTypes.bool,\n    /** Make input focus on mounting thread */\n    autoFocus: PropTypes.bool,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    channel: PropTypes.object.isRequired,\n    /** **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)** */\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n     * The thread (the parent [message object](https://getstream.io/chat/docs/#message_format)) */\n    thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n     * The array of immutable messages to render. By default they are provided by parent Channel component */\n    threadMessages: PropTypes.array.isRequired,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n     *\n     * Function which provides next page of thread messages.\n     * loadMoreThread is called when infinite scroll wants to load more messages\n     * */\n    loadMoreThread: PropTypes.func.isRequired,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n     * If there are more messages available, set to false when the end of pagination is reached.\n     * */\n    threadHasMore: PropTypes.bool,\n    /**\n     * **Available from [channel context](https://getstream.github.io/stream-chat-react/#channel)**\n     * If the thread is currently loading more messages. This is helpful to display a loading indicator on threadlist */\n    threadLoadingMore: PropTypes.bool,\n    /**\n     * Additional props for underlying Message component of parent message at the top.\n     * Available props - https://getstream.github.io/stream-chat-react/#message\n     * */\n    additionalParentMessageProps: PropTypes.object,\n    /**\n     * Additional props for underlying MessageList component.\n     * Available props - https://getstream.github.io/stream-chat-react/#messagelist\n     * */\n    additionalMessageListProps: PropTypes.object,\n    /**\n     * Additional props for underlying MessageInput component.\n     * Available props - https://getstream.github.io/stream-chat-react/#messageinput\n     * */\n    additionalMessageInputProps: PropTypes.object,\n    /** Customized MessageInput component to used within Thread instead of default MessageInput \n        Useable as follows:\n        ```\n        <Thread MessageInput={(props) => <MessageInput parent={props.parent} Input={MessageInputSmall} /> }/>\n        ```\n    */\n    MessageInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    threadHasMore: true,\n    threadLoadingMore: true,\n    fullWidth: false,\n    autoFocus: true,\n    MessageInput,\n  };\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n    const parentID = this.props.thread.id;\n    const cid = this.props.channel.cid;\n\n    const key = `thread-${parentID}-${cid}`;\n    // We use a wrapper to make sure the key variable is set.\n    // this ensures that if you switch thread the component is recreated\n    return <ThreadInner {...this.props} key={key} />;\n  }\n}\n\nclass ThreadInner extends React.PureComponent {\n  static propTypes = {\n    /** Channel is passed via the Channel Context */\n    channel: PropTypes.object.isRequired,\n    /** the thread (just a message) that we're rendering */\n    thread: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messageList = React.createRef();\n  }\n\n  async componentDidMount() {\n    const parentID = this.props.thread.id;\n    if (parentID && this.props.thread.reply_count) {\n      await this.props.loadMoreThread();\n    }\n  }\n  getSnapshotBeforeUpdate(prevProps) {\n    // Are we adding new items to the list?\n    // Capture the scroll position so we can adjust scroll later.\n    if (prevProps.threadMessages.length < this.props.threadMessages.length) {\n      const list = this.messageList.current;\n      return list.scrollHeight - list.scrollTop;\n    }\n    return null;\n  }\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    const parentID = this.props.thread.id;\n    if (\n      parentID &&\n      this.props.thread.reply_count > 0 &&\n      this.props.threadMessages.length === 0\n    ) {\n      await this.props.loadMoreThread();\n    }\n\n    // If we have a snapshot value, we've just added new items.\n    // Adjust scroll so these new items don't push the old ones out of view.\n    // (snapshot here is the value returned from getSnapshotBeforeUpdate)\n    if (snapshot !== null) {\n      const list = this.messageList.current;\n\n      const scrollDown = () => {\n        list.scrollTop = list.scrollHeight - snapshot;\n      };\n      scrollDown();\n      // scroll down after images load again\n      setTimeout(scrollDown, 100);\n    }\n  }\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n\n    const { t } = this.props;\n    const read = {};\n    return (\n      <div\n        className={`str-chat__thread ${\n          this.props.fullWidth ? 'str-chat__thread--full' : ''\n        }`}\n      >\n        <div className=\"str-chat__thread-header\">\n          <div className=\"str-chat__thread-header-details\">\n            <strong>{t('Thread')}</strong>\n            <small>\n              {' '}\n              {t('{{ replyCount }} replies', {\n                replyCount: this.props.thread.reply_count,\n              })}\n            </small>\n          </div>\n          <button\n            onClick={(e) => this.props.closeThread(e)}\n            className=\"str-chat__square-button\"\n          >\n            <svg width=\"10\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z\"\n                fillRule=\"evenodd\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"str-chat__thread-list\" ref={this.messageList}>\n          <Message\n            message={this.props.thread}\n            initialMessage\n            threadList\n            Message={this.props.Message}\n            // TODO: remove the following line in next release, since we already have additionalParentMessageProps now.\n            {...this.props}\n            {...this.props.additionalParentMessageProps}\n          />\n          <div className=\"str-chat__thread-start\">\n            {t('Start of a new thread')}\n          </div>\n          <MessageList\n            messages={this.props.threadMessages}\n            read={read}\n            threadList\n            loadMore={this.props.loadMoreThread}\n            hasMore={this.props.threadHasMore}\n            loadingMore={this.props.threadLoadingMore}\n            Message={this.props.Message}\n            {...this.props.additionalMessageListProps}\n          />\n          {smartRender(this.props.MessageInput, {\n            MessageInputSmall,\n            parent: this.props.thread,\n            focus: this.props.autoFocus,\n            ...this.props.additionalMessageInputProps,\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nThread = withChannelContext(withTranslationContext(Thread));\nexport { Thread };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Avatar } from './Avatar';\n\nexport class TypingIndicator extends React.PureComponent {\n  static propTypes = {\n    /** @see See [chat context](https://getstream.github.io/stream-chat-react/#chatcontext) doc */\n    client: PropTypes.object,\n    /** @see See [channel context](https://getstream.github.io/stream-chat-react/#channelcontext) doc */\n    typing: PropTypes.object,\n  };\n\n  render() {\n    // if (Object.keys(this.props.typing).length <= 0) {\n    //   return null;\n    // }\n\n    const typing = Object.values(this.props.typing);\n    let show;\n    if (\n      typing.length === 0 ||\n      (typing.length === 1 && typing[0].user.id === this.props.client.user.id)\n    ) {\n      show = false;\n    } else {\n      show = true;\n    }\n    return (\n      <div\n        className={`str-chat__typing-indicator ${\n          show ? 'str-chat__typing-indicator--typing' : ''\n        }`}\n      >\n        <div className=\"str-chat__typing-indicator__avatars\">\n          {typing\n            .filter(({ user }) => user.id !== this.props.client.user.id)\n            .map(({ user }) => (\n              <Avatar\n                image={user.image}\n                size={32}\n                name={user.name || user.id}\n                key={user.id}\n              />\n            ))}\n        </div>\n        <div className=\"str-chat__typing-indicator__dots\">\n          <span className=\"str-chat__typing-indicator__dot\" />\n          <span className=\"str-chat__typing-indicator__dot\" />\n          <span className=\"str-chat__typing-indicator__dot\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withChannelContext } from '../context';\n\n/**\n * Window - A UI component for conditionally displaying thread or channel.\n *\n * @example ./docs/Window.md\n * @extends PureComponent\n */\nclass Window extends React.PureComponent {\n  static propTypes = {\n    /** show or hide the window when a thread is active */\n    hideOnThread: PropTypes.bool,\n    /** Flag if thread is open or not */\n    thread: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  };\n\n  static defaultProps = {\n    hideOnThread: false,\n  };\n\n  render() {\n    const { thread, hideOnThread, children } = this.props;\n\n    // If thread is active and window should hide on thread. Return null\n    if (thread && hideOnThread) {\n      return null;\n    }\n    return <div className={`str-chat__main-panel`}>{children}</div>;\n  }\n}\n\nWindow = withChannelContext(Window);\nexport { Window };\n"]},"metadata":{},"sourceType":"module"}